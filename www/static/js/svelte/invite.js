!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/invite",e):(t=t||self).invite=e()}(this,(function(){"use strict";function t(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var e=t((function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e}));var r=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t};function o(){}function n(t,e){for(var r in e)t[r]=e[r];return t}function s(t,e){t.appendChild(e)}function a(t,e,r){t.insertBefore(e,r)}function i(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function u(t,e,r,o){t.addEventListener(e,r,o)}function d(t,e,r,o){t.removeEventListener(e,r,o)}function f(t,e,r){null==r?t.removeAttribute(e):t.setAttribute(e,r)}function l(t,e,r){t.style.setProperty(e,r)}function w(t,e,r){t.classList[r?"add":"remove"](e)}function h(){return Object.create(null)}function v(t,r){return t!=t?r==r:t!==r||t&&"object"===e(t)||"function"==typeof t}function m(t,e){return t!=t?e==e:t!==e}function g(t,e){var r=t in this._handlers&&this._handlers[t].slice();if(r)for(var o=0;o<r.length;o+=1){var n=r[o];if(!n.__calling)try{n.__calling=!0,n.call(this,e)}finally{n.__calling=!1}}}function _(t){t._lock=!0,S(t._beforecreate),S(t._oncreate),S(t._aftercreate),t._lock=!1}function b(){return this._state}function y(t,e){t._handlers=h(),t._slots=h(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function E(t,e){var r=this._handlers[t]||(this._handlers[t]=[]);return r.push(e),{cancel:function(){var t=r.indexOf(e);~t&&r.splice(t,1)}}}function S(t){for(;t&&t.length;)t.shift()()}var H={destroy:function(t){this.destroy=o,this.fire("destroy"),this.set=o,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:b,fire:g,on:E,set:function(t){this._set(n({},t)),this.root._lock||_(this.root)},_recompute:o,_set:function(t){var e=this._state,r={},o=!1;for(var s in t=n(this._staged,t),this._staged={},t)this._differs(t[s],e[s])&&(r[s]=o=!0);o&&(this._state=n(n({},e),t),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:e}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:e})))},_stage:function(t){n(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:v},O={};function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(O[t]=window.__dw.vis.meta.locale||{}):O[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function x(t){var e=arguments,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),O[r]||T(r),!O[r][t])return"MISSING:"+t;var o=O[r][t];return"string"==typeof o&&arguments.length>2&&(o=o.replace(/\$(\d)/g,(function(t,r){return r=2+Number(r),void 0===e[r]?t:e[r]}))),o}var k=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var j=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var R=function(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?j(t):r},L=t((function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(r)}t.exports=e})),z=t((function(t){function e(r,o){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(r,o)}t.exports=e}));var P=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)};var N=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")};var M=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}},q=t((function(t){function e(r,o,n){return M()?t.exports=e=Reflect.construct:t.exports=e=function(t,e,r){var o=[null];o.push.apply(o,e);var n=new(Function.bind.apply(t,o));return r&&z(n,r.prototype),n},e.apply(null,arguments)}t.exports=e})),C=t((function(t){function e(r){var o="function"==typeof Map?new Map:void 0;return t.exports=e=function(t){if(null===t||!N(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,e)}function e(){return q(t,arguments,L(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),z(e,t)},e(r)}t.exports=e}));var D=function(t,e){if(null==t)return{};var r,o,n={},s=Object.keys(t);for(o=0;o<s.length;o++)r=s[o],e.indexOf(r)>=0||(n[r]=t[r]);return n};var A=function(t,e){if(null==t)return{};var r,o,n=D(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)r=s[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n};function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function I(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?U(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function $(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=I({payload:null,raw:!1,method:"GET",baseUrl:"//".concat(dw.backend.__api_domain),mode:"cors",credentials:"include"},e,{headers:I({"Content-Type":"application/json"},e.headers)}),o=r.payload,n=r.baseUrl,s=r.raw,a=A(r,["payload","baseUrl","raw"]),i="".concat(n.replace(/\/$/,""),"/").concat(t.replace(/^\//,""));return o&&(a.body=JSON.stringify(o)),window.fetch(i,a).then((function(t){if(s)return t;if(!t.ok)throw new B(t);if(204===t.status||!t.headers.get("content-type"))return t;var e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()}))}$.get=G("GET"),$.patch=G("PATCH"),$.put=G("PUT"),$.post=G("POST"),$.head=G("HEAD");function G(t){return function(e,r){if(r&&r.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(t.toLowerCase(),"()"));return $(e,I({},r,{method:t}))}}$.delete=G("DELETE");var F,B=function(t){function e(t){var r;return k(this,e),(r=R(this,L(e).call(this))).name="HttpReqError",r.status=t.status,r.statusText=t.statusText,r.message="[".concat(t.status,"] ").concat(t.statusText),r.response=t,r}return P(e,t),e}(C(Error)),J=!1;function V(t){var e=t.password;return F?F(e):(!J&&e.length>4&&(J=!0,require(["zxcvbn"],(function(t){F=t}))),!1)}function K(t,e){var r,o=e.password.length>=8&&Q();return{c:function(){o&&o.c(),r=document.createComment("")},m:function(t,e){o&&o.m(t,e),a(t,r,e)},p:function(t,e){e.password.length>=8?o||((o=Q()).c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d:function(t){o&&o.d(t),t&&i(r)}}}function Q(t,e){return{c:o,m:o,d:o}}function W(t){y(this,t),this._state=n({password:""},t.data),this._recompute({password:1,passwordStrength:1,passwordTooShort:1,passwordHelp:1},this._state),this._intro=!0,this._fragment=K(0,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function X(){}function Y(t,e){if(!e)return t&&t.then?t.then(X):Promise.resolve()}n(W.prototype,H),W.prototype._recompute=function(t,e){t.password&&(this._differs(e.passwordTooShort,e.passwordTooShort=e.password.length<8)&&(t.passwordTooShort=!0),this._differs(e.passwordStrength,e.passwordStrength=V(e))&&(t.passwordStrength=!0)),(t.password||t.passwordStrength)&&this._differs(e.passwordHelp,e.passwordHelp=function(t){var e=t.password,r=t.passwordStrength;if(""===e||!r)return x("account / pwd-too-short").replace("%num",8);var o=["bad","weak","ok","good","excellent"][r.score];return x("account / password / ".concat(o))}(e))&&(t.passwordHelp=!0),(t.password||t.passwordTooShort||t.passwordStrength||t.passwordHelp)&&this._differs(e.passwordError,e.passwordError=function(t){var e=t.password,r=t.passwordTooShort,o=t.passwordStrength,n=t.passwordHelp;return!!e&&(r?x("account / pwd-too-short").replace("%num",8):!!(o&&o.score<2)&&n)}(e))&&(t.passwordError=!0),(t.passwordStrength||t.passwordHelp)&&this._differs(e.passwordSuccess,e.passwordSuccess=function(t){var e=t.passwordStrength,r=t.passwordHelp;return!!(e&&e.score>2)&&r}(e))&&(t.passwordSuccess=!0),(t.password||t.passwordTooShort)&&this._differs(e.passwordOk,e.passwordOk=function(t){var e=t.password,r=t.passwordTooShort;return e&&!r}(e))&&(t.passwordOk=!0)};var Z={doSignUp:function(){try{var t=this,e=window.location.pathname.split("/").pop(),r=t.get(),o=r.password,n=r.redirect,s=r.isPasswordReset;return t.set({loggingIn:!0}),function(t,e){return t&&t.then?t.then(e):e(t)}(function(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}((function(){return r=function(){t.set({activateSuccess:"Password was set up successfully!"}),setTimeout((function(){window.location.href=n}),1e3)},(a=function(){return Y(s?$.post("/v3/auth/change-password",{payload:{token:e,password:o}}):$.post("/v3/auth/activate/".concat(e),{payload:{password:o}}))}())&&a.then?a.then(r):r(a);var r,a}),(function(e){return function(t){var e=t();if(e&&e.then)return e.then(X)}((function(){if("HttpReqError"===e.name)return r=e.response.json(),o=function(r){t.set({activateError:r?r.message:e.message})},n?o?o(r):r:(r&&r.then||(r=Promise.resolve(r)),o?r.then(o):r);var r,o,n;t.set({activateError:e})}))})),(function(){t.set({loggingIn:!1})}))}catch(t){return Promise.reject(t)}}};function tt(t,e){var r,o,n,h,v,m,g,_,b,y,E,S,H,O,T,k,j,R,L,z,P,N,M,q,C,D,A,U,I,$,G=x("password"),F={},B=x("account / invite / password-clear-text");function J(e){t.set({windowHeight:this.innerHeight})}window.addEventListener("resize",J);var V=e.customLogo&&et(t,e);function K(t){return t.clearText?ot:rt}var Q=K(e),X=Q(t,e),Y={};void 0!==e.password&&(Y.password=e.password,F.password=!0),void 0!==e.password&&(Y.passwordRepeat=e.password,F.passwordRepeat=!0),void 0!==e.passwordHelp&&(Y.passwordHelp=e.passwordHelp,F.passwordHelp=!0),void 0!==e.passwordSuccess&&(Y.passwordSuccess=e.passwordSuccess,F.passwordSuccess=!0),void 0!==e.passwordError&&(Y.passwordError=e.passwordError,F.passwordError=!0),void 0!==e.passwordRepeatError&&(Y.passwordRepeatError=e.passwordRepeatError,F.passwordRepeatError=!0),void 0!==e.passwordOk&&(Y.passwordOk=e.passwordOk,F.passwordOk=!0);var Z=new W({root:t.root,store:t.store,data:Y,_bind:function(e,r){var o={};!F.password&&e.password&&(o.password=r.password),!F.passwordRepeat&&e.passwordRepeat&&(o.password=r.passwordRepeat),!F.passwordHelp&&e.passwordHelp&&(o.passwordHelp=r.passwordHelp),!F.passwordSuccess&&e.passwordSuccess&&(o.passwordSuccess=r.passwordSuccess),!F.passwordError&&e.passwordError&&(o.passwordError=r.passwordError),!F.passwordRepeatError&&e.passwordRepeatError&&(o.passwordRepeatError=r.passwordRepeatError),!F.passwordOk&&e.passwordOk&&(o.passwordOk=r.passwordOk),t._set(o),F={}}});function tt(t){return t.passwordError?at:t.passwordSuccess?st:t.passwordHelp?nt:void 0}t.root._beforecreate.push((function(){Z._bind({password:1,passwordRepeat:1,passwordHelp:1,passwordSuccess:1,passwordError:1,passwordRepeatError:1,passwordOk:1},Z.get())}));var ft=tt(e),lt=ft&&ft(t,e);function wt(){t.set({clearText:L.checked})}var ht=e.activateError&&it(t,e),vt=e.activateSuccess&&ct(t,e),mt=e.email&&pt(t,e);function gt(t){return t.signingUp?dt:ut}var _t=gt(e),bt=_t(t,e);function yt(e){t.doSignUp()}function Et(){t.set({modalHeight:o.clientHeight})}return{c:function(){V&&V.c(),r=p("\n\n\n\n"),o=c("div"),n=c("div"),h=c("h3"),v=p("\n        "),m=c("p"),g=p("\n\n        "),_=c("div"),b=c("div"),y=c("div"),E=c("label"),S=p(G),H=p("\n                    "),X.c(),O=p("\n                    "),Z._fragment.c(),T=p("\n                    "),lt&&lt.c(),k=p("\n            "),j=c("div"),R=c("label"),L=c("input"),z=p(" "),P=p(B),N=p("\n            "),ht&&ht.c(),M=p(" "),vt&&vt.c(),q=p(" "),mt&&mt.c(),C=p("\n\n        "),D=c("button"),A=c("noscript"),U=p(" Â  "),bt.c(),h.className="svelte-1dqizzw",E.className="svelte-1dqizzw",y.className="controls",b.className="control-group svelte-1dqizzw",w(b,"warning",e.passwordError),w(b,"success",e.passwordSuccess),u(L,"change",wt),f(L,"type","checkbox"),L.className="pwd-clear",R.className="checkbox svelte-1dqizzw",j.className="control-group svelte-1dqizzw",_.className="login-form form-vertical",u(D,"click",yt),D.disabled=I=!e.passwordOk,D.className="btn btn-primary btn-large login",n.className="modal-body svelte-1dqizzw",t.root._aftercreate.push(Et),o.className="modal svelte-1dqizzw",l(o,"margin-top",e.marginTop+"px")},m:function(t,i){V&&V.m(t,i),a(t,r,i),a(t,o,i),s(o,n),s(n,h),h.innerHTML=e.headline,s(n,v),s(n,m),m.innerHTML=e.intro,s(n,g),s(n,_),s(_,b),s(b,y),s(y,E),s(E,S),s(y,H),X.m(y,null),s(y,O),Z._mount(y,null),s(y,T),lt&&lt.m(y,null),s(_,k),s(_,j),s(j,R),s(R,L),L.checked=e.clearText,s(R,z),s(R,P),s(_,N),ht&&ht.m(_,null),s(_,M),vt&&vt.m(_,null),s(_,q),mt&&mt.m(_,null),s(n,C),s(n,D),s(D,A),A.insertAdjacentHTML("beforebegin",e.button),s(D,U),bt.m(D,null),$=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");var r,o=document.createElement("object");return o.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),o.type="text/html",o.onload=function(){(r=o.contentDocument.defaultView).addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(t.appendChild(o),o.data="about:blank"):(o.data="about:blank",t.appendChild(o)),{cancel:function(){r&&r.removeEventListener&&r.removeEventListener("resize",e),t.removeChild(o)}}}(o,Et)},p:function(n,s){(e=s).customLogo?V?V.p(n,e):((V=et(t,e)).c(),V.m(r.parentNode,r)):V&&(V.d(1),V=null),n.headline&&(h.innerHTML=e.headline),n.intro&&(m.innerHTML=e.intro),Q===(Q=K(e))&&X?X.p(n,e):(X.d(1),(X=Q(t,e)).c(),X.m(y,O));var a={};!F.password&&n.password&&(a.password=e.password,F.password=void 0!==e.password),!F.passwordRepeat&&n.password&&(a.passwordRepeat=e.password,F.passwordRepeat=void 0!==e.password),!F.passwordHelp&&n.passwordHelp&&(a.passwordHelp=e.passwordHelp,F.passwordHelp=void 0!==e.passwordHelp),!F.passwordSuccess&&n.passwordSuccess&&(a.passwordSuccess=e.passwordSuccess,F.passwordSuccess=void 0!==e.passwordSuccess),!F.passwordError&&n.passwordError&&(a.passwordError=e.passwordError,F.passwordError=void 0!==e.passwordError),!F.passwordRepeatError&&n.passwordRepeatError&&(a.passwordRepeatError=e.passwordRepeatError,F.passwordRepeatError=void 0!==e.passwordRepeatError),!F.passwordOk&&n.passwordOk&&(a.passwordOk=e.passwordOk,F.passwordOk=void 0!==e.passwordOk),Z._set(a),F={},ft===(ft=tt(e))&&lt?lt.p(n,e):(lt&&lt.d(1),(lt=ft&&ft(t,e))&&lt.c(),lt&&lt.m(y,null)),n.passwordError&&w(b,"warning",e.passwordError),n.passwordSuccess&&w(b,"success",e.passwordSuccess),n.clearText&&(L.checked=e.clearText),e.activateError?ht?ht.p(n,e):((ht=it(t,e)).c(),ht.m(_,M)):ht&&(ht.d(1),ht=null),e.activateSuccess?vt?vt.p(n,e):((vt=ct(t,e)).c(),vt.m(_,q)):vt&&(vt.d(1),vt=null),e.email?mt?mt.p(n,e):((mt=pt(t,e)).c(),mt.m(_,null)):mt&&(mt.d(1),mt=null),n.button&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(A),A.insertAdjacentHTML("beforebegin",e.button)),_t!==(_t=gt(e))&&(bt.d(1),(bt=_t(t,e)).c(),bt.m(D,null)),n.passwordOk&&I!==(I=!e.passwordOk)&&(D.disabled=I),n.marginTop&&l(o,"margin-top",e.marginTop+"px")},d:function(t){window.removeEventListener("resize",J),V&&V.d(t),t&&(i(r),i(o)),X.d(),Z.destroy(),lt&&lt.d(),d(L,"change",wt),ht&&ht.d(),vt&&vt.d(),mt&&mt.d(),bt.d(),d(D,"click",yt),$.cancel()}}}function et(t,e){var r,o,n;return{c:function(){r=c("div"),(o=c("img")).src=n="/static/custom/"+{customLogo:e.customLogo}+"}",l(o,"height","50px"),o.alt="logo",r.className="brand"},m:function(t,e){a(t,r,e),s(r,o)},p:function(t,e){t.customLogo&&n!==(n="/static/custom/"+{customLogo:e.customLogo}+"}")&&(o.src=n)},d:function(t){t&&i(r)}}}function rt(t,e){var r,o=!1;function n(){o=!0,t.set({password:r.value}),o=!1}return{c:function(){u(r=c("input"),"input",n),r.dataset.lpignore="true",r.className="login-pwd input-xlarge span3 svelte-1dqizzw",f(r,"type","password")},m:function(t,o){a(t,r,o),r.value=e.password},p:function(t,e){!o&&t.password&&(r.value=e.password)},d:function(t){t&&i(r),d(r,"input",n)}}}function ot(t,e){var r,o=!1;function n(){o=!0,t.set({password:r.value}),o=!1}return{c:function(){u(r=c("input"),"input",n),r.dataset.lpignore="true",r.className="login-pwd input-xlarge span3 svelte-1dqizzw",f(r,"type","text")},m:function(t,o){a(t,r,o),r.value=e.password},p:function(t,e){!o&&t.password&&(r.value=e.password)},d:function(t){t&&i(r),d(r,"input",n)}}}function nt(t,e){var r;return{c:function(){(r=c("p")).className="help muted svelte-1dqizzw"},m:function(t,o){a(t,r,o),r.innerHTML=e.passwordHelp},p:function(t,e){t.passwordHelp&&(r.innerHTML=e.passwordHelp)},d:function(t){t&&i(r)}}}function st(t,e){var r;return{c:function(){(r=c("p")).className="help text-success svelte-1dqizzw"},m:function(t,o){a(t,r,o),r.innerHTML=e.passwordSuccess},p:function(t,e){t.passwordSuccess&&(r.innerHTML=e.passwordSuccess)},d:function(t){t&&i(r)}}}function at(t,e){var r;return{c:function(){(r=c("p")).className="help text-warning svelte-1dqizzw"},m:function(t,o){a(t,r,o),r.innerHTML=e.passwordError},p:function(t,e){t.passwordError&&(r.innerHTML=e.passwordError)},d:function(t){t&&i(r)}}}function it(t,e){var r;return{c:function(){(r=c("div")).className="alert alert-warning"},m:function(t,o){a(t,r,o),r.innerHTML=e.activateError},p:function(t,e){t.activateError&&(r.innerHTML=e.activateError)},d:function(t){t&&i(r)}}}function ct(t,e){var r;return{c:function(){(r=c("div")).className="alert alert-success"},m:function(t,o){a(t,r,o),r.innerHTML=e.activateSuccess},p:function(t,e){t.activateSuccess&&(r.innerHTML=e.activateSuccess)},d:function(t){t&&i(r)}}}function pt(t,e){var r,o=x("account / invite / your-login-is").replace("%s",'<span class="email"\n                    >'.concat(e.email,"</span\n                >"));return{c:function(){(r=c("div")).className="control-group login-help svelte-1dqizzw"},m:function(t,e){a(t,r,e),r.innerHTML=o},p:function(t,e){t.email&&o!==(o=x("account / invite / your-login-is").replace("%s",'<span class="email"\n                    >'.concat(e.email,"</span\n                >")))&&(r.innerHTML=o)},d:function(t){t&&i(r)}}}function ut(t,e){var r;return{c:function(){(r=c("i")).className="fa fa-fw fa-chevron-right"},m:function(t,e){a(t,r,e)},d:function(t){t&&i(r)}}}function dt(t,e){var r;return{c:function(){(r=c("i")).className="fa fa-fw fa-spinner fa-pulse"},m:function(t,e){a(t,r,e)},d:function(t){t&&i(r)}}}function ft(t){y(this,t),this._state=n({redirect:"/",password:"",passwordOk:!1,passwordHelp:!1,passwordSuccess:!1,passwordError:!1,passwordRepeatError:!1,loggingIn:!1,activateSuccess:!1,activateError:!1,windowHeight:1e3,modalHeight:300,clearText:!1,headline:"",intro:"",email:"",button:"Set password",isPasswordReset:!1},t.data),this._state.windowHeight=window.innerHeight,this._recompute({windowHeight:1,modalHeight:1},this._state),this._intro=!0,this._fragment=tt(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),_(this))}function lt(t,e){this._handlers={},this._dependents=[],this._computed=h(),this._sortedComputedProperties=[],this._state=n({},t),this._differs=e&&e.immutable?m:v}n(ft.prototype,H),n(ft.prototype,Z),ft.prototype._recompute=function(t,e){var r;(t.windowHeight||t.modalHeight)&&this._differs(e.marginTop,e.marginTop=.5*((r=e).windowHeight-r.modalHeight))&&(t.marginTop=!0)},n(lt.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},r=0;r<t.length;r+=1){var o=t[r];e["$"+o]=this._state[o]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var r=this,o=this._state;this._state=n(n({},o),t);for(var s=0;s<this._sortedComputedProperties.length;s+=1)this._sortedComputedProperties[s].update(this._state,e);this.fire("state",{changed:e,previous:o,current:this._state}),this._dependents.filter((function(t){for(var o={},n=!1,s=0;s<t.props.length;s+=1){var a=t.props[s];a in e&&(o["$"+a]=r._state[a],n=!0)}if(n)return t.component._stage(o),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:o,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,r=this._sortedComputedProperties=[],o=h();function n(s){var a=e[s];a&&(a.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(s));n(e)})),o[s]||(o[s]=!0,r.push(a)))}for(var s in this._computed)n(t=s)},compute:function(t,e,r){var o,s=this,a={deps:e,update:function(n,a,i){var c=e.map((function(t){return t in a&&(i=!0),n[t]}));if(i){var p=r.apply(null,c);s._differs(p,o)&&(o=p,a[t]=!0,n[t]=o)}}};this._computed[t]=a,this._sortComputedProperties();var i=n({},this._state),c={};a.update(i,c,!0),this._set(i,c)},fire:g,get:b,on:E,set:function(t){var e=this._state,r=this._changed={},o=!1;for(var n in t){if(this._computed[n])throw new Error("'".concat(n,"' is a read-only computed property"));this._differs(t[n],e[n])&&(r[n]=o=!0)}o&&this._set(t,r)}});return{App:ft,data:{},store:new lt({}),init:function(t){}}}));
