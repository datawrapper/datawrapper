!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/account",e):(t=t||self).account=e()}(this,(function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){for(var n in e)t[n]=1;return t}function a(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n)}function s(t){t.parentNode.removeChild(t)}function o(t,e){for(;t.nextSibling;)e.appendChild(t.nextSibling)}function c(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function i(){return document.createDocumentFragment()}function u(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function d(){return document.createComment("")}function f(t,e,n,a){t.addEventListener(e,n,a)}function m(t,e,n,a){t.removeEventListener(e,n,a)}function p(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function h(t,e){t.data=""+e}function v(t,e,n){t.style.setProperty(e,n)}function w(t,e){for(var n=0;n<t.options.length;n+=1){var a=t.options[n];if(a.__value===e)return void(a.selected=!0)}}function g(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function b(t,e,n){t.classList[n?"add":"remove"](e)}function _(t,n){var a,r,s=n.token={};function o(t,a,r,o){var c;if(n.token===s){n.resolved=r&&((c={})[r]=o,c);var i=e(e({},n.ctx),n.resolved),u=t&&(n.current=t)(n.component,i);n.block&&(n.blocks?n.blocks.forEach((function(t,e){e!==a&&t&&t.o((function(){t.d(1),n.blocks[e]=null}))})):n.block.d(1),u.c(),u[u.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=u,n.blocks&&(n.blocks[a]=u)}}if((r=t)&&"function"==typeof r.then){if(t.then((function(t){o(n.then,1,n.value,t)}),(function(t){o(n.catch,2,n.error,t)})),n.current!==n.pending)return o(n.pending,0),!0}else{if(n.current!==n.then)return o(n.then,1,n.value,t),!0;n.resolved=((a={})[n.value]=t,a)}}function T(){return Object.create(null)}function y(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function N(t,e){return t!=t?e==e:t!==e}function k(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var a=0;a<n.length;a+=1){var r=n[a];if(!r.__calling)try{r.__calling=!0,r.call(this,e)}finally{r.__calling=!1}}}function E(t){t._lock=!0,O(t._beforecreate),O(t._oncreate),O(t._aftercreate),t._lock=!1}function P(){return this._state}function H(t,e){t._handlers=T(),t._slots=T(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function S(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function O(t){for(;t&&t.length;)t.shift()()}var x={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:P,fire:k,on:S,set:function(t){this._set(e({},t)),this.root._lock||E(this.root)},_recompute:t,_set:function(t){var n=this._state,a={},r=!1;for(var s in t=e(this._staged,t),this._staged={},t)this._differs(t[s],n[s])&&(a[s]=r=!0);r&&(this._state=e(e({},n),t),this._recompute(a,this._state),this._bind&&this._bind(a,this._state),this._fragment&&(this.fire("state",{changed:a,current:this._state,previous:n}),this._fragment.p(a,this._state),this.fire("update",{changed:a,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:y},A={};function q(t){void 0===t&&(t="core"),"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(A[t]=window.__dw.vis.meta.locale||{}):A[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function R(t,e){var n=arguments;if(void 0===e&&(e="core"),t=t.trim(),A[e]||q(e),!A[e][t])return"MISSING:"+t;var a=A[e][t];return"string"==typeof a&&arguments.length>2&&(a=a.replace(/\$(\d)/g,(function(t,e){return e=2+Number(e),void 0===n[e]?t:n[e]}))),a}function L(t,e,n){return void 0===e&&(e=11),void 0===n&&(n=7),"string"!=typeof t?t:t.length<e+n+3?t:t.substr(0,e).trim()+"…"+t.substr(t.length-n).trim()}function M(t,e){void 0===e&&(e={});var n=Object.assign({},{payload:null,raw:!1,method:"GET",baseUrl:"//"+dw.backend.__api_domain,mode:"cors",credentials:"include"},e,{headers:Object.assign({},{"Content-Type":"application/json"},e.headers)}),a=n.payload,r=n.baseUrl,s=n.raw,o=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&-1===e.indexOf(a)&&(n[a]=t[a]);return n}(n,["payload","baseUrl","raw"]),c=r.replace(/\/$/,"")+"/"+t.replace(/^\//,"");return a&&(o.body=JSON.stringify(a)),window.fetch(c,o).then((function(t){if(s)return t;if(!t.ok)throw new j(t);if(204!==t.status){var e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()}}))}M.get=C("GET"),M.patch=C("PATCH"),M.put=C("PUT"),M.post=C("POST"),M.head=C("HEAD");function C(t){return function(e,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq."+t.toLowerCase()+"()");return M(e,Object.assign({},n,{method:t}))}}M.delete=C("DELETE");var j=function(t){function e(e){t.call(this),this.name="HttpReqError",this.status=e.status,this.statusText=e.statusText,this.message="["+e.status+"] "+e.statusText,this.response=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);function I(t,e){var n;return{c:function(){(n=u("label")).className="control-label svelte-4hqcdn"},m:function(t,a){r(t,n,a),n.innerHTML=e.label},p:function(t,e){t.label&&(n.innerHTML=e.label)},d:function(t){t&&s(n)}}}function U(t,e){var n;return{c:function(){(n=u("div")).className="help success svelte-4hqcdn"},m:function(t,a){r(t,n,a),n.innerHTML=e.success},p:function(t,e){t.success&&(n.innerHTML=e.success)},d:function(t){t&&s(n)}}}function D(t,e){var n;return{c:function(){(n=u("div")).className="help error svelte-4hqcdn"},m:function(t,a){r(t,n,a),n.innerHTML=e.error},p:function(t,e){t.error&&(n.innerHTML=e.error)},d:function(t){t&&s(n)}}}function Y(t,e){var n;return{c:function(){(n=u("div")).className="help svelte-4hqcdn"},m:function(t,a){r(t,n,a),n.innerHTML=e.help},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){t&&s(n)}}}function G(t){var n,o,c,i,d,f,m,p,h,w,g,_,T;H(this,t),this._state=e({label:"",help:"",error:!1,success:!1,width:"auto"},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(n=this,o=this._state,h=n._slotted.default,w=o.label&&I(0,o),g=o.success&&U(0,o),_=o.error&&D(0,o),T=!o.success&&!o.error&&o.help&&Y(0,o),{c:function(){c=u("div"),w&&w.c(),i=l("\n    "),d=u("div"),f=l("\n    "),g&&g.c(),m=l(" "),_&&_.c(),p=l(" "),T&&T.c(),d.className="form-controls svelte-4hqcdn",c.className="form-block svelte-4hqcdn",v(c,"width",o.width),b(c,"success",o.success),b(c,"error",o.error)},m:function(t,e){r(t,c,e),w&&w.m(c,null),a(c,i),a(c,d),h&&a(d,h),a(c,f),g&&g.m(c,null),a(c,m),_&&_.m(c,null),a(c,p),T&&T.m(c,null)},p:function(t,e){e.label?w?w.p(t,e):((w=I(0,e)).c(),w.m(c,i)):w&&(w.d(1),w=null),e.success?g?g.p(t,e):((g=U(0,e)).c(),g.m(c,m)):g&&(g.d(1),g=null),e.error?_?_.p(t,e):((_=D(0,e)).c(),_.m(c,p)):_&&(_.d(1),_=null),e.success||e.error||!e.help?T&&(T.d(1),T=null):T?T.p(t,e):((T=Y(0,e)).c(),T.m(c,null)),t.width&&v(c,"width",e.width),t.success&&b(c,"success",e.success),t.error&&b(c,"error",e.error)},d:function(t){t&&s(c),w&&w.d(),h&&function(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}(d,h),g&&g.d(),_&&_.d(),T&&T.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}e(G.prototype,x);var J,$=!1;function B(t){var e=t.password;return J?J(e):(!$&&e.length>4&&($=!0,require(["zxcvbn"],(function(t){J=t}))),!1)}function W(e,n){return{c:t,m:t,d:t}}function z(t){var n,a,o;H(this,t),this._state=e({password:"",passwordRepeat:""},t.data),this._recompute({password:1,passwordRepeat:1,passwordStrength:1,passwordTooShort:1,passwordHelp:1,passwordMismatch:1},this._state),this._intro=!0,this._fragment=(n=this._state,o=n.password.length>=8&&W(),{c:function(){o&&o.c(),a=d()},m:function(t,e){o&&o.m(t,e),r(t,a,e)},p:function(t,e){e.password.length>=8?o||((o=W()).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d:function(t){o&&o.d(t),t&&s(a)}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}e(z.prototype,x),z.prototype._recompute=function(t,e){t.password&&this._differs(e.passwordTooShort,e.passwordTooShort=e.password.length<8)&&(t.passwordTooShort=!0),(t.password||t.passwordRepeat)&&this._differs(e.passwordMismatch,e.passwordMismatch=function(t){var e=t.password,n=t.passwordRepeat;return e&&e!==n}(e))&&(t.passwordMismatch=!0),t.password&&this._differs(e.passwordStrength,e.passwordStrength=B(e))&&(t.passwordStrength=!0),(t.password||t.passwordStrength)&&this._differs(e.passwordHelp,e.passwordHelp=function(t){var e=t.password,n=t.passwordStrength;return""!==e&&n?R("account / password / "+["bad","weak","ok","good","excellent"][n.score]):R("account / pwd-too-short").replace("%num",8)}(e))&&(t.passwordHelp=!0),(t.password||t.passwordTooShort||t.passwordStrength||t.passwordHelp)&&this._differs(e.passwordError,e.passwordError=function(t){var e=t.password,n=t.passwordTooShort,a=t.passwordStrength,r=t.passwordHelp;return!!e&&(n?R("account / pwd-too-short").replace("%num",8):!!(a&&a.score<2)&&r)}(e))&&(t.passwordError=!0),(t.passwordStrength||t.passwordHelp)&&this._differs(e.passwordSuccess,e.passwordSuccess=function(t){var e=t.passwordStrength,n=t.passwordHelp;return!!(e&&e.score>2)&&n}(e))&&(t.passwordSuccess=!0),t.passwordMismatch&&this._differs(e.passwordRepeatError,e.passwordRepeatError=function(t){return!!t.passwordMismatch&&R("account / password / mismatch")}(e))&&(t.passwordRepeatError=!0),(t.password||t.passwordMismatch||t.passwordTooShort)&&this._differs(e.passwordOk,e.passwordOk=function(t){var e=t.password,n=t.passwordMismatch,a=t.passwordTooShort;return e&&!n&&!a}(e))&&(t.passwordOk=!0)};var F={changeEmail:async function(){var t=this.get().email;this.set({savingEmail:!0});var e=[],n=[];try{var a=await M.patch("/v3/me",{payload:{email:t}});e.push("Your email has been changed successfully. You will receive an email with a confirmation link."),this.set({email:a.email})}catch(t){if("HttpReqError"===t.name){var r=await t.response.json();"Invalid request payload input"===r.message?n.push(R("account / change-email / error / invalid-email")):n.push(r.message?R("account / change-email / error / "+r.message):t.message)}else n.push("Unknown error: "+t)}this.set({savingEmail:!1}),n.length?this.set({errors:n}):this.set({changeEmail:!1,messages:e,errors:[]})},changePassword:async function(){var t=this.get(),e=t.currentPassword,n=t.newPassword1;this.set({savingPassword:!0});var a={password:n,oldPassword:e},r=[],s=[];try{await M.patch("/v3/me",{payload:a}),r.push("Your password has been changed!")}catch(t){if("HttpReqError"===t.name){var o=await t.response.json();s.push(o.message||t.message)}else s.push("Unknown error: "+t)}0===s.length?this.set({changePassword:!1,messages:r,errors:[]}):this.set({errors:s}),this.set({savingPassword:!1,currentPassword:"",newPassword1:"",newPassword2:""})},deleteAccount:async function(){var t=this.get(),e=t.confirmPassword,n=t.confirmEmail;this.set({deletingAccount:!0});var a=[];try{await M.delete("/v3/me",{payload:{password:e,email:n}})}catch(t){if("HttpReqError"===t.name){var r=await t.response.json();a.push(r.message||t.message)}else a.push("Unknown error: "+t)}this.set({deletingAccount:!1}),a.length?this.set({errors:a}):this.set({deleteAccount2:!1,deleteAccount3:!0})}};function K(t,e,n){var a=Object.create(t);return a.message=e[n],a}function Q(t,e,n){var a=Object.create(t);return a.message=e[n],a}function V(t,e){for(var n,o,i,l=e.messages,d=[],f=0;f<l.length;f+=1)d[f]=X(t,Q(e,l,f));return{c:function(){n=u("div"),o=u("div"),i=u("div");for(var t=0;t<d.length;t+=1)d[t].c();i.className="alert alert-success svelte-1uqq9ww",o.className="span6",n.className="row",v(n,"margin-top","20px")},m:function(t,e){r(t,n,e),a(n,o),a(o,i);for(var s=0;s<d.length;s+=1)d[s].m(i,null)},p:function(e,n){if(e.messages){l=n.messages;for(var a=0;a<l.length;a+=1){var r=Q(n,l,a);d[a]?d[a].p(e,r):(d[a]=X(t,r),d[a].c(),d[a].m(i,null))}for(;a<d.length;a+=1)d[a].d(1);d.length=l.length}},d:function(t){t&&s(n),c(d,t)}}}function X(t,e){var n,a=e.message;return{c:function(){(n=u("p")).className="svelte-1uqq9ww"},m:function(t,e){r(t,n,e),n.innerHTML=a},p:function(t,e){t.messages&&a!==(a=e.message)&&(n.innerHTML=a)},d:function(t){t&&s(n)}}}function Z(t,e){var n,a=e.errors.join("");return{c:function(){(n=u("div")).className="alert alert-warning"},m:function(t,e){r(t,n,e),n.innerHTML=a},p:function(t,e){t.errors&&a!==(a=e.errors.join(""))&&(n.innerHTML=a)},d:function(t){t&&s(n)}}}function tt(e,n){var o,c,i=R("account / email");function d(t){e.set({changeEmail:!0})}return{c:function(){o=u("button"),c=l(i),f(o,"click",d),o.className="btn btn-save btn-default"},m:function(t,e){r(t,o,e),a(o,c)},p:t,d:function(t){t&&s(o),m(o,"click",d)}}}function et(t,e){var n,o,c,i,d,p,h,v,w=R("Back"),g=R("account / email");function b(e){t.set({changeEmail:!1})}function _(e){t.changeEmail()}return{c:function(){n=u("button"),o=l(w),c=l("\n            "),i=u("button"),d=u("i"),h=l("  "),v=l(g),f(n,"click",b),n.className="btn btn-default",d.className=p="fa "+(e.savingEmail?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",f(i,"click",_),i.className="btn btn-save btn-primary"},m:function(t,e){r(t,n,e),a(n,o),r(t,c,e),r(t,i,e),a(i,d),a(i,h),a(i,v)},p:function(t,e){t.savingEmail&&p!==(p="fa "+(e.savingEmail?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(d.className=p)},d:function(t){t&&s(n),m(n,"click",b),t&&(s(c),s(i)),m(i,"click",_)}}}function nt(t,e){var n,o,c,d,h,w,g,b,_,T,y,N,k,E,P,H,S,O,x,A,q,L,M,C=R("account / password"),j=R("Back"),I=!1,U=!1,D={},Y=!1,J=R("account / password");function $(e){t.set({changePassword:!1})}var B=e.changePassword&&e.errors&&e.errors.length&&rt(t,e);function W(){I=!0,t.set({currentPassword:b.value}),I=!1}var F={label:R("Current Password"),help:R("account / password / current-password-note")},K=new G({root:t.root,store:t.store,slots:{default:i()},data:F});function Q(){U=!0,t.set({newPassword1:T.value}),U=!1}var V={};void 0!==e.newPassword1&&(V.password=e.newPassword1,D.password=!0),void 0!==e.newPassword2&&(V.passwordRepeat=e.newPassword2,D.passwordRepeat=!0),void 0!==e.passwordHelp&&(V.passwordHelp=e.passwordHelp,D.passwordHelp=!0),void 0!==e.passwordSuccess&&(V.passwordSuccess=e.passwordSuccess,D.passwordSuccess=!0),void 0!==e.passwordError&&(V.passwordError=e.passwordError,D.passwordError=!0),void 0!==e.passwordRepeatError&&(V.passwordRepeatError=e.passwordRepeatError,D.passwordRepeatError=!0),void 0!==e.newPasswordOk&&(V.passwordOk=e.newPasswordOk,D.passwordOk=!0);var X=new z({root:t.root,store:t.store,data:V,_bind:function(e,n){var a={};!D.password&&e.password&&(a.newPassword1=n.password),!D.passwordRepeat&&e.passwordRepeat&&(a.newPassword2=n.passwordRepeat),!D.passwordHelp&&e.passwordHelp&&(a.passwordHelp=n.passwordHelp),!D.passwordSuccess&&e.passwordSuccess&&(a.passwordSuccess=n.passwordSuccess),!D.passwordError&&e.passwordError&&(a.passwordError=n.passwordError),!D.passwordRepeatError&&e.passwordRepeatError&&(a.passwordRepeatError=n.passwordRepeatError),!D.passwordOk&&e.passwordOk&&(a.newPasswordOk=n.passwordOk),t._set(a),D={}}});t.root._beforecreate.push((function(){X._bind({password:1,passwordRepeat:1,passwordHelp:1,passwordSuccess:1,passwordError:1,passwordRepeatError:1,passwordOk:1},X.get())}));var Z={error:e.passwordError,label:R("New Password"),success:e.passwordSuccess,help:e.passwordHelp},tt=new G({root:t.root,store:t.store,slots:{default:i()},data:Z});function et(){Y=!0,t.set({newPassword2:E.value}),Y=!1}var nt={error:e.passwordRepeatError,label:R("(repeat)"),help:""},at=new G({root:t.root,store:t.store,slots:{default:i()},data:nt});function st(e){t.changePassword()}return{c:function(){n=u("h3"),o=l(C),c=l("\n            "),d=u("button"),h=l(j),w=l("\n        "),B&&B.c(),g=l("\n        "),b=u("input"),K._fragment.c(),_=l("\n\n        "),T=u("input"),y=l("\n            "),N=u("div"),X._fragment.c(),tt._fragment.c(),k=l("\n        "),E=u("input"),at._fragment.c(),P=l("\n\n        "),H=u("button"),S=u("i"),x=l("  "),A=l(J),L=l("\n        "),M=u("hr"),f(d,"click",$),d.className="btn btn-save btn-default btn-back",f(b,"input",W),p(b,"type","password"),b.className="input-xlarge",f(T,"input",Q),p(T,"type","password"),T.className="input-xlarge",v(N,"width","287px"),f(E,"input",et),p(E,"type","password"),E.className="input-xlarge",S.className=O="fa "+(e.savingPassword?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",f(H,"click",st),H.disabled=q=!(e.newPasswordOk&&e.currentPassword),H.className="btn btn-primary"},m:function(t,s){r(t,n,s),a(n,o),a(n,c),a(n,d),a(d,h),r(t,w,s),B&&B.m(t,s),r(t,g,s),a(K._slotted.default,b),b.value=e.currentPassword,K._mount(t,s),r(t,_,s),a(tt._slotted.default,T),T.value=e.newPassword1,a(tt._slotted.default,y),a(tt._slotted.default,N),X._mount(N,null),tt._mount(t,s),r(t,k,s),a(at._slotted.default,E),E.value=e.newPassword2,at._mount(t,s),r(t,P,s),r(t,H,s),a(H,S),a(H,x),a(H,A),r(t,L,s),r(t,M,s)},p:function(n,a){(e=a).changePassword&&e.errors&&e.errors.length?B?B.p(n,e):((B=rt(t,e)).c(),B.m(g.parentNode,g)):B&&(B.d(1),B=null),!I&&n.currentPassword&&(b.value=e.currentPassword),!U&&n.newPassword1&&(T.value=e.newPassword1);var r={};!D.password&&n.newPassword1&&(r.password=e.newPassword1,D.password=void 0!==e.newPassword1),!D.passwordRepeat&&n.newPassword2&&(r.passwordRepeat=e.newPassword2,D.passwordRepeat=void 0!==e.newPassword2),!D.passwordHelp&&n.passwordHelp&&(r.passwordHelp=e.passwordHelp,D.passwordHelp=void 0!==e.passwordHelp),!D.passwordSuccess&&n.passwordSuccess&&(r.passwordSuccess=e.passwordSuccess,D.passwordSuccess=void 0!==e.passwordSuccess),!D.passwordError&&n.passwordError&&(r.passwordError=e.passwordError,D.passwordError=void 0!==e.passwordError),!D.passwordRepeatError&&n.passwordRepeatError&&(r.passwordRepeatError=e.passwordRepeatError,D.passwordRepeatError=void 0!==e.passwordRepeatError),!D.passwordOk&&n.newPasswordOk&&(r.passwordOk=e.newPasswordOk,D.passwordOk=void 0!==e.newPasswordOk),X._set(r),D={};var s={};n.passwordError&&(s.error=e.passwordError),n.passwordSuccess&&(s.success=e.passwordSuccess),n.passwordHelp&&(s.help=e.passwordHelp),tt._set(s),!Y&&n.newPassword2&&(E.value=e.newPassword2);var o={};n.passwordRepeatError&&(o.error=e.passwordRepeatError),at._set(o),n.savingPassword&&O!==(O="fa "+(e.savingPassword?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(S.className=O),(n.newPasswordOk||n.currentPassword)&&q!==(q=!(e.newPasswordOk&&e.currentPassword))&&(H.disabled=q)},d:function(t){t&&s(n),m(d,"click",$),t&&s(w),B&&B.d(t),t&&s(g),m(b,"input",W),K.destroy(t),t&&s(_),m(T,"input",Q),X.destroy(),tt.destroy(t),t&&s(k),m(E,"input",et),at.destroy(t),t&&(s(P),s(H)),m(H,"click",st),t&&(s(L),s(M))}}}function at(e,n){var r,s,o,c,d=R("account / password");function h(t){e.set({changePassword:!0})}var v={label:R("Password"),help:""},w=new G({root:e.root,store:e.store,slots:{default:i()},data:v});return{c:function(){r=u("input"),s=l("\n            "),o=u("button"),c=l(d),w._fragment.c(),r.disabled=!0,r.value="abcdefgh",p(r,"type","password"),f(o,"click",h),o.className="btn btn-save btn-default"},m:function(t,e){a(w._slotted.default,r),a(w._slotted.default,s),a(w._slotted.default,o),a(o,c),w._mount(t,e)},p:t,d:function(t){m(o,"click",h),w.destroy(t)}}}function rt(t,e){for(var n,a=e.errors,o=[],i=0;i<a.length;i+=1)o[i]=st(t,K(e,a,i));return{c:function(){n=u("div");for(var t=0;t<o.length;t+=1)o[t].c();n.className="alert svelte-1uqq9ww"},m:function(t,e){r(t,n,e);for(var a=0;a<o.length;a+=1)o[a].m(n,null)},p:function(e,r){if(e.errors){a=r.errors;for(var s=0;s<a.length;s+=1){var c=K(r,a,s);o[s]?o[s].p(e,c):(o[s]=st(t,c),o[s].c(),o[s].m(n,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d:function(t){t&&s(n),c(o,t)}}}function st(t,e){var n,a=e.message;return{c:function(){(n=u("p")).className="svelte-1uqq9ww"},m:function(t,e){r(t,n,e),n.innerHTML=a},p:function(t,e){t.errors&&a!==(a=e.message)&&(n.innerHTML=a)},d:function(t){t&&s(n)}}}function ot(e,n){var r,s,o=R("account / delete");function c(t){e.set({deleteAccount:!0})}var d=new G({root:e.root,store:e.store,slots:{default:i()},data:{label:"Delete account",help:""}});return{c:function(){r=u("button"),s=l(o),d._fragment.c(),f(r,"click",c),r.className="btn btn-danger",p(r,"href","#")},m:function(t,e){a(d._slotted.default,r),a(r,s),d._mount(t,e)},p:t,d:function(t){m(r,"click",c),d.destroy(t)}}}function ct(e,n){var o,c,i,d,p,h,v,w,g,b,_,T,y,N,k,E,P=R("account / confirm-account-deletion"),H=R("account / confirm-account-deletion / no"),S=R("account / or"),O=R("account / confirm-account-deletion / yes");function x(t){e.set({deleteAccount:!1})}function A(t){e.set({deleteAccount:!1,deleteAccount2:!0})}return{c:function(){o=u("h3"),c=u("i"),i=l(" "),d=l(P),p=l("\n        "),h=u("button"),v=u("i"),w=l("   "),g=l(H),b=l("\n\n        "),_=l(S),T=l("\n\n        "),y=u("button"),N=u("i"),k=l("   "),E=l(O),c.className="fa fa-times svelte-1uqq9ww",o.className="svelte-1uqq9ww",v.className="fa fa-chevron-left",f(h,"click",x),h.className="btn btn-back btn-primary",N.className="fa fa-times",f(y,"click",A),y.className="btn btn-default"},m:function(t,e){r(t,o,e),a(o,c),a(o,i),a(o,d),r(t,p,e),r(t,h,e),a(h,v),a(h,w),a(h,g),r(t,b,e),r(t,_,e),r(t,T,e),r(t,y,e),a(y,N),a(y,k),a(y,E)},p:t,d:function(t){t&&(s(o),s(p),s(h)),m(h,"click",x),t&&(s(b),s(_),s(T),s(y)),m(y,"click",A)}}}function it(t,e){var n,o,c,d,h,w,g,b,_,T,y,N,k,E,P,H,S,O,x,A,q,L,M,C,j,I,U,D,Y,J,$,B,W,z,F,K,Q,V=R("account / delete / hed"),X=R("account / delete / really"),Z=R("account / confirm-account-deletion / free"),tt=R("You cannot login and logout anymore."),et=R("You cannot edit or remove your charts anymore."),nt=R("account / delete / charts-stay-online"),at=!1,rt=!1,st=R("account / delete / really-really"),ot=R("No, I changed my mind.."),ct=R("Yes, delete it!");function it(){at=!0,t.set({confirmEmail:q.value}),at=!1}function ut(){rt=!0,t.set({confirmPassword:M.value}),rt=!1}var lt={label:R("Please enter your password to confirm the deletion request:"),error:!(!e.errors||!e.errors.length)&&e.errors.join(". ")},dt=new G({root:t.root,store:t.store,slots:{default:i()},data:lt});function ft(e){t.set({deleteAccount2:!1})}function mt(e){t.deleteAccount()}return{c:function(){n=u("h2"),o=l(V),c=l("\n        "),d=u("div"),h=u("p"),w=l(X),g=l("\n            "),b=u("ul"),_=u("li"),T=l(Z),y=l("\n                "),N=u("li"),k=l(tt),E=l("\n                "),P=u("li"),H=l(et),S=l("\n            "),O=u("p"),x=l(nt),A=l("\n\n            "),q=u("input"),L=l("\n                "),M=u("input"),dt._fragment.c(),C=l("\n            "),j=u("p"),I=l("\n            "),U=u("div"),D=u("button"),Y=u("i"),J=l("  "),$=l(ot),B=l("\n                "),W=u("button"),z=u("i"),K=l("  "),Q=l(ct),v(n,"margin-bottom","20px"),f(q,"input",it),p(q,"type","email"),q.placeholder=R("Email"),f(M,"input",ut),p(M,"type","password"),M.placeholder=R("Password"),j.className="lead",Y.className="fa fa-chevron-left",f(D,"click",ft),D.className="btn btn-info",z.className=F="fa "+(e.deletingAccount?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww",f(W,"click",mt),W.className="btn btn-danger",U.className="control-group",d.className="delete-account"},m:function(t,s){r(t,n,s),a(n,o),r(t,c,s),r(t,d,s),a(d,h),a(h,w),a(d,g),a(d,b),a(b,_),a(_,T),a(b,y),a(b,N),a(N,k),a(b,E),a(b,P),a(P,H),a(d,S),a(d,O),a(O,x),a(d,A),a(dt._slotted.default,q),q.value=e.confirmEmail,a(dt._slotted.default,L),a(dt._slotted.default,M),M.value=e.confirmPassword,dt._mount(d,null),a(d,C),a(d,j),j.innerHTML=st,a(d,I),a(d,U),a(U,D),a(D,Y),a(D,J),a(D,$),a(U,B),a(U,W),a(W,z),a(W,K),a(W,Q)},p:function(t,e){!at&&t.confirmEmail&&(q.value=e.confirmEmail),!rt&&t.confirmPassword&&(M.value=e.confirmPassword);var n={};t.errors&&(n.error=!(!e.errors||!e.errors.length)&&e.errors.join(". ")),dt._set(n),t.deletingAccount&&F!==(F="fa "+(e.deletingAccount?"fa-spin fa-spinner":"fa-check")+" svelte-1uqq9ww")&&(z.className=F)},d:function(t){t&&(s(n),s(c),s(d)),m(q,"input",it),m(M,"input",ut),dt.destroy(),m(D,"click",ft),m(W,"click",mt)}}}function ut(e,n){var o,c,i,d,f,m,p,h,w=R("account / delete / hed"),g=R("Your account has been deleted."),b=R("Goodbye!");return{c:function(){o=u("h2"),c=l(w),i=l("\n        "),d=u("h3"),f=l(g),m=l("\n        "),p=u("a"),h=l(b),v(o,"margin-bottom","20px"),p.href="/",p.className="btn btn-primary btn-large"},m:function(t,e){r(t,o,e),a(o,c),r(t,i,e),r(t,d,e),a(d,f),r(t,m,e),r(t,p,e),a(p,h)},p:t,d:function(t){t&&(s(o),s(i),s(d),s(m),s(p))}}}function lt(t){H(this,t),this._state=e({changePassword:!1,changeEmail:!1,deleteAccount:!1,deleteAccount2:!1,deleteAccount3:!1,deletingAccount:!1,showPasswordInPlaintext:!1,messages:[],currentPassword:"",newPassword1:"",newPassword2:"",newPasswordOk:!1,passwordError:!1,passwordRepeatError:!1,passwordHelp:!1,passwordSuccess:!1,confirmEmail:"",confirmPassword:"",email:"",savingEmail:!1,savingPassword:!1,errors:[],groups:[{title:"Account settings",tabs:[{title:"Profile",icon:"fa fa-fw fa-user"}]},{title:"Team settings",tabs:[]}]},t.data),this._intro=!0,this._fragment=function(t,e){var n,o,c,h,w,g,b,_,T,y,N,k,E,P,H,S,O,x=R("Edit profile"),A=!1,q=R("account / change-login"),L=e.messages&&e.messages.length&&V(t,e),M=e.changeEmail&&e.errors.length&&Z(t,e);function C(){A=!0,t.set({email:_.value}),A=!1}function j(t){return t.changeEmail?et:tt}var I=j(e),U=I(t,e),D={label:R("E-Mail"),help:e.changeEmail?R("account / confirm-email-change"):""},Y=new G({root:t.root,store:t.store,slots:{default:i()},data:D});function J(t){return t.changePassword?nt:at}var $=J(e),B=$(t,e);function W(t){return t.deleteAccount3?ut:t.deleteAccount2?it:t.deleteAccount?ct:ot}var z=W(e),F=z(t,e);return{c:function(){n=u("h2"),o=l(x),c=l("\n\n"),L&&L.c(),h=l("\n\n"),w=u("div"),g=u("div"),M&&M.c(),b=l("\n        "),_=u("input"),y=l("\n            "),U.c(),N=d(),Y._fragment.c(),k=l("\n\n        "),B.c(),E=l(" "),F.c(),P=l("\n    "),H=u("div"),S=u("p"),O=l(q),f(_,"input",C),_.disabled=T=!e.changeEmail,p(_,"type","email"),g.className="span6",S.className="help",H.className="span4",w.className="row edit-account",v(w,"margin-top",(e.messages&&e.messages.length?0:20)+"px")},m:function(t,s){r(t,n,s),a(n,o),r(t,c,s),L&&L.m(t,s),r(t,h,s),r(t,w,s),a(w,g),M&&M.m(g,null),a(g,b),a(Y._slotted.default,_),_.value=e.email,a(Y._slotted.default,y),U.m(Y._slotted.default,null),a(Y._slotted.default,N),Y._mount(g,null),a(g,k),B.m(g,null),a(g,E),F.m(g,null),a(w,P),a(w,H),a(H,S),a(S,O)},p:function(e,n){n.messages&&n.messages.length?L?L.p(e,n):((L=V(t,n)).c(),L.m(h.parentNode,h)):L&&(L.d(1),L=null),n.changeEmail&&n.errors.length?M?M.p(e,n):((M=Z(t,n)).c(),M.m(g,b)):M&&(M.d(1),M=null),!A&&e.email&&(_.value=n.email),e.changeEmail&&T!==(T=!n.changeEmail)&&(_.disabled=T),I===(I=j(n))&&U?U.p(e,n):(U.d(1),(U=I(t,n)).c(),U.m(N.parentNode,N));var a={};e.changeEmail&&(a.help=n.changeEmail?R("account / confirm-email-change"):""),Y._set(a),$===($=J(n))&&B?B.p(e,n):(B.d(1),(B=$(t,n)).c(),B.m(g,E)),z===(z=W(n))&&F?F.p(e,n):(F.d(1),(F=z(t,n)).c(),F.m(g,null)),e.messages&&v(w,"margin-top",(n.messages&&n.messages.length?0:20)+"px")},d:function(t){t&&(s(n),s(c)),L&&L.d(t),t&&(s(h),s(w)),M&&M.d(),m(_,"input",C),U.d(),Y.destroy(),B.d(),F.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),E(this))}function dt(t,e,n,a,r){var s={method:e,body:a,mode:"cors",credentials:n};return window.fetch(t,s).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.text()})).then((function(t){try{return JSON.parse(t)}catch(e){return console.warn("malformed json input",t),t}})).then((function(t){return r&&r(t),t})).catch((function(t){if(!r)throw t;console.error(t)}))}function ft(t,e){return void 0===e&&(e=null),new Promise((function(n,a){var r=document.createElement("script");r.src=t,r.onload=function(){e&&e(),n()},r.onerror=a,document.body.appendChild(r)}))}e(lt.prototype,x),e(lt.prototype,F);var mt={activateTab:function(t,e){var n,a,r=this;if(void 0===e&&(e=null),t.module)return e&&e.preventDefault(),void Promise.all([(n=t.css,void 0===a&&(a=null),new Promise((function(t,e){var r=document.createElement("link");r.rel="stylesheet",r.href=n,r.onload=function(){a&&a(),t()},r.onerror=e,document.head.appendChild(r)}))),ft(t.js||t.src)]).then((function(){require([t.module],(function(e){t.ui=e.App,t.module=null;var n=r.get().groups;r.set({groups:n,activeTab:t})}))}));t.ui&&(e&&e.preventDefault(),this.set({activeTab:t}))},onTabChange:function(t,e){t.onchange&&t.onchange(e,this.refs.currentTabUi)}};function pt(t){var e=this._svelte,n=e.component,a=e.ctx;n.activateTab(a.tab,t)}function ht(t,e,n){var a=Object.create(t);return a.tab=e[n],a}function vt(t,e,n){var a=Object.create(t);return a.group=e[n],a}function wt(t,e){var n,o,c,i,d,p,v,w=e.tab.title;return{c:function(){n=u("li"),o=u("a"),c=u("i"),d=l("   "),p=l(w),c.className=i=e.tab.icon+" svelte-5we305",o._svelte={component:t,ctx:e},f(o,"click",pt),o.href=v=e.tab.url||"/"+e.basePath+"/"+e.tab.id,o.className="svelte-5we305",n.className="svelte-5we305",b(n,"active",e.activeTab&&e.activeTab.id===e.tab.id)},m:function(t,e){r(t,n,e),a(n,o),a(o,c),a(o,d),a(o,p)},p:function(t,a){e=a,t.groups&&i!==(i=e.tab.icon+" svelte-5we305")&&(c.className=i),t.groups&&w!==(w=e.tab.title)&&h(p,w),o._svelte.ctx=e,(t.groups||t.basePath)&&v!==(v=e.tab.url||"/"+e.basePath+"/"+e.tab.id)&&(o.href=v),(t.activeTab||t.groups)&&b(n,"active",e.activeTab&&e.activeTab.id===e.tab.id)},d:function(t){t&&s(n),m(o,"click",pt)}}}function gt(t,e){for(var n,o,i,d,f=e.group.title,m=e.group.tabs,p=[],v=0;v<m.length;v+=1)p[v]=wt(t,ht(e,m,v));return{c:function(){n=u("div"),o=l(f),i=l("\n\n        "),d=u("ul");for(var t=0;t<p.length;t+=1)p[t].c();n.className="group svelte-5we305",d.className="nav nav-stacked nav-tabs"},m:function(t,e){r(t,n,e),a(n,o),r(t,i,e),r(t,d,e);for(var s=0;s<p.length;s+=1)p[s].m(d,null)},p:function(e,n){if(e.groups&&f!==(f=n.group.title)&&h(o,f),e.activeTab||e.groups||e.basePath){m=n.group.tabs;for(var a=0;a<m.length;a+=1){var r=ht(n,m,a);p[a]?p[a].p(e,r):(p[a]=wt(t,r),p[a].c(),p[a].m(d,null))}for(;a<p.length;a+=1)p[a].d(1);p.length=m.length}},d:function(t){t&&(s(n),s(i),s(d)),c(p,t)}}}function bt(t,n){var c,i,f,m,p,h,v=t._slotted.aboveContent,w=t._slotted.belowContent,g=[n.activeTab.data],b=n.activeTab.ui;function _(n){for(var a={},r=0;r<g.length;r+=1)a=e(a,g[r]);return{root:t.root,store:t.store,data:a}}if(b)var T=new b(_());function y(e){t.onTabChange(n.activeTab,e)}return T&&T.on("change",y),{c:function(){c=u("div"),f=l("\n        "),T&&T._fragment.c(),m=l("\n        "),c.className=h="span10 account-page-content tab-"+n.activeTab.id+" svelte-5we305"},m:function(e,n){r(e,c,n),v&&(a(c,v),a(c,i||(i=d()))),a(c,f),T&&(T._mount(c,null),t.refs.currentTabUi=T),a(c,m),w&&(a(c,p||(p=d())),a(c,w))},p:function(e,a){n=a;var r=e.activeTab?function(t,e){for(var n={},a={},r={},s=t.length;s--;){var o=t[s],c=e[s];if(c){for(var i in o)i in c||(a[i]=1);for(var i in c)r[i]||(n[i]=c[i],r[i]=1);t[s]=c}else for(var i in o)r[i]=1}for(var i in a)i in n||(n[i]=void 0);return n}(g,[n.activeTab.data]):{};b!==(b=n.activeTab.ui)?(T&&T.destroy(),b?((T=new b(_()))._fragment.c(),T._mount(c,m),T.on("change",y),t.refs.currentTabUi=T):(T=null,t.refs.currentTabUi===T&&(t.refs.currentTabUi=null))):b&&T._set(r),e.activeTab&&h!==(h="span10 account-page-content tab-"+n.activeTab.id+" svelte-5we305")&&(c.className=h)},d:function(t){t&&s(c),v&&function(t,e){for(var n=t.parentNode;n.firstChild!==t;)e.appendChild(n.firstChild)}(i,v),T&&T.destroy(),w&&o(p,w)}}}function _t(t){H(this,t),this.refs={},this._state=e({groups:[],basePath:"",activeTab:null},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){for(var n,i,f,m,p,h=t._slotted.belowMenu,v=e.groups,w=[],g=0;g<v.length;g+=1)w[g]=gt(t,vt(e,v,g));var b=e.activeTab&&bt(t,e);return{c:function(){n=u("div"),i=u("div");for(var t=0;t<w.length;t+=1)w[t].c();f=l("\n        "),p=l("\n    "),b&&b.c(),i.className="span2 svelte-5we305",n.className="row"},m:function(t,e){r(t,n,e),a(n,i);for(var s=0;s<w.length;s+=1)w[s].m(i,null);a(i,f),h&&(a(i,m||(m=d())),a(i,h)),a(n,p),b&&b.m(n,null)},p:function(e,a){if(e.groups||e.activeTab||e.basePath){v=a.groups;for(var r=0;r<v.length;r+=1){var s=vt(a,v,r);w[r]?w[r].p(e,s):(w[r]=gt(t,s),w[r].c(),w[r].m(i,f))}for(;r<w.length;r+=1)w[r].d(1);w.length=v.length}a.activeTab?b?b.p(e,a):((b=bt(t,a)).c(),b.m(n,null)):b&&(b.d(1),b=null)},d:function(t){t&&s(n),c(w,t),h&&o(m,h),b&&b.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),E(this))}function Tt(t,e,n){var a=Object.create(t);return a.opt=e[n],a}function yt(t,e,n){var a=Object.create(t);return a.optgroup=e[n],a}function Nt(t,e,n){var a=Object.create(t);return a.opt=e[n],a}function kt(t,e){for(var n,a=e.options,o=[],i=0;i<a.length;i+=1)o[i]=Et(t,Nt(e,a,i));return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();n=d()},m:function(t,e){for(var a=0;a<o.length;a+=1)o[a].m(t,e);r(t,n,e)},p:function(e,r){if(e.options){a=r.options;for(var s=0;s<a.length;s+=1){var c=Nt(r,a,s);o[s]?o[s].p(e,c):(o[s]=Et(t,c),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d:function(t){c(o,t),t&&s(n)}}}function Et(t,e){var n,o,c,i=e.opt.label;return{c:function(){n=u("option"),o=l(i),n.__value=c=e.opt.value,n.value=n.__value},m:function(t,e){r(t,n,e),a(n,o)},p:function(t,e){t.options&&i!==(i=e.opt.label)&&h(o,i),t.options&&c!==(c=e.opt.value)&&(n.__value=c),n.value=n.__value},d:function(t){t&&s(n)}}}function Pt(t,e){for(var n,a=e.optgroups,o=[],i=0;i<a.length;i+=1)o[i]=St(t,yt(e,a,i));return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();n=d()},m:function(t,e){for(var a=0;a<o.length;a+=1)o[a].m(t,e);r(t,n,e)},p:function(e,r){if(e.optgroups){a=r.optgroups;for(var s=0;s<a.length;s+=1){var c=yt(r,a,s);o[s]?o[s].p(e,c):(o[s]=St(t,c),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d:function(t){c(o,t),t&&s(n)}}}function Ht(t,e){var n,o,c,i=e.opt.label;return{c:function(){n=u("option"),o=l(i),n.__value=c=e.opt.value,n.value=n.__value},m:function(t,e){r(t,n,e),a(n,o)},p:function(t,e){t.optgroups&&i!==(i=e.opt.label)&&h(o,i),t.optgroups&&c!==(c=e.opt.value)&&(n.__value=c),n.value=n.__value},d:function(t){t&&s(n)}}}function St(t,e){for(var n,a,o=e.optgroup.options,i=[],l=0;l<o.length;l+=1)i[l]=Ht(0,Tt(e,o,l));return{c:function(){n=u("optgroup");for(var t=0;t<i.length;t+=1)i[t].c();p(n,"label",a=e.optgroup.label)},m:function(t,e){r(t,n,e);for(var a=0;a<i.length;a+=1)i[a].m(n,null)},p:function(t,e){if(t.optgroups){o=e.optgroup.options;for(var r=0;r<o.length;r+=1){var s=Tt(e,o,r);i[r]?i[r].p(t,s):(i[r]=Ht(0,s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}t.optgroups&&a!==(a=e.optgroup.label)&&p(n,"label",a)},d:function(t){t&&s(n),c(i,t)}}}function Ot(t){H(this,t),this._state=e({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[]},t.data),this._intro=!0,this._fragment=function(t,e){var n,o,c=!1,i=e.options.length&&kt(t,e),l=e.optgroups.length&&Pt(t,e);function p(){c=!0,t.set({value:g(n)}),c=!1}return{c:function(){n=u("select"),i&&i.c(),o=d(),l&&l.c(),f(n,"change",p),"value"in e||t.root._beforecreate.push(p),n.className="select-css svelte-v0oq4b",n.disabled=e.disabled,v(n,"width",e.width)},m:function(t,s){r(t,n,s),i&&i.m(n,null),a(n,o),l&&l.m(n,null),w(n,e.value)},p:function(e,a){a.options.length?i?i.p(e,a):((i=kt(t,a)).c(),i.m(n,o)):i&&(i.d(1),i=null),a.optgroups.length?l?l.p(e,a):((l=Pt(t,a)).c(),l.m(n,null)):l&&(l.d(1),l=null),!c&&e.value&&w(n,a.value),e.disabled&&(n.disabled=a.disabled),e.width&&v(n,"width",a.width)},d:function(t){t&&s(n),i&&i.d(),l&&l.d(),m(n,"change",p)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),E(this))}e(_t.prototype,x),e(_t.prototype,mt),e(Ot.prototype,x);var xt=null;var At={createTeam:function(t,e){var n,a,r,s={name:t};this.get().user.isAdmin&&e&&(s.id=String(e).trim().toLowerCase()),this.set({awaitCreateTeam:(n=window.location.protocol+"//"+dw.backend.__api_domain+"/v3/teams",a=JSON.stringify(s),dt(n,"POST","include",a,r)).then((function(t){window.location.href="/team/"+t.id+"/settings"}))})},leaveTeam:function(t){var e,n,a=this,r=this.get(),s=r.user,o=r.teams;window.confirm(R("account / my-teams / leave-team / confirm").replace("%team%",t.name))&&(e=window.location.protocol+"//"+dw.backend.__api_domain+"/v3/teams/"+t.id+"/members/"+s.id,dt(e,"DELETE","include",null,n)).then((function(e){window.alert(R("account / my-teams / leave-team / done")),o.splice(o.findIndex((function(e){return e.id===t.id})),1),a.set({teams:o})})).catch((function(t){window.alert("There was a problem with your request. Please contact support@datawrapper.de"),console.error(t)}))}};function qt(t){var e,n,a,r=t.changed,s=t.current;r.currentTeam&&void 0!==s.currentTeam&&(xt?s.currentTeam!==xt&&(xt=s.currentTeam,this.set({awaitActiveTeam:(e=window.location.protocol+"//"+dw.backend.__api_domain+"/v3/me/settings",n=JSON.stringify({activeTeam:s.currentTeam||null}),dt(e,"PATCH","include",n,a))})):xt=s.currentTeam)}function Rt(t){var e=this._svelte,n=e.component,a=e.ctx;n.leaveTeam(a.team)}function Lt(t,e,n){var a=Object.create(t);return a.team=e[n],a}function Mt(e,n){var a,o=R("account / my-teams / no-teams-yet");return{c:function(){a=u("p")},m:function(t,e){r(t,a,e),a.innerHTML=o},p:t,d:function(t){t&&s(a)}}}function Ct(t,e){for(var n,o,i,d,f,m,p,h,v,w,g,b,_,T,y,N,k,E,P,H,S,O,x=R("account / my-teams / your-teams"),A=R("account / my-teams / name"),q=R("account / my-teams / your-role"),L=R("account / my-teams / num-charts"),M=R("account / my-teams / num-members"),C=R("account / my-teams / leave-team"),j=e.user.isAdmin&&jt(),I=e.teams,U=[],D=0;D<I.length;D+=1)U[D]=zt(t,Lt(e,I,D));return{c:function(){n=u("p"),o=l("\n\n"),i=u("table"),d=u("thead"),f=u("tr"),m=u("th"),p=l(A),h=l("\n            "),j&&j.c(),v=l("\n            "),w=u("th"),g=l(q),b=l("\n            "),_=u("th"),T=l(L),y=l("\n            "),N=u("th"),k=l(M),E=l("\n            "),P=u("th"),H=l(C),S=l("\n    "),O=u("tbody");for(var t=0;t<U.length;t+=1)U[t].c();i.className="table"},m:function(t,e){r(t,n,e),n.innerHTML=x,r(t,o,e),r(t,i,e),a(i,d),a(d,f),a(f,m),a(m,p),a(f,h),j&&j.m(f,null),a(f,v),a(f,w),a(w,g),a(f,b),a(f,_),a(_,T),a(f,y),a(f,N),a(N,k),a(f,E),a(f,P),a(P,H),a(i,S),a(i,O);for(var s=0;s<U.length;s+=1)U[s].m(O,null)},p:function(e,n){if(n.user.isAdmin?j||((j=jt()).c(),j.m(f,v)):j&&(j.d(1),j=null),e.teams||e.currentTeam||e.user){I=n.teams;for(var a=0;a<I.length;a+=1){var r=Lt(n,I,a);U[a]?U[a].p(e,r):(U[a]=zt(t,r),U[a].c(),U[a].m(O,null))}for(;a<U.length;a+=1)U[a].d(1);U.length=I.length}},d:function(t){t&&(s(n),s(o),s(i)),j&&j.d(),c(U,t)}}}function jt(t,e){var n,o,c=R("account / my-teams / id");return{c:function(){n=u("th"),o=l(c)},m:function(t,e){r(t,n,e),a(n,o)},d:function(t){t&&s(n)}}}function It(t,e){var n,o,c,i=L(e.team.name,20,10);return{c:function(){n=u("a"),o=l(i),n.href=c="/team/"+e.team.id+"/settings"},m:function(t,e){r(t,n,e),a(n,o)},p:function(t,e){t.teams&&i!==(i=L(e.team.name,20,10))&&h(o,i),t.teams&&c!==(c="/team/"+e.team.id+"/settings")&&(n.href=c)},d:function(t){t&&s(n)}}}function Ut(t,e){var n,a=L(e.team.name,20,10);return{c:function(){n=l(a)},m:function(t,e){r(t,n,e)},p:function(t,e){t.teams&&a!==(a=L(e.team.name,20,10))&&h(n,a)},d:function(t){t&&s(n)}}}function Dt(t,e){var n;return{c:function(){(n=u("i")).className="fa fa-check-circle"},m:function(t,e){r(t,n,e)},d:function(t){t&&s(n)}}}function Yt(t,e){var n,o,c=e.team.id;return{c:function(){n=u("td"),o=l(c),n.className="slug svelte-t3x94h"},m:function(t,e){r(t,n,e),a(n,o)},p:function(t,e){t.teams&&c!==(c=e.team.id)&&h(o,c)},d:function(t){t&&s(n)}}}function Gt(t,e){var n,o,c,i,f,m=e.team.members,p=e.team.invites&&$t(t,e);return{c:function(){n=u("a"),o=l(m),i=l(" "),p&&p.c(),f=d(),n.href=c="/team/"+e.team.id+"/members"},m:function(t,e){r(t,n,e),a(n,o),r(t,i,e),p&&p.m(t,e),r(t,f,e)},p:function(e,a){e.teams&&m!==(m=a.team.members)&&h(o,m),e.teams&&c!==(c="/team/"+a.team.id+"/members")&&(n.href=c),a.team.invites?p?p.p(e,a):((p=$t(t,a)).c(),p.m(f.parentNode,f)):p&&(p.d(1),p=null)},d:function(t){t&&(s(n),s(i)),p&&p.d(t),t&&s(f)}}}function Jt(t,e){var n,a=e.team.members;return{c:function(){n=l(a)},m:function(t,e){r(t,n,e)},p:function(t,e){t.teams&&a!==(a=e.team.members)&&h(n,a)},d:function(t){t&&s(n)}}}function $t(t,e){var n,o,c,i,d=e.team.invites;return{c:function(){n=u("span"),o=l("(+"),c=l(d),i=l(")"),n.className="invites svelte-t3x94h"},m:function(t,e){r(t,n,e),a(n,o),a(n,c),a(n,i)},p:function(t,e){t.teams&&d!==(d=e.team.invites)&&h(c,d)},d:function(t){t&&s(n)}}}function Bt(t,e){var n,o,c,i,d,f=R("account / my-teams / delete-team");return{c:function(){n=u("a"),o=u("i"),c=l(" "),i=l(f),o.className="fa fa-trash",n.href=d="/team/"+e.team.id+"/delete",n.className="btn btn-small btn-danger"},m:function(t,e){r(t,n,e),a(n,o),a(n,c),a(n,i)},p:function(t,e){t.teams&&d!==(d="/team/"+e.team.id+"/delete")&&(n.href=d)},d:function(t){t&&s(n)}}}function Wt(t,e){var n,o,c,i,d=R("account / my-teams / leave-team");return{c:function(){n=u("button"),o=u("i"),c=l(" "),i=l(d),o.className="fa fa-sign-out",n._svelte={component:t,ctx:e},f(n,"click",Rt),n.className="btn btn-small"},m:function(t,e){r(t,n,e),a(n,o),a(n,c),a(n,i)},p:function(t,a){e=a,n._svelte.ctx=e},d:function(t){t&&s(n),m(n,"click",Rt)}}}function zt(t,e){var n,o,c,i,d,f,m,p,v,w,g,_,T,y,N,k=R("teams / role / "+e.team.role),E=e.team.charts;function P(t){return"member"!==t.team.role||t.user.isAdmin?It:Ut}var H=P(e),S=H(t,e),O=e.team.id===e.currentTeam&&Dt(),x=e.user.isAdmin&&Yt(0,e);function A(t){return"member"===t.team.role?Jt:Gt}var q=A(e),L=q(t,e);function M(t){return"owner"!==t.team.role?Wt:Bt}var C=M(e),j=C(t,e);return{c:function(){n=u("tr"),o=u("td"),S.c(),c=l(" "),O&&O.c(),i=l("\n            "),x&&x.c(),d=l("\n            "),f=u("td"),m=l("\n            "),p=u("td"),v=u("a"),w=l(E),_=l("\n            "),T=u("td"),L.c(),y=l("\n\n            "),N=u("td"),j.c(),v.href=g="/team/"+e.team.id,b(n,"current",e.team.id===e.currentTeam)},m:function(t,e){r(t,n,e),a(n,o),S.m(o,null),a(o,c),O&&O.m(o,null),a(n,i),x&&x.m(n,null),a(n,d),a(n,f),f.innerHTML=k,a(n,m),a(n,p),a(p,v),a(v,w),a(n,_),a(n,T),L.m(T,null),a(n,y),a(n,N),j.m(N,null)},p:function(e,a){H===(H=P(a))&&S?S.p(e,a):(S.d(1),(S=H(t,a)).c(),S.m(o,c)),a.team.id===a.currentTeam?O||((O=Dt()).c(),O.m(o,null)):O&&(O.d(1),O=null),a.user.isAdmin?x?x.p(e,a):((x=Yt(0,a)).c(),x.m(n,d)):x&&(x.d(1),x=null),e.teams&&k!==(k=R("teams / role / "+a.team.role))&&(f.innerHTML=k),e.teams&&E!==(E=a.team.charts)&&h(w,E),e.teams&&g!==(g="/team/"+a.team.id)&&(v.href=g),q===(q=A(a))&&L?L.p(e,a):(L.d(1),(L=q(t,a)).c(),L.m(T,null)),C===(C=M(a))&&j?j.p(e,a):(j.d(1),(j=C(t,a)).c(),j.m(N,null)),(e.teams||e.currentTeam)&&b(n,"current",a.team.id===a.currentTeam)},d:function(t){t&&s(n),S.d(),O&&O.d(),x&&x.d(),L.d(),j.d()}}}function Ft(t,e){var n,o,c,d,h,v,w,g,b,_,T,y,N,k=R("team-create / p"),E=!1,P=R("team-create / button"),H=R("team-create / return");function S(){E=!0,t.set({newTeamName:c.value}),E=!1}var O={label:R("team-create / name"),help:R("team-create / help")},x=new G({root:t.root,store:t.store,slots:{default:i()},data:O}),A=e.user.isAdmin&&Qt(t,e);function q(t){return t.awaitCreateTeam?Xt:Vt}var L=q(e),M=L(t,e);function C(n){t.createTeam(e.newTeamName,e.newTeamSlug)}function j(e){t.set({createTeam:!1})}return{c:function(){n=u("p"),o=l("\n\n        "),c=u("input"),x._fragment.c(),h=l("\n        "),A&&A.c(),v=l("\n\n        "),w=u("button"),M.c(),g=l("   "),b=l(P),T=l("\n        "),y=u("button"),N=l(H),f(c,"input",S),p(c,"type","text"),c.placeholder=R("team-create / untitled"),c.maxLength=d=e.user.isAdmin?80:50,f(w,"click",C),w.className="btn btn-primary",w.disabled=_=!e.newTeamName.length,f(y,"click",j),y.className="btn"},m:function(t,s){r(t,n,s),n.innerHTML=k,r(t,o,s),a(x._slotted.default,c),c.value=e.newTeamName,x._mount(t,s),r(t,h,s),A&&A.m(t,s),r(t,v,s),r(t,w,s),M.m(w,null),a(w,g),a(w,b),r(t,T,s),r(t,y,s),a(y,N)},p:function(n,a){e=a,!E&&n.newTeamName&&(c.value=e.newTeamName),n.user&&d!==(d=e.user.isAdmin?80:50)&&(c.maxLength=d),e.user.isAdmin?A?A.p(n,e):((A=Qt(t,e)).c(),A.m(v.parentNode,v)):A&&(A.d(1),A=null),L===(L=q(e))&&M?M.p(n,e):(M.d(1),(M=L(t,e)).c(),M.m(w,g)),n.newTeamName&&_!==(_=!e.newTeamName.length)&&(w.disabled=_)},d:function(t){t&&(s(n),s(o)),m(c,"input",S),x.destroy(t),t&&s(h),A&&A.d(t),t&&(s(v),s(w)),M.d(),m(w,"click",C),t&&(s(T),s(y)),m(y,"click",j)}}}function Kt(t,e){var n,o,c,i,d,p,h,v=R("account / my-teams / why-teams"),w=R("account / my-teams / create-btn");function g(e){t.set({createTeam:!0})}return{c:function(){n=u("div"),o=u("p"),c=l("\n            "),i=u("button"),d=u("i"),p=l(" "),h=u("noscript"),d.className="fa fa-plus fa-fw",f(i,"click",g),i.className="btn btn-large",b(i,"btn-primary",!e.teams.length),n.className="hed svelte-t3x94h"},m:function(t,e){r(t,n,e),a(n,o),o.innerHTML=v,a(n,c),a(n,i),a(i,d),a(i,p),a(i,h),h.insertAdjacentHTML("afterend",w)},p:function(t,e){t.teams&&b(i,"btn-primary",!e.teams.length)},d:function(t){t&&s(n),m(i,"click",g)}}}function Qt(t,e){var n,r=!1;function s(){r=!0,t.set({newTeamSlug:n.value}),r=!1}var o={label:R("team-create / slug"),help:R("team-create / slug-help")},c=new G({root:t.root,store:t.store,slots:{default:i()},data:o});return{c:function(){n=u("input"),c._fragment.c(),f(n,"input",s),p(n,"type","text"),n.placeholder=e.autoslug},m:function(t,r){a(c._slotted.default,n),n.value=e.newTeamSlug,c._mount(t,r)},p:function(t,e){!r&&t.newTeamSlug&&(n.value=e.newTeamSlug),t.autoslug&&(n.placeholder=e.autoslug)},d:function(t){m(n,"input",s),c.destroy(t)}}}function Vt(e,n){var a;return{c:function(){(a=u("i")).className="fa fa-plus fa-fw"},m:function(t,e){r(t,a,e)},p:t,d:function(t){t&&s(a)}}}function Xt(t,e){var n,a,o={component:t,ctx:e,current:null,pending:ee,then:te,catch:Zt,value:"null",error:"null"};return _(a=e.awaitCreateTeam,o),{c:function(){n=d(),o.block.c()},m:function(t,e){r(t,n,e),o.block.m(t,o.anchor=e),o.mount=function(){return n.parentNode},o.anchor=n},p:function(t,n){e=n,o.ctx=e,"awaitCreateTeam"in t&&a!==(a=e.awaitCreateTeam)&&_(a,o)},d:function(t){t&&s(n),o.block.d(t),o=null}}}function Zt(t,e){var n;return{c:function(){(n=u("i")).className="fa fa-exclamation-triangle"},m:function(t,e){r(t,n,e)},d:function(t){t&&s(n)}}}function te(t,e){var n;return{c:function(){(n=u("i")).className="fa fa-check fa-fw"},m:function(t,e){r(t,n,e)},d:function(t){t&&s(n)}}}function ee(t,e){var n,a;return{c:function(){n=l(" "),(a=u("i")).className="fa fa-spinner fa-spin"},m:function(t,e){r(t,n,e),r(t,a,e)},d:function(t){t&&(s(n),s(a))}}}function ne(t,e){var n,o,c,d,f,m,p,h=R("account / my-teams / select-active"),v=R("account / my-teams / what-is-active"),w={},g={width:"250px",options:e.teamOptions};void 0!==e.currentTeam&&(g.value=e.currentTeam,w.value=!0);var b=new Ot({root:t.root,store:t.store,data:g,_bind:function(e,n){var a={};!w.value&&e.value&&(a.currentTeam=n.value),t._set(a),w={}}});t.root._beforecreate.push((function(){b._bind({value:1},b.get())}));var _=e.awaitActiveTeam&&ae(t,e),T={width:"350px",help:R("account / my-teams / active-hint")},y=new G({root:t.root,store:t.store,slots:{default:i()},data:T});return{c:function(){n=u("div"),o=u("h3"),c=l("\n        "),d=u("p"),f=l("\n        "),m=u("div"),b._fragment.c(),p=l("\n                "),_&&_.c(),y._fragment.c(),o.className="svelte-t3x94h",m.className="flex",n.className="span5"},m:function(t,e){r(t,n,e),a(n,o),o.innerHTML=h,a(n,c),a(n,d),d.innerHTML=v,a(n,f),a(y._slotted.default,m),b._mount(m,null),a(m,p),_&&_.m(m,null),y._mount(n,null)},p:function(n,a){e=a;var r={};n.teamOptions&&(r.options=e.teamOptions),!w.value&&n.currentTeam&&(r.value=e.currentTeam,w.value=void 0!==e.currentTeam),b._set(r),w={},e.awaitActiveTeam?_?_.p(n,e):((_=ae(t,e)).c(),_.m(m,null)):_&&(_.d(1),_=null)},d:function(t){t&&s(n),b.destroy(),_&&_.d(),y.destroy()}}}function ae(t,e){var n,a,o={component:t,ctx:e,current:null,pending:oe,then:se,catch:re,value:"null",error:"null"};return _(a=e.awaitActiveTeam,o),{c:function(){n=d(),o.block.c()},m:function(t,e){r(t,n,e),o.block.m(t,o.anchor=e),o.mount=function(){return n.parentNode},o.anchor=n},p:function(t,n){e=n,o.ctx=e,"awaitActiveTeam"in t&&a!==(a=e.awaitActiveTeam)&&_(a,o)},d:function(t){t&&s(n),o.block.d(t),o=null}}}function re(t,e){var n;return{c:function(){(n=u("i")).className="fa fa-exclamation-triangle"},m:function(t,e){r(t,n,e)},d:function(t){t&&s(n)}}}function se(t,e){var n;return{c:function(){(n=u("i")).className="fa fa-check fa-fw"},m:function(t,e){r(t,n,e)},d:function(t){t&&s(n)}}}function oe(t,e){var n,a;return{c:function(){n=l(" "),(a=u("i")).className="fa fa-spinner fa-spin"},m:function(t,e){r(t,n,e),r(t,a,e)},d:function(t){t&&(s(n),s(a))}}}function ce(t){var o=this;H(this,t),this._state=e({teams:[],awaitActiveTeam:null,awaitCreateTeam:null,currentTeam:"",createTeam:!1,newTeamName:"",newTeamSlug:""},t.data),this._recompute({teams:1,newTeamName:1},this._state),this._intro=!0,this._handlers.state=[qt],qt.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(t,e){var n,o,c,i,d,f,m,p,h=R("account / my-teams"),v=R("account / my-teams / create");function w(t){return t.teams.length?Ct:Mt}var g=w(e),b=g(t,e);function _(t){return t.createTeam?Ft:Kt}var T=_(e),y=T(t,e),N=e.teams.length>0&&ne(t,e);return{c:function(){n=u("h2"),o=l("\n\n"),b.c(),c=l("\n\n"),i=u("div"),d=u("div"),f=u("h3"),m=l("\n        "),y.c(),p=l("\n    "),N&&N.c(),f.className="svelte-t3x94h",d.className="span5",i.className="row"},m:function(t,e){r(t,n,e),n.innerHTML=h,r(t,o,e),b.m(t,e),r(t,c,e),r(t,i,e),a(i,d),a(d,f),f.innerHTML=v,a(d,m),y.m(d,null),a(i,p),N&&N.m(i,null)},p:function(e,n){g===(g=w(n))&&b?b.p(e,n):(b.d(1),(b=g(t,n)).c(),b.m(c.parentNode,c)),T===(T=_(n))&&y?y.p(e,n):(y.d(1),(y=T(t,n)).c(),y.m(d,null)),n.teams.length>0?N?N.p(e,n):((N=ne(t,n)).c(),N.m(i,null)):N&&(N.d(1),N=null)},d:function(t){t&&(s(n),s(o)),b.d(t),t&&(s(c),s(i)),y.d(),N&&N.d()}}}(this,this._state),this.root._oncreate.push((function(){o.fire("update",{changed:n({},o._state),current:o._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),E(this))}e(ce.prototype,x),e(ce.prototype,At),ce.prototype._recompute=function(t,e){t.teams&&this._differs(e.teamOptions,e.teamOptions=e.teams.map((function(t){return{value:t.id,label:t.name}})).concat({value:null,label:R("nav / no-team")}))&&(t.teamOptions=!0),t.newTeamName&&this._differs(e.autoslug,e.autoslug=function(t){return t.newTeamName.toLowerCase().replace(/\W/g,"")}(e))&&(t.autoslug=!0)};var ie={title:R("account / profile"),id:"profile",icon:"im im-user-settings",ui:lt,data:{}},ue={title:R("account / my-teams"),id:"teams",icon:"im im-users",ui:ce,data:{}},le=!1;var de={setTab:function(t){var e=this,n=this.get().groups,a=!1;n.forEach((function(n){n.tabs.forEach((function(n){n.id===t&&(e.refs.navTabs.activateTab(n),a=!0)}))})),a||this.set({activeTab:ie})}};function fe(){var t=this,e=window.location.pathname.split("/").slice(1)[1]||"profile";dw.backend.__svelteApps.account=this;var n=this.get(),a=n.email,r=n.user,s=n.userId,o=n.groups,c=n.teams,i=n.adminTeams,u=n.pages,l=n.currentTeam;u.length&&(o[0].tabs.push.apply(o[0].tabs,u),this.set({groups:o})),o[0].tabs.splice(1,0,ue),this.set({groups:o}),i.length&&(o.push({title:R("account / settings / team"),tabs:[]}),i.forEach((function(t){var e=t.Id,n=t.Name;o[1].tabs.push({title:L(n,10,4),url:"/team/"+e+"/settings",icon:"im im-users"})})),this.set({groups:o})),ie.data={email:a,userId:s,user:r},ue.data={teams:c,currentTeam:l,user:r},this.setTab(e),window.addEventListener("popstate",(function(e){var n=e.state;le=!0,setTimeout((function(){return le=!1}),100),t.setTab(n.id)}))}function me(t){var e=t.changed,n=t.current;t.previous;e.activeTab&&n.activeTab&&!le&&window.history.pushState({id:n.activeTab.id},"","/account/"+n.activeTab.id)}function pe(t,e,n){var a=Object.create(t);return a.team=e[n],a}function he(t,e){var n,o,c,i,d,f,m,p,h,v,w,g,b,_=R("account / team-invite").replace("%s",L(e.team.name,20,10)),T=R("account / team-invite / accept"),y=R("account / or"),N=R("account / team-invite / reject");return{c:function(){n=u("div"),o=u("noscript"),c=l("\n        \n        "),i=u("a"),d=l(T),m=l("\n        \n          "),p=l(y),h=l("\n        "),v=u("a"),w=l(N),b=l("."),i.href=f="/team/"+e.team.id+"/invite/"+e.team.token+"/accept",i.className="btn btn-primary svelte-dmpd5k",v.href=g="/team/"+e.team.id+"/invite/"+e.team.token+"/reject",v.className="svelte-dmpd5k",n.className="alert alert-info svelte-dmpd5k"},m:function(t,e){r(t,n,e),a(n,o),o.insertAdjacentHTML("beforebegin",_),a(n,c),a(n,i),a(i,d),a(n,m),a(n,p),a(n,h),a(n,v),a(v,w),a(n,b)},p:function(t,e){t.invitations&&_!==(_=R("account / team-invite").replace("%s",L(e.team.name,20,10)))&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(o),o.insertAdjacentHTML("beforebegin",_)),t.invitations&&f!==(f="/team/"+e.team.id+"/invite/"+e.team.token+"/accept")&&(i.href=f),t.invitations&&g!==(g="/team/"+e.team.id+"/invite/"+e.team.token+"/reject")&&(v.href=g)},d:function(t){t&&s(n)}}}function ve(t){var o=this;H(this,t),this.refs={},this._state=e({hash:"profile",activeTab:null,activeData:{},groups:[{title:R("account / settings / personal"),tabs:[ie]}]},t.data),this._recompute({email:1,user:1,userId:1,teams:1,currentTeam:1,activeTab:1},this._state),this._intro=!0,this._handlers.state=[me],me.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(t,e){var n,o,i,d,f,m,p,h=R("account / settings"),v={};document.title=n=e.pageTitle+" | "+R("account / settings")+" | Datawrapper";for(var w=e.invitations,g=[],b=0;b<w.length;b+=1)g[b]=he(t,pe(e,w,b));var _={basePath:"account",groups:e.groups};void 0!==e.activeTab&&(_.activeTab=e.activeTab,v.activeTab=!0);var T=new _t({root:t.root,store:t.store,data:_,_bind:function(e,n){var a={};!v.activeTab&&e.activeTab&&(a.activeTab=n.activeTab),t._set(a),v={}}});return t.root._beforecreate.push((function(){T._bind({activeTab:1},T.get())})),t.refs.navTabs=T,{c:function(){o=l("\n\n"),i=u("div"),d=u("h1"),f=l(h),m=l("\n    ");for(var t=0;t<g.length;t+=1)g[t].c();p=l("\n    "),T._fragment.c(),d.className="title",i.className="admin svelte-dmpd5k"},m:function(t,e){r(t,o,e),r(t,i,e),a(i,d),a(d,f),a(i,m);for(var n=0;n<g.length;n+=1)g[n].m(i,null);a(i,p),T._mount(i,null)},p:function(a,r){if(e=r,a.pageTitle&&n!==(n=e.pageTitle+" | "+R("account / settings")+" | Datawrapper")&&(document.title=n),a.invitations){w=e.invitations;for(var s=0;s<w.length;s+=1){var o=pe(e,w,s);g[s]?g[s].p(a,o):(g[s]=he(t,o),g[s].c(),g[s].m(i,p))}for(;s<g.length;s+=1)g[s].d(1);g.length=w.length}var c={};a.groups&&(c.groups=e.groups),!v.activeTab&&a.activeTab&&(c.activeTab=e.activeTab,v.activeTab=void 0!==e.activeTab),T._set(c),v={}},d:function(e){e&&(s(o),s(i)),c(g,e),T.destroy(),t.refs.navTabs===T&&(t.refs.navTabs=null)}}}(this,this._state),this.root._oncreate.push((function(){fe.call(o),o.fire("update",{changed:n({},o._state),current:o._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),E(this))}function we(t,n){this._handlers={},this._dependents=[],this._computed=T(),this._sortedComputedProperties=[],this._state=e({},t),this._differs=n&&n.immutable?N:y}e(ve.prototype,x),e(ve.prototype,de),ve.prototype._recompute=function(t,e){var n,a;(t.email||t.user||t.userId||t.teams||t.currentTeam)&&this._differs(e.data,e.data=(a=(n=e).email,{user:n.user,email:a,userId:n.userId,teams:n.teams,currentTeam:n.currentTeam}))&&(t.data=!0),t.activeTab&&this._differs(e.pageTitle,e.pageTitle=function(t){var e=t.activeTab;return e?e.title:""}(e))&&(t.pageTitle=!0)},e(we.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var a=t[n];e["$"+a]=this._state[a]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,n){var a=this,r=this._state;this._state=e(e({},r),t);for(var s=0;s<this._sortedComputedProperties.length;s+=1)this._sortedComputedProperties[s].update(this._state,n);this.fire("state",{changed:n,previous:r,current:this._state}),this._dependents.filter((function(t){for(var e={},r=!1,s=0;s<t.props.length;s+=1){var o=t.props[s];o in n&&(e["$"+o]=a._state[o],r=!0)}if(r)return t.component._stage(e),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:n,previous:r,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],a=T();function r(s){var o=e[s];o&&(o.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between "+e+" <-> "+s);r(e)})),a[s]||(a[s]=!0,n.push(o)))}for(var s in this._computed)r(t=s)},compute:function(t,n,a){var r,s=this,o={deps:n,update:function(e,o,c){var i=n.map((function(t){return t in o&&(c=!0),e[t]}));if(c){var u=a.apply(null,i);s._differs(u,r)&&(r=u,o[t]=!0,e[t]=r)}}};this._computed[t]=o,this._sortComputedProperties();var c=e({},this._state),i={};o.update(c,i,!0),this._set(c,i)},fire:k,get:P,on:S,set:function(t){var e=this._state,n=this._changed={},a=!1;for(var r in t){if(this._computed[r])throw new Error("'"+r+"' is a read-only computed property");this._differs(t[r],e[r])&&(n[r]=a=!0)}a&&this._set(t,n)}});return{App:ve,data:{chart:{id:""},readonly:!1,chartData:"",transpose:!1,firstRowIsHeader:!0,skipRows:0},store:new we({})}}));
