!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/chart-breadcrumb",e):(t=t||self)["chart-breadcrumb"]=e()}(this,(function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n)}function i(t){t.parentNode.removeChild(t)}function o(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function a(){return Object.create(null)}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e}function d(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var i=n[r];if(!i.__calling)try{i.__calling=!0,i.call(this,e)}finally{i.__calling=!1}}}function f(){return this._state}function h(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function l(t){for(;t&&t.length;)t.shift()()}var _={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:f,fire:d,on:h,set:function(t){var n;this._set(e({},t)),this.root._lock||((n=this.root)._lock=!0,l(n._beforecreate),l(n._oncreate),l(n._aftercreate),n._lock=!1)},_recompute:t,_set:function(t){var n=this._state,r={},i=!1;for(var o in t=e(this._staged,t),this._staged={},t)this._differs(t[o],n[o])&&(r[o]=i=!0);i&&(this._state=e(e({},n),t),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:n}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:c},p={};function m(t,e){var n=arguments;if(void 0===e&&(e="core"),t=t.trim(),p[e]||function(t){void 0===t&&(t="core"),"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(p[t]=window.__dw.vis.meta.locale||{}):p[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}(e),!p[e][t])return"MISSING:"+t;var r=p[e][t];return"string"==typeof r&&arguments.length>2&&(r=r.replace(/\$(\d)/g,(function(t,e){return e=2+Number(e),void 0===n[e]?t:n[e]}))),r}function v(t,e,n){return void 0===e&&(e=11),void 0===n&&(n=7),"string"!=typeof t?t:t.length<e+n+3?t:t.substr(0,e).trim()+"…"+t.substr(t.length-n).trim()}function g(t,e,n){var r=Object.create(t);return r.folder=e[n],r}function b(t,e){var a,c,u,d,f,h,l,_=v(e.folder.name);return{c:function(){a=o("a"),c=o("i"),d=s(" "),f=o("span"),h=s(_),c.className=u=(e.folder.icon||"im im-folder")+" svelte-1uy8rg5",f.className="svelte-1uy8rg5",a.href=l=e.folder.url,a.className="svelte-1uy8rg5"},m:function(t,e){r(t,a,e),n(a,c),n(a,d),n(a,f),n(f,h)},p:function(t,e){t.truncatedFolders&&u!==(u=(e.folder.icon||"im im-folder")+" svelte-1uy8rg5")&&(c.className=u),t.truncatedFolders&&_!==(_=v(e.folder.name))&&function(t,e){t.data=""+e}(h,_),t.truncatedFolders&&l!==(l=e.folder.url)&&(a.href=l)},d:function(t){t&&i(a)}}}function y(e,n){var s;return{c:function(){(s=o("span")).textContent="…",s.className="svelte-1uy8rg5"},m:function(t,e){r(t,s,e)},p:t,d:function(t){t&&i(s)}}}function w(t,e){var n;function o(t){return t.folder.ellipsis?y:b}var s=o(e),a=s(t,e);return{c:function(){a.c(),n=document.createComment("")},m:function(t,e){a.m(t,e),r(t,n,e)},p:function(e,r){s===(s=o(r))&&a?a.p(e,r):(a.d(1),(a=s(t,r)).c(),a.m(n.parentNode,n))},d:function(t){a.d(t),t&&i(n)}}}function N(t){!function(t,e){t._handlers=a(),t._slots=a(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}(this,t),this._state=e({type:"chart",folders:[],team:null},t.data),this._recompute({folders:1},this._state),this._intro=!0,this._fragment=function(t,e){for(var a,c,u,d,f,h,l,_=m("editor / chart-breadcrumb / "+e.type),p=m("editor / chart-breadcrumb / is-in-folder"),v=e.truncatedFolders,b=[],y=0;y<v.length;y+=1)b[y]=w(t,g(e,v,y));return{c:function(){a=o("div"),c=o("noscript"),u=s(" "),d=o("noscript"),f=o("noscript"),h=s("\n    "),l=o("div");for(var t=0;t<b.length;t+=1)b[t].c();l.className="parts svelte-1uy8rg5",a.className="chart-breadcrumb svelte-1uy8rg5"},m:function(t,e){r(t,a,e),n(a,c),c.insertAdjacentHTML("beforebegin",_),n(a,u),n(a,d),d.insertAdjacentHTML("afterend",p),n(a,f),n(a,h),n(a,l);for(var i=0;i<b.length;i+=1)b[i].m(l,null)},p:function(e,n){if(e.type&&_!==(_=m("editor / chart-breadcrumb / "+n.type))&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(c),c.insertAdjacentHTML("beforebegin",_)),e.truncatedFolders){v=n.truncatedFolders;for(var r=0;r<v.length;r+=1){var i=g(n,v,r);b[r]?b[r].p(e,i):(b[r]=w(t,i),b[r].c(),b[r].m(l,null))}for(;r<b.length;r+=1)b[r].d(1);b.length=v.length}},d:function(t){t&&i(a),function(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(b,t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function C(t,n){this._handlers={},this._dependents=[],this._computed=a(),this._sortedComputedProperties=[],this._state=e({},t),this._differs=n&&n.immutable?u:c}return e(N.prototype,_),N.prototype._recompute=function(t,e){var n;t.folders&&this._differs(e.truncatedFolders,e.truncatedFolders=(n=e.folders).length<6?n:n.slice(0,3).concat([{ellipsis:!0}],n.slice(-1)))&&(t.truncatedFolders=!0)},e(C.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n];e["$"+r]=this._state[r]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,n){var r=this,i=this._state;this._state=e(e({},i),t);for(var o=0;o<this._sortedComputedProperties.length;o+=1)this._sortedComputedProperties[o].update(this._state,n);this.fire("state",{changed:n,previous:i,current:this._state}),this._dependents.filter((function(t){for(var e={},i=!1,o=0;o<t.props.length;o+=1){var s=t.props[o];s in n&&(e["$"+s]=r._state[s],i=!0)}if(i)return t.component._stage(e),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:n,previous:i,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],r=a();function i(o){var s=e[o];s&&(s.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between "+e+" <-> "+o);i(e)})),r[o]||(r[o]=!0,n.push(s)))}for(var o in this._computed)i(t=o)},compute:function(t,n,r){var i,o=this,s={deps:n,update:function(e,s,a){var c=n.map((function(t){return t in s&&(a=!0),e[t]}));if(a){var u=r.apply(null,c);o._differs(u,i)&&(i=u,s[t]=!0,e[t]=i)}}};this._computed[t]=s,this._sortComputedProperties();var a=e({},this._state),c={};s.update(a,c,!0),this._set(a,c)},fire:d,get:f,on:h,set:function(t){var e=this._state,n=this._changed={},r=!1;for(var i in t){if(this._computed[i])throw new Error("'"+i+"' is a read-only computed property");this._differs(t[i],e[i])&&(n[i]=r=!0)}r&&this._set(t,n)}}),{App:N,store:new C({})}}));
