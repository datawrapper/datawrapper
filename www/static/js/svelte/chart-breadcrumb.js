!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/chart-breadcrumb",e):(t="undefined"!=typeof globalThis?globalThis:t||self)["chart-breadcrumb"]=e()}(this,(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(){}function o(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n)}function a(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function f(){return Object.create(null)}function d(t,e){return t!=t?e==e:t!==e||t&&"object"===n(t)||"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e}function h(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var o=n[r];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function p(){return this._state}function _(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function m(t){for(;t&&t.length;)t.shift()()}var v={destroy:function(t){this.destroy=r,this.fire("destroy"),this.set=r,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:p,fire:h,on:_,set:function(t){var e;this._set(o({},t)),this.root._lock||((e=this.root)._lock=!0,m(e._beforecreate),m(e._oncreate),m(e._aftercreate),e._lock=!1)},_recompute:r,_set:function(t){var e=this._state,n={},r=!1;for(var i in t=o(this._staged,t),this._staged={},t)this._differs(t[i],e[i])&&(n[i]=r=!0);r&&(this._state=o(o({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){o(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:d},g={};function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(g[t]=window.__dw.vis.meta.locale||{}):g[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function y(t){var e=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),g[n]||b(n),!g[n][t])return"MISSING:"+t;var r=g[n][t];return"string"==typeof r&&arguments.length>2&&(r=r.replace(/\$(\d)/g,(function(t,n){return n=2+Number(n),void 0===e[n]?t:e[n]}))),r}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"!=typeof t||t.length<e+n+3?t:t.substr(0,e).trim()+"…"+t.substr(t.length-n).trim()}function S(t,e,n){var r=Object.create(t);return r.folder=e[n],r}function C(t,e){var n,r,o,f,d,l,h,p=w(e.folder.name);return{c:function(){n=c("a"),r=c("i"),f=u(" "),d=c("span"),l=u(p),r.className=o=(e.folder.icon||"im im-folder")+" svelte-1t62wad",d.className="svelte-1t62wad",n.href=h=e.folder.url,n.className="svelte-1t62wad"},m:function(t,e){s(t,n,e),i(n,r),i(n,f),i(n,d),i(d,l)},p:function(t,e){t.truncatedFolders&&o!==(o=(e.folder.icon||"im im-folder")+" svelte-1t62wad")&&(r.className=o),t.truncatedFolders&&p!==(p=w(e.folder.name))&&function(t,e){t.data=""+e}(l,p),t.truncatedFolders&&h!==(h=e.folder.url)&&(n.href=h)},d:function(t){t&&a(n)}}}function N(t,e){var n;return{c:function(){(n=c("span")).textContent="…",n.className="svelte-1t62wad"},m:function(t,e){s(t,n,e)},p:r,d:function(t){t&&a(n)}}}function j(t,e){var n;function r(t){return t.folder.ellipsis?N:C}var o=r(e),i=o(t,e);return{c:function(){i.c(),n=document.createComment("")},m:function(t,e){i.m(t,e),s(t,n,e)},p:function(e,s){o===(o=r(s))&&i?i.p(e,s):(i.d(1),(i=o(t,s)).c(),i.m(n.parentNode,n))},d:function(t){i.d(t),t&&a(n)}}}function A(t){!function(t,e){t._handlers=f(),t._slots=f(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}(this,t),this._state=o({type:"chart",folders:[],team:null},t.data),this._recompute({folders:1},this._state),this._intro=!0,this._fragment=function(t,e){for(var n,r,o,f,d,l,h,p=y("editor / chart-breadcrumb / "+e.type),_=y("editor / chart-breadcrumb / is-in-folder"),m=e.truncatedFolders,v=[],g=0;g<m.length;g+=1)v[g]=j(t,S(e,m,g));return{c:function(){n=c("div"),r=c("noscript"),o=u(" "),f=c("noscript"),d=c("noscript"),l=u("\n    "),h=c("div");for(var t=0;t<v.length;t+=1)v[t].c();h.className="parts svelte-1t62wad",n.className="chart-breadcrumb svelte-1t62wad"},m:function(t,e){s(t,n,e),i(n,r),r.insertAdjacentHTML("beforebegin",p),i(n,o),i(n,f),f.insertAdjacentHTML("afterend",_),i(n,d),i(n,l),i(n,h);for(var a=0;a<v.length;a+=1)v[a].m(h,null)},p:function(e,n){if(e.type&&p!==(p=y("editor / chart-breadcrumb / "+n.type))&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(r),r.insertAdjacentHTML("beforebegin",p)),e.truncatedFolders){m=n.truncatedFolders;for(var o=0;o<m.length;o+=1){var i=S(n,m,o);v[o]?v[o].p(e,i):(v[o]=j(t,i),v[o].c(),v[o].m(h,null))}for(;o<v.length;o+=1)v[o].d(1);v.length=m.length}},d:function(t){t&&a(n),function(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(v,t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function F(t,e){this._handlers={},this._dependents=[],this._computed=f(),this._sortedComputedProperties=[],this._state=o({},t),this._differs=e&&e.immutable?l:d}return o(A.prototype,v),A.prototype._recompute=function(t,n){var r;t.folders&&this._differs(n.truncatedFolders,n.truncatedFolders=(r=n.folders).length<6?r:[].concat(e(r.slice(0,3)),[{ellipsis:!0}],e(r.slice(-1))))&&(t.truncatedFolders=!0)},o(F.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n];e["$"+r]=this._state[r]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var n=this,r=this._state;this._state=o(o({},r),t);for(var i=0;i<this._sortedComputedProperties.length;i+=1)this._sortedComputedProperties[i].update(this._state,e);this.fire("state",{changed:e,previous:r,current:this._state}),this._dependents.filter((function(t){for(var r={},o=!1,i=0;i<t.props.length;i+=1){var s=t.props[i];s in e&&(r["$"+s]=n._state[s],o=!0)}if(o)return t.component._stage(r),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:r,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],r=f();function o(i){var s=e[i];s&&(s.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(i));o(e)})),r[i]||(r[i]=!0,n.push(s)))}for(var i in this._computed)o(t=i)},compute:function(t,e,n){var r,i=this,s={deps:e,update:function(o,s,a){var c=e.map((function(t){return t in s&&(a=!0),o[t]}));if(a){var u=n.apply(null,c);i._differs(u,r)&&(r=u,s[t]=!0,o[t]=r)}}};this._computed[t]=s,this._sortComputedProperties();var a=o({},this._state),c={};s.update(a,c,!0),this._set(a,c)},fire:h,get:p,on:_,set:function(t){var e=this._state,n=this._changed={},r=!1;for(var o in t){if(this._computed[o])throw new Error("'".concat(o,"' is a read-only computed property"));this._differs(t[o],e[o])&&(n[o]=r=!0)}r&&this._set(t,n)}}),{App:A,store:new F({})}}));
