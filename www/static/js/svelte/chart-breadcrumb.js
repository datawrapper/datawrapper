!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/chart-breadcrumb",e):(t=t||self)["chart-breadcrumb"]=e()}(this,(function(){"use strict";var t=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n};var e=function(e){if(Array.isArray(e))return t(e)};var r=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var n=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}};var o=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var i=function(t){return e(t)||r(t)||n(t)||o()};var s=function(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}((function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e}));function a(){}function c(t,e){for(var r in e)t[r]=e[r];return t}function u(t,e){t.appendChild(e)}function f(t,e,r){t.insertBefore(e,r)}function d(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function p(){return Object.create(null)}function _(t,e){return t!=t?e==e:t!==e||t&&"object"===s(t)||"function"==typeof t}function m(t,e){return t!=t?e==e:t!==e}function v(t,e){var r=t in this._handlers&&this._handlers[t].slice();if(r)for(var n=0;n<r.length;n+=1){var o=r[n];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function g(){return this._state}function b(t,e){var r=this._handlers[t]||(this._handlers[t]=[]);return r.push(e),{cancel:function(){var t=r.indexOf(e);~t&&r.splice(t,1)}}}function y(t){for(;t&&t.length;)t.shift()()}var w={destroy:function(t){this.destroy=a,this.fire("destroy"),this.set=a,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:g,fire:v,on:b,set:function(t){var e;this._set(c({},t)),this.root._lock||((e=this.root)._lock=!0,y(e._beforecreate),y(e._oncreate),y(e._aftercreate),e._lock=!1)},_recompute:a,_set:function(t){var e=this._state,r={},n=!1;for(var o in t=c(this._staged,t),this._staged={},t)this._differs(t[o],e[o])&&(r[o]=n=!0);n&&(this._state=c(c({},e),t),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:e}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:e})))},_stage:function(t){c(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:_},S={};function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(S[t]=window.__dw.vis.meta.locale||{}):S[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function C(t){var e=arguments,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),S[r]||j(r),!S[r][t])return"MISSING:"+t;var n=S[r][t];return"string"==typeof n&&arguments.length>2&&(n=n.replace(/\$(\d)/g,(function(t,r){return r=2+Number(r),void 0===e[r]?t:e[r]}))),n}function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"!=typeof t?t:t.length<e+r+3?t:t.substr(0,e).trim()+"…"+t.substr(t.length-r).trim()}function x(t,e,r){var n=Object.create(t);return n.folder=e[r],n}function A(t,e){var r,n,o,i,s,a,c,p=N(e.folder.name);return{c:function(){r=l("a"),n=l("i"),i=h(" "),s=l("span"),a=h(p),n.className=o=(e.folder.icon||"im im-folder")+" svelte-1t62wad",s.className="svelte-1t62wad",r.href=c=e.folder.url,r.className="svelte-1t62wad"},m:function(t,e){f(t,r,e),u(r,n),u(r,i),u(r,s),u(s,a)},p:function(t,e){t.truncatedFolders&&o!==(o=(e.folder.icon||"im im-folder")+" svelte-1t62wad")&&(n.className=o),t.truncatedFolders&&p!==(p=N(e.folder.name))&&function(t,e){t.data=""+e}(a,p),t.truncatedFolders&&c!==(c=e.folder.url)&&(r.href=c)},d:function(t){t&&d(r)}}}function F(t,e){var r;return{c:function(){(r=l("span")).textContent="…",r.className="svelte-1t62wad"},m:function(t,e){f(t,r,e)},p:a,d:function(t){t&&d(r)}}}function E(t,e){var r;function n(t){return t.folder.ellipsis?F:A}var o=n(e),i=o(t,e);return{c:function(){i.c(),r=document.createComment("")},m:function(t,e){i.m(t,e),f(t,r,e)},p:function(e,s){o===(o=n(s))&&i?i.p(e,s):(i.d(1),(i=o(t,s)).c(),i.m(r.parentNode,r))},d:function(t){i.d(t),t&&d(r)}}}function O(t){!function(t,e){t._handlers=p(),t._slots=p(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}(this,t),this._state=c({type:"chart",folders:[],team:null},t.data),this._recompute({folders:1},this._state),this._intro=!0,this._fragment=function(t,e){for(var r,n,o,i,s,a,c,p=C("editor / chart-breadcrumb / "+e.type),_=C("editor / chart-breadcrumb / is-in-folder"),m=e.truncatedFolders,v=[],g=0;g<m.length;g+=1)v[g]=E(t,x(e,m,g));return{c:function(){r=l("div"),n=l("noscript"),o=h("\n    "),i=l("noscript"),s=l("noscript"),a=h("\n    "),c=l("div");for(var t=0;t<v.length;t+=1)v[t].c();c.className="parts svelte-1t62wad",r.className="chart-breadcrumb svelte-1t62wad"},m:function(t,e){f(t,r,e),u(r,n),n.insertAdjacentHTML("beforebegin",p),u(r,o),u(r,i),i.insertAdjacentHTML("afterend",_),u(r,s),u(r,a),u(r,c);for(var d=0;d<v.length;d+=1)v[d].m(c,null)},p:function(e,r){if(e.type&&p!==(p=C("editor / chart-breadcrumb / "+r.type))&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(n),n.insertAdjacentHTML("beforebegin",p)),e.truncatedFolders){m=r.truncatedFolders;for(var o=0;o<m.length;o+=1){var i=x(r,m,o);v[o]?v[o].p(e,i):(v[o]=E(t,i),v[o].c(),v[o].m(c,null))}for(;o<v.length;o+=1)v[o].d(1);v.length=m.length}},d:function(t){t&&d(r),function(t,e){for(var r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}(v,t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function k(t,e){this._handlers={},this._dependents=[],this._computed=p(),this._sortedComputedProperties=[],this._state=c({},t),this._differs=e&&e.immutable?m:_}return c(O.prototype,w),O.prototype._recompute=function(t,e){var r;t.folders&&this._differs(e.truncatedFolders,e.truncatedFolders=(r=e.folders).length<6?r:[].concat(i(r.slice(0,3)),[{ellipsis:!0}],i(r.slice(-1))))&&(t.truncatedFolders=!0)},c(k.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},r=0;r<t.length;r+=1){var n=t[r];e["$"+n]=this._state[n]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var r=this,n=this._state;this._state=c(c({},n),t);for(var o=0;o<this._sortedComputedProperties.length;o+=1)this._sortedComputedProperties[o].update(this._state,e);this.fire("state",{changed:e,previous:n,current:this._state}),this._dependents.filter((function(t){for(var n={},o=!1,i=0;i<t.props.length;i+=1){var s=t.props[i];s in e&&(n["$"+s]=r._state[s],o=!0)}if(o)return t.component._stage(n),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:n,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,r=this._sortedComputedProperties=[],n=p();function o(i){var s=e[i];s&&(s.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(i));o(e)})),n[i]||(n[i]=!0,r.push(s)))}for(var i in this._computed)o(t=i)},compute:function(t,e,r){var n,o=this,i={deps:e,update:function(i,s,a){var c=e.map((function(t){return t in s&&(a=!0),i[t]}));if(a){var u=r.apply(null,c);o._differs(u,n)&&(n=u,s[t]=!0,i[t]=n)}}};this._computed[t]=i,this._sortComputedProperties();var s=c({},this._state),a={};i.update(s,a,!0),this._set(s,a)},fire:v,get:g,on:b,set:function(t){var e=this._state,r=this._changed={},n=!1;for(var o in t){if(this._computed[o])throw new Error("'".concat(o,"' is a read-only computed property"));this._differs(t[o],e[o])&&(r[o]=n=!0)}n&&this._set(t,r)}}),{App:O,store:new k({})}}));
