!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/team-settings",e):(t=t||self)["team-settings"]=e()}(this,(function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var n=t(e((function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0}))),i=e((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),s=t(i),a=e((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i},t.exports.default=t.exports,t.exports.__esModule=!0}));t(a);var r=e((function(t){t.exports=function(t){if(Array.isArray(t))return a(t)},t.exports.default=t.exports,t.exports.__esModule=!0}));t(r);var o=e((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0}));t(o);var l=e((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0}));t(l);var c=e((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0}));t(c);var u=t(e((function(t){t.exports=function(t){return r(t)||o(t)||l(t)||c()},t.exports.default=t.exports,t.exports.__esModule=!0})));function d(){}function f(t,e){for(var n in e)t[n]=e[n];return t}function p(t,e){for(var n in e)t[n]=1;return t}function m(t){t()}function h(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n)}function g(t){t.parentNode.removeChild(t)}function b(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function _(t){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)}function y(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}function w(t,e){for(;t.nextSibling;)e.appendChild(t.nextSibling)}function x(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(){return document.createDocumentFragment()}function N(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function M(){return document.createComment("")}function O(t,e,n,i){t.addEventListener(e,n,i)}function H(t,e,n,i){t.removeEventListener(e,n,i)}function C(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function A(t){return""===t?void 0:+t}function E(t,e){t.data=""+e}function L(t,e,n){t.style.setProperty(e,n)}function P(t,e){for(var n=0;n<t.options.length;n+=1){var i=t.options[n];if(i.__value===e)return void(i.selected=!0)}}function U(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function j(t,e,n){t.classList[n?"add":"remove"](e)}function S(t){return t}function I(t,e,n,i,s){var a,r,o,l=n.call(t,e,i),c=!1;return{t:s?0:1,running:!1,program:null,pending:null,run:function(t,e){var n=this;"function"==typeof l?q.wait().then((function(){l=l(),n._run(t,e)})):this._run(t,e)},_run:function(t,n){a=l.duration||300,r=l.easing||S;var i={start:window.performance.now()+(l.delay||0),b:t,callback:n||d};s&&!c&&(l.css&&l.delay&&(o=e.style.cssText,e.style.cssText+=l.css(0,1)),l.tick&&l.tick(0,1),c=!0),t||(i.group=W.current,W.current.remaining+=1),l.delay?this.pending=i:this.start(i),this.running||(this.running=!0,q.add(this))},start:function(n){if(t.fire("".concat(n.b?"intro":"outro",".start"),{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=a*Math.abs(n.b-n.a),n.end=n.start+n.duration,l.css){l.delay&&(e.style.cssText=o);var i=function(t,e,n){for(var i=t.a,s=t.b,a=t.delta,r=16.666/t.duration,o="{\n",l=0;l<=1;l+=r){var c=i+a*e(l);o+=100*l+"%{".concat(n(c,1-c),"}\n")}return o+"100% {".concat(n(s,1-s),"}\n}")}(n,r,l.css);q.addRule(i,n.name="__svelte_"+function(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(i)),e.style.animation=(e.style.animation||"").split(", ").filter((function(t){return t&&(n.delta<0||!/__svelte/.test(t))})).concat("".concat(n.name," ").concat(n.duration,"ms linear 1 forwards")).join(", ")}this.program=n,this.pending=null},update:function(t){var e=this.program;if(e){var n=t-e.start;this.t=e.a+e.delta*r(n/e.duration),l.tick&&l.tick(this.t,1-this.t)}},done:function(){var n=this.program;this.t=n.b,l.tick&&l.tick(this.t,1-this.t),t.fire("".concat(n.b?"intro":"outro",".end"),{node:e}),n.b||n.invalidated?l.css&&q.deleteRule(e,n.name):(n.group.callbacks.push((function(){n.callback(),l.css&&q.deleteRule(e,n.name)})),0==--n.group.remaining&&n.group.callbacks.forEach(m)),this.running=!!this.pending},abort:function(t){this.program&&(t&&l.tick&&l.tick(1,0),l.css&&q.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate:function(){this.program&&(this.program.invalidated=!0)}}}var W={};function z(){W.current={remaining:0,callbacks:[]}}var q={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add:function(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(t,e){if(!this.stylesheet){var n=N("style");document.head.appendChild(n),q.stylesheet=n.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule("@keyframes ".concat(e," ").concat(t),this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var t=window.performance.now(),e=this.transitions.length;e--;){var n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(var i=this.stylesheet.cssRules.length;i--;)this.stylesheet.deleteRule(i);this.activeRules={}}},deleteRule:function(t,e){t.style.animation=t.style.animation.split(", ").filter((function(t){return t&&-1===t.indexOf(e)})).join(", ")},wait:function(){return q.promise||(q.promise=Promise.resolve(),q.promise.then((function(){q.promise=null}))),q.promise}};function D(t,e){var i=e.token={};function s(t,s,a,r){if(e.token===i){e.resolved=a&&n({},a,r);var o=f(f({},e.ctx),e.resolved),l=t&&(e.current=t)(e.component,o);e.block&&(e.blocks?e.blocks.forEach((function(t,n){n!==s&&t&&(z(),t.o((function(){t.d(1),e.blocks[n]=null})))})):e.block.d(1),l.c(),l[l.i?"i":"m"](e.mount(),e.anchor),e.component.root.set({})),e.block=l,e.blocks&&(e.blocks[s]=l)}}if(function(t){return t&&"function"==typeof t.then}(t)){if(t.then((function(t){s(e.then,1,e.value,t)}),(function(t){s(e.catch,2,e.error,t)})),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=n({},e.value,t)}}function R(){return Object.create(null)}function B(t,e){return t!=t?e==e:t!==e||t&&"object"===s(t)||"function"==typeof t}function F(t,e){return t!=t?e==e:t!==e}function $(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var s=n[i];if(!s.__calling)try{s.__calling=!0,s.call(this,e)}finally{s.__calling=!1}}}function V(t){t._lock=!0,X(t._beforecreate),X(t._oncreate),X(t._aftercreate),t._lock=!1}function G(){return this._state}function J(t,e){t._handlers=R(),t._slots=R(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function Z(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function X(t){for(;t&&t.length;)t.shift()()}var K={destroy:function(t){this.destroy=d,this.fire("destroy"),this.set=d,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:G,fire:$,on:Z,set:function(t){this._set(f({},t)),this.root._lock||V(this.root)},_recompute:d,_set:function(t){var e=this._state,n={},i=!1;for(var s in t=f(this._staged,t),this._staged={},t)this._differs(t[s],e[s])&&(n[s]=i=!0);i&&(this._state=f(f({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){f(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:B},Q={};function Y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Q[t]=window.__dw.vis.meta.locale||{}):Q[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function tt(t){var e=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),Q[n]||Y(n),!Q[n][t])return"MISSING:"+t;var i=Q[n][t];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(t,n){return n=2+Number(n),void 0===e[n]?t:e[n]}))),i}function et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"!=typeof t||t.length<e+n+3?t:t.substr(0,e).trim()+"…"+t.substr(t.length-n).trim()}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,i){var s=document.createElement("script");s.src=t,s.onload=function(){e&&e(),n()},s.onerror=i,document.body.appendChild(s)}))}function it(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof t&&(t={src:t}),t.parentElement&&"function"==typeof t.parentElement.appendChild||(t.parentElement=document.head),new Promise((function(n,i){var s=document.createElement("link");s.rel="stylesheet",s.href=t.src,s.onload=function(){e&&e(),n()},s.onerror=i,t.parentElement.appendChild(s)}))}var st={activateTab:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t.module)return n&&n.preventDefault(),void Promise.all([it(t.css),nt(t.js||t.src)]).then((function(){require([t.module],(function(n){t.ui=n.App,t.module=null;var i=e.get().groups;e.set({groups:i,activeTab:t})}))}));t.ui&&(n&&n.preventDefault(),this.set({activeTab:t}))},onTabChange:function(t,e){t.onchange&&t.onchange(e,this.refs.currentTabUi)}};function at(t){var e=this._svelte,n=e.component,i=e.ctx;n.activateTab(i.tab,t)}function rt(t,e,n){var i=Object.create(t);return i.tab=e[n],i}function ot(t,e,n){var i=Object.create(t);return i.group=e[n],i}function lt(t,e){var n,i,s,a,r,o,l,c=e.tab.title;return{c:function(){n=N("li"),i=N("a"),s=N("i"),r=k("   "),o=k(c),s.className=a=e.tab.icon+" svelte-5we305",i._svelte={component:t,ctx:e},O(i,"click",at),i.href=l=e.tab.url||"/".concat(e.basePath,"/").concat(e.tab.id),i.className="svelte-5we305",n.className="svelte-5we305",j(n,"active",e.activeTab&&e.activeTab.id===e.tab.id)},m:function(t,e){v(t,n,e),h(n,i),h(i,s),h(i,r),h(i,o)},p:function(t,r){e=r,t.groups&&a!==(a=e.tab.icon+" svelte-5we305")&&(s.className=a),t.groups&&c!==(c=e.tab.title)&&E(o,c),i._svelte.ctx=e,(t.groups||t.basePath)&&l!==(l=e.tab.url||"/".concat(e.basePath,"/").concat(e.tab.id))&&(i.href=l),(t.activeTab||t.groups)&&j(n,"active",e.activeTab&&e.activeTab.id===e.tab.id)},d:function(t){t&&g(n),H(i,"click",at)}}}function ct(t,e){for(var n,i,s,a,r=e.group.title,o=e.group.tabs,l=[],c=0;c<o.length;c+=1)l[c]=lt(t,rt(e,o,c));return{c:function(){n=N("div"),i=k(r),s=k("\n\n        "),a=N("ul");for(var t=0;t<l.length;t+=1)l[t].c();n.className="group svelte-5we305",a.className="nav nav-stacked nav-tabs"},m:function(t,e){v(t,n,e),h(n,i),v(t,s,e),v(t,a,e);for(var r=0;r<l.length;r+=1)l[r].m(a,null)},p:function(e,n){if(e.groups&&r!==(r=n.group.title)&&E(i,r),e.activeTab||e.groups||e.basePath){o=n.group.tabs;for(var s=0;s<o.length;s+=1){var c=rt(n,o,s);l[s]?l[s].p(e,c):(l[s]=lt(t,c),l[s].c(),l[s].m(a,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=o.length}},d:function(t){t&&(g(n),g(s),g(a)),x(l,t)}}}function ut(t,e){var n,i,s,a,r,o,l=t._slotted.aboveContent,c=t._slotted.belowContent,u=[e.activeTab.data],d=e.activeTab.ui;function p(e){for(var n={},i=0;i<u.length;i+=1)n=f(n,u[i]);return{root:t.root,store:t.store,data:n}}if(d)var m=new d(p());function b(n){t.onTabChange(e.activeTab,n)}return m&&m.on("change",b),{c:function(){n=N("div"),s=k("\n        "),m&&m._fragment.c(),a=k("\n        "),n.className=o="span10 account-page-content tab-"+e.activeTab.id+" svelte-5we305"},m:function(e,o){v(e,n,o),l&&(h(n,l),h(n,i||(i=M()))),h(n,s),m&&(m._mount(n,null),t.refs.currentTabUi=m),h(n,a),c&&(h(n,r||(r=M())),h(n,c))},p:function(i,s){e=s;var r=i.activeTab?function(t,e){for(var n={},i={},s={},a=t.length;a--;){var r=t[a],o=e[a];if(o){for(var l in r)l in o||(i[l]=1);for(var l in o)s[l]||(n[l]=o[l],s[l]=1);t[a]=o}else for(var l in r)s[l]=1}for(var l in i)l in n||(n[l]=void 0);return n}(u,[e.activeTab.data]):{};d!==(d=e.activeTab.ui)?(m&&m.destroy(),d?((m=new d(p()))._fragment.c(),m._mount(n,a),m.on("change",b),t.refs.currentTabUi=m):(m=null,t.refs.currentTabUi===m&&(t.refs.currentTabUi=null))):d&&m._set(r),i.activeTab&&o!==(o="span10 account-page-content tab-"+e.activeTab.id+" svelte-5we305")&&(n.className=o)},d:function(t){t&&g(n),l&&function(t,e){for(var n=t.parentNode;n.firstChild!==t;)e.appendChild(n.firstChild)}(i,l),m&&m.destroy(),c&&w(r,c)}}}function dt(t){J(this,t),this.refs={},this._state=f({groups:[],basePath:"",activeTab:null},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){for(var n,i,s,a,r,o=t._slotted.belowMenu,l=e.groups,c=[],u=0;u<l.length;u+=1)c[u]=ct(t,ot(e,l,u));var d=e.activeTab&&ut(t,e);return{c:function(){n=N("div"),i=N("div");for(var t=0;t<c.length;t+=1)c[t].c();s=k("\n        "),r=k("\n    "),d&&d.c(),i.className="span2 svelte-5we305",n.className="row"},m:function(t,e){v(t,n,e),h(n,i);for(var l=0;l<c.length;l+=1)c[l].m(i,null);h(i,s),o&&(h(i,a||(a=M())),h(i,o)),h(n,r),d&&d.m(n,null)},p:function(e,a){if(e.groups||e.activeTab||e.basePath){l=a.groups;for(var r=0;r<l.length;r+=1){var o=ot(a,l,r);c[r]?c[r].p(e,o):(c[r]=ct(t,o),c[r].c(),c[r].m(i,s))}for(;r<c.length;r+=1)c[r].d(1);c.length=l.length}a.activeTab?d?d.p(e,a):((d=ut(t,a)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(t){t&&g(n),x(c,t),o&&w(a,o),d&&d.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}f(dt.prototype,K),f(dt.prototype,st);var ft={true:"ASC",false:"DESC"},pt=ft.true;var mt={sort:function(t,e){t.preventDefault();var n,i=(n=this.get(),e===n.orderBy?ft[n.order!==pt]:pt);this.set({orderBy:e,order:i}),this.fire("sort",{orderBy:e,order:i})}};function ht(t){var e=this._svelte,n=e.component,i=e.ctx;n.sort(t,i.item.orderBy)}function vt(t,e,n){var i=Object.create(t);return i.item=e[n],i}function gt(t,e,n){var i=Object.create(t);return i.item=e[n],i}function bt(t,e){var n;return{c:function(){L(n=N("col"),"width",e.item.width)},m:function(t,e){v(t,n,e)},p:function(t,e){t.columnHeaders&&L(n,"width",e.item.width)},d:function(t){t&&g(n)}}}function _t(t,e){var n,i,s=e.item.title;return{c:function(){n=N("span"),i=k(s),n.className="col"},m:function(t,e){v(t,n,e),h(n,i)},p:function(t,e){t.columnHeaders&&s!==(s=e.item.title)&&E(i,s)},d:function(t){t&&g(n)}}}function yt(t,e){var n,i,s,a,r=e.item.title;return{c:function(){n=N("a"),i=k(r),n._svelte={component:t,ctx:e},O(n,"click",ht),n.className=s="sortable "+(e.isActive(e.item)?e.isAscending?"sortable-asc":"sortable-desc":"")+" svelte-l1s1ms",n.href=a="?orderBy=".concat(e.item.orderBy)},m:function(t,e){v(t,n,e),h(n,i)},p:function(t,o){e=o,t.columnHeaders&&r!==(r=e.item.title)&&E(i,r),n._svelte.ctx=e,(t.isActive||t.columnHeaders||t.isAscending)&&s!==(s="sortable "+(e.isActive(e.item)?e.isAscending?"sortable-asc":"sortable-desc":"")+" svelte-l1s1ms")&&(n.className=s),t.columnHeaders&&a!==(a="?orderBy=".concat(e.item.orderBy))&&(n.href=a)},d:function(t){t&&g(n),H(n,"click",ht)}}}function wt(t,e){var n,i;function s(t){return t.item.orderBy?yt:_t}var a=s(e),r=a(t,e);return{c:function(){n=N("th"),r.c(),n.className=i=(e.item.className?e.item.className:"")+" svelte-l1s1ms"},m:function(t,e){v(t,n,e),r.m(n,null)},p:function(e,o){a===(a=s(o))&&r?r.p(e,o):(r.d(1),(r=a(t,o)).c(),r.m(n,null)),e.columnHeaders&&i!==(i=(o.item.className?o.item.className:"")+" svelte-l1s1ms")&&(n.className=i)},d:function(t){t&&g(n),r.d()}}}function xt(t){J(this,t),this._state=f({order:pt,orderBy:""},t.data),this._recompute({orderBy:1,order:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){for(var n,i,s,a,r,o,l,c,u=t._slotted.default,d=e.columnHeaders,f=[],p=0;p<d.length;p+=1)f[p]=bt(t,gt(e,d,p));var m=e.columnHeaders,b=[];for(p=0;p<m.length;p+=1)b[p]=wt(t,vt(e,m,p));return{c:function(){n=N("div"),i=N("table"),s=N("colgroup");for(var t=0;t<f.length;t+=1)f[t].c();a=k("\n\n        "),r=N("thead"),o=N("tr");for(t=0;t<b.length;t+=1)b[t].c();l=k("\n\n        "),c=N("tbody"),i.className="table svelte-l1s1ms",n.className="table-container svelte-l1s1ms"},m:function(t,e){v(t,n,e),h(n,i),h(i,s);for(var d=0;d<f.length;d+=1)f[d].m(s,null);h(i,a),h(i,r),h(r,o);for(d=0;d<b.length;d+=1)b[d].m(o,null);h(i,l),h(i,c),u&&h(c,u)},p:function(e,n){if(e.columnHeaders){d=n.columnHeaders;for(var i=0;i<d.length;i+=1){var a=gt(n,d,i);f[i]?f[i].p(e,a):(f[i]=bt(t,a),f[i].c(),f[i].m(s,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=d.length}if(e.columnHeaders||e.isActive||e.isAscending){m=n.columnHeaders;for(i=0;i<m.length;i+=1){var r=vt(n,m,i);b[i]?b[i].p(e,r):(b[i]=wt(t,r),b[i].c(),b[i].m(o,null))}for(;i<b.length;i+=1)b[i].d(1);b.length=m.length}},d:function(t){t&&g(n),x(f,t),x(b,t),u&&y(c,u)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function Tt(t,e,n){var i=Object.create(t);return i.opt=e[n],i}function Nt(t,e,n){var i=Object.create(t);return i.optgroup=e[n],i}function kt(t,e,n){var i=Object.create(t);return i.opt=e[n],i}function Mt(t,e){for(var n,i=e.options,s=[],a=0;a<i.length;a+=1)s[a]=Ot(t,kt(e,i,a));return{c:function(){for(var t=0;t<s.length;t+=1)s[t].c();n=M()},m:function(t,e){for(var i=0;i<s.length;i+=1)s[i].m(t,e);v(t,n,e)},p:function(e,a){if(e.options||e.value){i=a.options;for(var r=0;r<i.length;r+=1){var o=kt(a,i,r);s[r]?s[r].p(e,o):(s[r]=Ot(t,o),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d:function(t){x(s,t),t&&g(n)}}}function Ot(t,e){var n,i,s,a,r=e.opt.label;return{c:function(){n=N("option"),i=k(r),n.__value=s=e.opt.value,n.value=n.__value,n.selected=a=e.opt.value===e.value},m:function(t,e){v(t,n,e),h(n,i)},p:function(t,e){t.options&&r!==(r=e.opt.label)&&E(i,r),t.options&&s!==(s=e.opt.value)&&(n.__value=s),n.value=n.__value,(t.options||t.value)&&a!==(a=e.opt.value===e.value)&&(n.selected=a)},d:function(t){t&&g(n)}}}function Ht(t,e){for(var n,i=e.optgroups,s=[],a=0;a<i.length;a+=1)s[a]=At(t,Nt(e,i,a));return{c:function(){for(var t=0;t<s.length;t+=1)s[t].c();n=M()},m:function(t,e){for(var i=0;i<s.length;i+=1)s[i].m(t,e);v(t,n,e)},p:function(e,a){if(e.optgroups||e.value){i=a.optgroups;for(var r=0;r<i.length;r+=1){var o=Nt(a,i,r);s[r]?s[r].p(e,o):(s[r]=At(t,o),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d:function(t){x(s,t),t&&g(n)}}}function Ct(t,e){var n,i,s,a,r=e.opt.label;return{c:function(){n=N("option"),i=k(r),n.__value=s=e.opt.value,n.value=n.__value,n.selected=a=e.opt.value===e.value},m:function(t,e){v(t,n,e),h(n,i)},p:function(t,e){t.optgroups&&r!==(r=e.opt.label)&&E(i,r),t.optgroups&&s!==(s=e.opt.value)&&(n.__value=s),n.value=n.__value,(t.optgroups||t.value)&&a!==(a=e.opt.value===e.value)&&(n.selected=a)},d:function(t){t&&g(n)}}}function At(t,e){for(var n,i,s=e.optgroup.options,a=[],r=0;r<s.length;r+=1)a[r]=Ct(0,Tt(e,s,r));return{c:function(){n=N("optgroup");for(var t=0;t<a.length;t+=1)a[t].c();C(n,"label",i=e.optgroup.label)},m:function(t,e){v(t,n,e);for(var i=0;i<a.length;i+=1)a[i].m(n,null)},p:function(t,e){if(t.optgroups||t.value){s=e.optgroup.options;for(var r=0;r<s.length;r+=1){var o=Tt(e,s,r);a[r]?a[r].p(t,o):(a[r]=Ct(0,o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}t.optgroups&&i!==(i=e.optgroup.label)&&C(n,"label",i)},d:function(t){t&&g(n),x(a,t)}}}function Et(t){J(this,t),this._state=f({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[],value:null,class:""},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,s,a=!1,r=e.options.length&&Mt(t,e),o=e.optgroups.length&&Ht(t,e);function l(){a=!0,t.set({value:U(n)}),a=!1}function c(e){t.fire("change",e)}return{c:function(){n=N("select"),r&&r.c(),i=M(),o&&o.c(),O(n,"change",l),"value"in e||t.root._beforecreate.push(l),O(n,"change",c),n.className=s="select-css "+e.class+" svelte-v0oq4b",n.disabled=e.disabled,L(n,"width",e.width)},m:function(t,s){v(t,n,s),r&&r.m(n,null),h(n,i),o&&o.m(n,null),P(n,e.value)},p:function(e,l){l.options.length?r?r.p(e,l):((r=Mt(t,l)).c(),r.m(n,i)):r&&(r.d(1),r=null),l.optgroups.length?o?o.p(e,l):((o=Ht(t,l)).c(),o.m(n,null)):o&&(o.d(1),o=null),!a&&e.value&&P(n,l.value),e.class&&s!==(s="select-css "+l.class+" svelte-v0oq4b")&&(n.className=s),e.disabled&&(n.disabled=l.disabled),e.width&&L(n,"width",l.width)},d:function(t){t&&g(n),r&&r.d(),o&&o.d(),H(n,"change",l),H(n,"change",c)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}f(xt.prototype,K),f(xt.prototype,mt),xt.prototype._recompute=function(t,e){var n;t.orderBy&&this._differs(e.isActive,e.isActive=(n=e.orderBy,function(t){return n===t.orderBy}))&&(t.isActive=!0),t.order&&this._differs(e.isAscending,e.isAscending=e.order===pt)&&(t.isAscending=!0)},f(Et.prototype,K);var Lt=t(e((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0}))),Pt=e((function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,e(n,i)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}));t(Pt);var Ut=t(e((function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0}))),jt=e((function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0}));t(jt);var St=t(e((function(t){var e=i.default;t.exports=function(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?jt(t):n},t.exports.default=t.exports,t.exports.__esModule=!0}))),It=e((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),Wt=t(It),zt=e((function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.default=t.exports,t.exports.__esModule=!0}));t(zt);var qt=e((function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0}));t(qt);var Dt=e((function(t){function e(n,i,s){return qt()?(t.exports=e=Reflect.construct,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t,e,n){var i=[null];i.push.apply(i,e);var s=new(Function.bind.apply(t,i));return n&&Pt(s,n.prototype),s},t.exports.default=t.exports,t.exports.__esModule=!0),e.apply(null,arguments)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}));t(Dt);var Rt=t(e((function(t){function e(n){var i="function"==typeof Map?new Map:void 0;return t.exports=e=function(t){if(null===t||!zt(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return Dt(t,arguments,It(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Pt(e,t)},t.exports.default=t.exports,t.exports.__esModule=!0,e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}))),Bt=e((function(t){t.exports=function(t,e){if(null==t)return{};var n,i,s={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(s[n]=t[n]);return s},t.exports.default=t.exports,t.exports.__esModule=!0}));t(Bt);var Ft=t(e((function(t){t.exports=function(t,e){if(null==t)return{};var n,i,s=Bt(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s},t.exports.default=t.exports,t.exports.__esModule=!0}))),$t=e((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function s(){}function a(e,n,a){if("undefined"!=typeof document){"number"==typeof(a=t({path:"/"},s.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in a)a[l]&&(o+="; "+l,!0!==a[l]&&(o+="="+a[l].split(";")[0]));return document.cookie=e+"="+n+o}}function r(t,n){if("undefined"!=typeof document){for(var s={},a=document.cookie?document.cookie.split("; "):[],r=0;r<a.length;r++){var o=a[r].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(o[0]);if(l=(i.read||i)(l,c)||e(l),n)try{l=JSON.parse(l)}catch(t){}if(s[c]=l,t===c)break}catch(t){}}return t?s[t]:s}}return s.set=a,s.get=function(t){return r(t,!1)},s.getJSON=function(t){return r(t,!0)},s.remove=function(e,n){a(e,"",t(n,{expires:-1}))},s.defaults={},s.withConverter=n,s}((function(){}))},t.exports=n()}));function Vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Wt(t);if(e){var s=Wt(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return St(this,n)}}function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Zt=new Set(["get","head","options","trace"]);function Xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.fetch)try{e.fetch=window.fetch}catch(t){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!e.baseUrl)try{e.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(t){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,i=Jt(Jt({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},e),{},{headers:Jt({"Content-Type":"application/json"},e.headers)}),s=i.payload,a=i.baseUrl,r=i.fetch,o=i.raw,l=Ft(i,["payload","baseUrl","fetch","raw"]),c="".concat(a.replace(/\/$/,""),"/").concat(t.replace(/^\//,""));if(s&&(l.body=JSON.stringify(s)),Zt.has(l.method.toLowerCase()))n=r(c,l);else{var u=$t.get("crumb");u?(l.headers["X-CSRF-Token"]=u,n=r(c,l)):n=Xt("/v3/me",{fetch:r,baseUrl:a}).then((function(){var t=$t.get("crumb");t&&(l.headers["X-CSRF-Token"]=t)})).catch((function(){})).then((function(){return r(c,l)}))}return n.then((function(t){if(o)return t;if(!t.ok)throw new ee(t);if(204===t.status||!t.headers.get("content-type"))return t;var e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()}))}var Kt=Xt.get=te("GET"),Qt=(Xt.patch=te("PATCH"),Xt.put=te("PUT")),Yt=Xt.post=te("POST");Xt.head=te("HEAD");function te(t){return function(e,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(t.toLowerCase(),"()"));return Xt(e,Jt(Jt({},n),{},{method:t}))}}Xt.delete=te("DELETE");var ee=function(t){Ut(n,t);var e=Vt(n);function n(t){var i;return Lt(this,n),(i=e.call(this)).name="HttpReqError",i.status=t.status,i.statusText=t.statusText,i.message="[".concat(t.status,"] ").concat(t.statusText),i.response=t,i}return n}(Rt(Error));function ne(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}var ie=[{value:"owner",label:tt("teams / role / owner").replace("&shy;","")},{value:"admin",label:tt("teams / role / admin").replace("&shy;","")},{value:"member",label:tt("teams / role / member").replace("&shy;","")}];function se(t){return{member:tt("teams / role / member"),admin:tt("teams / role / admin"),owner:tt("teams / role / owner")}[t]}var ae={toggleEdit:function(t){this.get().editId===t?(this.set({editId:!1}),this.updateRole(t)):this.set({editId:t})},removeUser:function(t){try{var e=this;if(!window.confirm(tt("teams / remove / alert")))return;return ne(Xt.delete("/v3/teams/".concat(e.get().team.id,"/members/").concat(t.id)),(function(){var n=e.get().users;n=n.filter((function(e){return e.id!==t.id})),e.set({users:n})}))}catch(t){return Promise.reject(t)}},updateRole:function(t){try{var e=this,n=e.get(),i=n.updating,s=n.users.filter((function(e){return e.id===t}))[0];return i[s.id]=!0,e.set({updating:i}),ne(Xt.put("/v3/teams/".concat(e.get().team.id,"/members/").concat(s.id,"/status"),{payload:{status:s.role}}),(function(){(i=e.get().updating)[s.id]=!1,e.set({updating:i})}))}catch(t){return Promise.reject(t)}}};function re(t){var e=this._svelte,n=e.component,i=e.ctx;n.removeUser(i.user)}function oe(t){var e=this._svelte,n=e.component,i=e.ctx;n.toggleEdit(i.user.id)}function le(t){var e=this._svelte,n=e.component,i=e.ctx;n.toggleEdit(i.user.id)}function ce(t,e,n){var i=Object.create(t);return i.user=e[n],i.each_value=e,i.i=n,i}function ue(t,e){var n,i=tt("teams / total").replace("%i%",e.numUsers);return{c:function(){n=k(i)},m:function(t,e){v(t,n,e)},p:function(t,e){t.numUsers&&i!==(i=tt("teams / total").replace("%i%",e.numUsers))&&E(n,i)},d:function(t){t&&g(n)}}}function de(t,e){var n,i=tt("teams / total / 1");return{c:function(){n=k(i)},m:function(t,e){v(t,n,e)},p:d,d:function(t){t&&g(n)}}}function fe(t,e){for(var n,i=e.sortedUsers,s=[],a=0;a<i.length;a+=1)s[a]=we(t,ce(e,i,a));var r={columnHeaders:e.userHeaders},o=new xt({root:t.root,store:t.store,slots:{default:T()},data:r});return{c:function(){for(var t=0;t<s.length;t+=1)s[t].c();n=M(),o._fragment.c()},m:function(t,e){for(var i=0;i<s.length;i+=1)s[i].m(o._slotted.default,null);h(o._slotted.default,n),o._mount(t,e)},p:function(e,a){if(e.isAdmin||e.isTeamOwner||e.sortedUsers||e.editId||e.updating||e.roles){i=a.sortedUsers;for(var r=0;r<i.length;r+=1){var l=ce(a,i,r);s[r]?s[r].p(e,l):(s[r]=we(t,l),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}var c={};e.userHeaders&&(c.columnHeaders=a.userHeaders),o._set(c)},d:function(t){x(s,t),o.destroy(t)}}}function pe(t,e){var n,i,s,a,r=e.user.id;return{c:function(){n=N("td"),i=N("a"),s=k(r),i.href=a="/admin/users/"+e.user.id},m:function(t,e){v(t,n,e),h(n,i),h(i,s)},p:function(t,e){t.sortedUsers&&r!==(r=e.user.id)&&E(s,r),t.sortedUsers&&a!==(a="/admin/users/"+e.user.id)&&(i.href=a)},d:function(t){t&&g(n)}}}function me(t,e){var n,i,s,a,r=se(e.user.role),o=e.user.token&&ve();return{c:function(){n=N("noscript"),i=N("noscript"),s=k(" "),o&&o.c(),a=M()},m:function(t,e){v(t,n,e),n.insertAdjacentHTML("afterend",r),v(t,i,e),v(t,s,e),o&&o.m(t,e),v(t,a,e)},p:function(t,e){t.sortedUsers&&r!==(r=se(e.user.role))&&(b(n,i),n.insertAdjacentHTML("afterend",r)),e.user.token?o||((o=ve()).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d:function(t){t&&(b(n,i),g(n),g(i),g(s)),o&&o.d(t),t&&g(a)}}}function he(t,e){var n,i,s,a={},r=tt("teams / role / p"),o={width:"200px",options:e.roles};void 0!==e.user.role&&(o.value=e.user.role,a.value=!0);var l=new Et({root:t.root,store:t.store,data:o,_bind:function(n,i){var s={};!a.value&&n.value&&(e.user.role=i.value,s.sortedUsers=e.sortedUsers),t._set(s),a={}}});return t.root._beforecreate.push((function(){l._bind({value:1},l.get())})),{c:function(){l._fragment.c(),n=k("\n            "),i=N("p"),s=k(r),i.className="mini-help"},m:function(t,e){l._mount(t,e),v(t,n,e),v(t,i,e),h(i,s)},p:function(t,n){e=n;var i={};t.roles&&(i.options=e.roles),!a.value&&t.sortedUsers&&(i.value=e.user.role,a.value=void 0!==e.user.role),l._set(i),a={}},d:function(t){l.destroy(t),t&&(g(n),g(i))}}}function ve(t,e){var n,i,s=tt("teams / invite-pending");return{c:function(){n=N("i"),i=k(s)},m:function(t,e){v(t,n,e),h(n,i)},d:function(t){t&&g(n)}}}function ge(t,e){var n;function i(t){return t.editId===t.user.id?ye:t.updating[t.user.id]?_e:be}var s=i(e),a=s(t,e);return{c:function(){a.c(),n=M()},m:function(t,e){a.m(t,e),v(t,n,e)},p:function(e,r){s===(s=i(r))&&a?a.p(e,r):(a.d(1),(a=s(t,r)).c(),a.m(n.parentNode,n))},d:function(t){a.d(t),t&&g(n)}}}function be(t,e){var n,i,s,a,r,o,l,c,u,d=tt("teams / edit"),f=tt("teams / remove");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(d),r=k("\n\n            "),o=N("button"),l=N("i"),c=k("  "),u=k(f),i.className="fa fa-edit",n._svelte={component:t,ctx:e},O(n,"click",oe),n.className="btn",l.className="fa fa-times",o._svelte={component:t,ctx:e},O(o,"click",re),o.className="btn"},m:function(t,e){v(t,n,e),h(n,i),h(n,s),h(n,a),v(t,r,e),v(t,o,e),h(o,l),h(o,c),h(o,u)},p:function(t,i){e=i,n._svelte.ctx=e,o._svelte.ctx=e},d:function(t){t&&g(n),H(n,"click",oe),t&&(g(r),g(o)),H(o,"click",re)}}}function _e(t,e){var n,i,s,a,r=tt("teams / save");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(r),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(t,e){v(t,n,e),h(n,i),h(n,s),h(n,a)},p:d,d:function(t){t&&g(n)}}}function ye(t,e){var n,i,s,a,r=tt("teams / save");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(r),i.className="fa fa-check",n._svelte={component:t,ctx:e},O(n,"click",le),n.className="btn btn-primary"},m:function(t,e){v(t,n,e),h(n,i),h(n,s),h(n,a)},p:function(t,i){e=i,n._svelte.ctx=e},d:function(t){t&&g(n),H(n,"click",le)}}}function we(t,e){var n,i,s,a,r,o,l,c,u,d,f,p,m=e.user.email,b=e.user.charts,_=e.isAdmin&&pe(0,e);function y(t){return t.editId===t.user.id?he:me}var w=y(e),x=w(t,e),T=(e.isAdmin||e.isTeamOwner||!e.isTeamOwner&&"owner"!=e.user.role)&&ge(t,e);return{c:function(){n=N("tr"),i=N("td"),s=k(m),a=k("\n        "),_&&_.c(),r=k("\n        "),o=N("td"),l=k(b),c=k("\n        "),u=N("td"),x.c(),d=k("\n        "),f=N("td"),T&&T.c(),p=k("\n    ")},m:function(t,e){v(t,n,e),h(n,i),h(i,s),h(n,a),_&&_.m(n,null),h(n,r),h(n,o),h(o,l),h(n,c),h(n,u),x.m(u,null),h(n,d),h(n,f),T&&T.m(f,null),h(n,p)},p:function(e,i){e.sortedUsers&&m!==(m=i.user.email)&&E(s,m),i.isAdmin?_?_.p(e,i):((_=pe(0,i)).c(),_.m(n,r)):_&&(_.d(1),_=null),e.sortedUsers&&b!==(b=i.user.charts)&&E(l,b),w===(w=y(i))&&x?x.p(e,i):(x.d(1),(x=w(t,i)).c(),x.m(u,null)),i.isAdmin||i.isTeamOwner||!i.isTeamOwner&&"owner"!=i.user.role?T?T.p(e,i):((T=ge(t,i)).c(),T.m(f,null)):T&&(T.d(1),T=null)},d:function(t){t&&g(n),_&&_.d(),x.d(),T&&T.d()}}}function xe(t){J(this,t),this._state=f({editId:!1,updating:{},users:[]},t.data),this._recompute({isAdmin:1,isTeamOwner:1,users:1,sortedUsers:1,numCharts:1,team:1},this._state),this._intro=!0,this._fragment=function(t,e){var n,i,s,a,r;function o(t){return 1===t.numUsers?de:t.numUsers>1?ue:void 0}var l=o(e),c=l&&l(t,e),u=e.sortedUsers.length&&fe(t,e);return{c:function(){n=N("p"),c&&c.c(),i=k(" "),s=N("noscript"),a=k("\n\n"),u&&u.c(),r=M()},m:function(t,o){v(t,n,o),c&&c.m(n,null),h(n,i),h(n,s),s.insertAdjacentHTML("afterend",e.numChartsCaption),v(t,a,o),u&&u.m(t,o),v(t,r,o)},p:function(e,a){l===(l=o(a))&&c?c.p(e,a):(c&&c.d(1),(c=l&&l(t,a))&&c.c(),c&&c.m(n,i)),e.numChartsCaption&&(_(s),s.insertAdjacentHTML("afterend",a.numChartsCaption)),a.sortedUsers.length?u?u.p(e,a):((u=fe(t,a)).c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d:function(t){t&&g(n),c&&c.d(),t&&g(a),u&&u.d(t),t&&g(r)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}f(xe.prototype,K),f(xe.prototype,ae),xe.prototype._recompute=function(t,e){var n,i,s,a,r;(t.isAdmin||t.isTeamOwner)&&this._differs(e.roles,e.roles=(i=(n=e).isAdmin,s=n.isTeamOwner,i||s?ie:ie.slice(1)))&&(t.roles=!0),(t.users||t.isAdmin)&&this._differs(e.sortedUsers,e.sortedUsers=function(t){var e=t.users,n=t.isAdmin;return e.sort((function(t,e){var n=["owner","admin","member"];return n.indexOf(t.role)>n.indexOf(e.role)?1:n.indexOf(t.role)<n.indexOf(e.role)?-1:t.email>e.email?1:t.email<e.email?-1:0})).filter((function(t){return n||!t.isAdmin}))}(e))&&(t.sortedUsers=!0),t.isAdmin&&this._differs(e.userHeaders,e.userHeaders=function(t){var e=t.isAdmin,n=[{title:tt("teams / user"),width:"25%"},{title:"ID",width:"10%"},{title:"Charts",width:"15%"},{title:tt("teams / status"),width:"15%"},{title:tt("teams / actions"),width:"30%"}];return e||n.splice(1,1),n}(e))&&(t.userHeaders=!0),t.sortedUsers&&this._differs(e.numUsers,e.numUsers=e.sortedUsers.length)&&(t.numUsers=!0),t.users&&this._differs(e.numCharts,e.numCharts=(a=e.users,r=0,a.forEach((function(t){r+=t.charts})),r))&&(t.numCharts=!0),(t.numCharts||t.isAdmin||t.team)&&this._differs(e.numChartsCaption,e.numChartsCaption=function(t){var e=t.numCharts,n=t.isAdmin,i=t.team;return 1===e?tt("teams / charts-total / 1"):e>1?n?tt("teams / charts-total-admin").replace("%i%",e).replace("%link%","/admin/chart/by/".concat(i.id)):tt("teams / charts-total").replace("%i%",e):""}(e))&&(t.numChartsCaption=!0)};function Te(t,e){var n,i,s=t._slotted.content;return{c:function(){n=N("div"),s||((i=N("div")).textContent="DropdownControl content"),s||(i.className="base-dropdown-inner svelte-1jdtmzv"),L(n,"width",e.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m:function(t,e){v(t,n,e),h(n,s||i)},p:function(t,e){t.width&&L(n,"width",e.width)},d:function(t){t&&g(n),s&&y(n,s)}}}function Ne(t){J(this,t),this.refs={},this._state=f({visible:!1,disabled:!1,width:"auto"},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,s,a,r,o,l=t._slotted.button;function c(e){t.windowClick(e)}function u(e){t.toggle(e)}window.addEventListener("click",c);var d=e.visible&&Te(t,e);return{c:function(){n=N("div"),i=N("a"),l||(s=N("button"),a=N("i")),o=k("\n    "),d&&d.c(),l||(a.className=r="fa fa-chevron-"+(e.visible?"up":"down")+" svelte-1jdtmzv",s.className="btn btn-small"),O(i,"click",u),i.href="#dropdown-btn",i.className="base-drop-btn svelte-1jdtmzv",L(n,"position","relative"),L(n,"display","inline-block")},m:function(e,r){v(e,n,r),h(n,i),l?h(i,l):(h(i,s),h(s,a)),t.refs.button=i,h(n,o),d&&d.m(n,null)},p:function(e,i){l||e.visible&&r!==(r="fa fa-chevron-"+(i.visible?"up":"down")+" svelte-1jdtmzv")&&(a.className=r),i.visible?d?d.p(e,i):((d=Te(t,i)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(e){window.removeEventListener("click",c),e&&g(n),l&&y(i,l),H(i,"click",u),t.refs.button===i&&(t.refs.button=null),d&&d.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}f(Ne.prototype,K),f(Ne.prototype,{toggle:function(t){t.preventDefault();var e=this.get(),n=e.visible;e.disabled||this.set({visible:!n})},windowClick:function(t){!t.target||this.refs&&this.refs.button&&(t.target===this.refs.button||this.refs.button.contains(t.target))||t.target.classList.contains("hex")||this.set({visible:!1})}});function ke(t){t.preventDefault();var e=this._svelte,n=e.component,i=e.ctx;n.action(i.item)}function Me(t,e,n){var i=Object.create(t);return i.item=e[n],i}function Oe(t,e){var n,i,s,a,r=e.icon&&He(t,e);function o(e){e.preventDefault(),e.stopPropagation(),t.fireClick()}return{c:function(){n=N("button"),r&&r.c(),i=k(" "),s=N("noscript"),O(n,"click",o),n.disabled=e.disabled,n.className=a="split-button-label "+e.btnClass+" svelte-1qu0vk"},m:function(t,a){v(t,n,a),r&&r.m(n,null),h(n,i),h(n,s),s.insertAdjacentHTML("afterend",e.label)},p:function(e,o){o.icon?r?r.p(e,o):((r=He(t,o)).c(),r.m(n,i)):r&&(r.d(1),r=null),e.label&&(_(s),s.insertAdjacentHTML("afterend",o.label)),e.disabled&&(n.disabled=o.disabled),e.btnClass&&a!==(a="split-button-label "+o.btnClass+" svelte-1qu0vk")&&(n.className=a)},d:function(t){t&&g(n),r&&r.d(),H(n,"click",o)}}}function He(t,e){var n;return{c:function(){(n=N("i")).className=e.icon+" svelte-1qu0vk"},m:function(t,e){v(t,n,e)},p:function(t,e){t.icon&&(n.className=e.icon+" svelte-1qu0vk")},d:function(t){t&&g(n)}}}function Ce(t,e){var n,i,s=e.icon&&Ee(t,e);function a(t){return t.label?Pe:Le}var r=a(e),o=r(t,e);return{c:function(){s&&s.c(),n=k(" "),o.c(),i=M()},m:function(t,e){s&&s.m(t,e),v(t,n,e),o.m(t,e),v(t,i,e)},p:function(e,l){l.icon?s?s.p(e,l):((s=Ee(t,l)).c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),r===(r=a(l))&&o?o.p(e,l):(o.d(1),(o=r(t,l)).c(),o.m(i.parentNode,i))},d:function(t){s&&s.d(t),t&&g(n),o.d(t),t&&g(i)}}}function Ae(t,e){var n;return{c:function(){(n=N("span")).className="caret"},m:function(t,e){v(t,n,e)},p:d,d:function(t){t&&g(n)}}}function Ee(t,e){var n;return{c:function(){(n=N("i")).className=e.icon+" svelte-1qu0vk"},m:function(t,e){v(t,n,e)},p:function(t,e){t.icon&&(n.className=e.icon+" svelte-1qu0vk")},d:function(t){t&&g(n)}}}function Le(t,e){var n;return{c:function(){(n=N("i")).className="im im-menu-dot-h svelte-1qu0vk"},m:function(t,e){v(t,n,e)},p:d,d:function(t){t&&g(n)}}}function Pe(t,e){var n,i,s,a;return{c:function(){n=N("noscript"),i=N("noscript"),s=k(" "),(a=N("span")).className="caret"},m:function(t,r){v(t,n,r),n.insertAdjacentHTML("afterend",e.label),v(t,i,r),v(t,s,r),v(t,a,r)},p:function(t,e){t.label&&(b(n,i),n.insertAdjacentHTML("afterend",e.label))},d:function(t){t&&(b(n,i),g(n),g(i),g(s),g(a))}}}function Ue(t,e){var n,i,s,a=e.item.label;return{c:function(){n=N("li"),i=N("a"),s=k("\n        "),i._svelte={component:t,ctx:e},O(i,"click",ke),i.href="#/action",i.className="svelte-1qu0vk",j(i,"disabled",e.item.disabled),n.className="svelte-1qu0vk"},m:function(t,e){v(t,n,e),h(n,i),i.innerHTML=a,h(n,s)},p:function(t,n){e=n,t.items&&a!==(a=e.item.label)&&(i.innerHTML=a),i._svelte.ctx=e,t.items&&j(i,"disabled",e.item.disabled)},d:function(t){t&&g(n),H(i,"click",ke)}}}function je(t){J(this,t),this._state=f({label:"",icon:!1,split:!1,items:[],btnClass:"btn"},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,s,a,r,o=e.split&&Oe(t,e);function l(t){return t.split?Ae:Ce}for(var c=l(e),u=c(t,e),d=e.items,f=[],p=0;p<d.length;p+=1)f[p]=Ue(t,Me(e,d,p));var m={disabled:e.disabled},v=new Ne({root:t.root,store:t.store,slots:{default:T(),content:T(),button:T()},data:m});return{c:function(){n=N("div"),o&&o.c(),i=k("\n        "),s=N("button"),u.c(),a=k("\n\n    "),r=N("ul");for(var t=0;t<f.length;t+=1)f[t].c();v._fragment.c(),s.disabled=e.disabled,s.className=e.btnClass+" svelte-1qu0vk",C(n,"slot","button"),n.className="btn-group",C(r,"slot","content"),r.className="svelte-1qu0vk"},m:function(t,e){h(v._slotted.button,n),o&&o.m(n,null),h(n,i),h(n,s),u.m(s,null),h(v._slotted.default,a),h(v._slotted.content,r);for(var l=0;l<f.length;l+=1)f[l].m(r,null);v._mount(t,e)},p:function(e,a){if(a.split?o?o.p(e,a):((o=Oe(t,a)).c(),o.m(n,i)):o&&(o.d(1),o=null),c===(c=l(a))&&u?u.p(e,a):(u.d(1),(u=c(t,a)).c(),u.m(s,null)),e.disabled&&(s.disabled=a.disabled),e.btnClass&&(s.className=a.btnClass+" svelte-1qu0vk"),e.items){d=a.items;for(var p=0;p<d.length;p+=1){var m=Me(a,d,p);f[p]?f[p].p(e,m):(f[p]=Ue(t,m),f[p].c(),f[p].m(r,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=d.length}var h={};e.disabled&&(h.disabled=a.disabled),v._set(h)},d:function(t){o&&o.d(),u.d(),x(f,t),v.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}function Se(t,e){var n;return{c:function(){(n=N("label")).className="control-label svelte-1nkiaxn"},m:function(t,i){v(t,n,i),n.innerHTML=e.label},p:function(t,e){t.label&&(n.innerHTML=e.label)},d:function(t){t&&g(n)}}}function Ie(t,e){var n;return{c:function(){(n=N("div")).className="help success svelte-1nkiaxn"},m:function(t,i){v(t,n,i),n.innerHTML=e.success},p:function(t,e){t.success&&(n.innerHTML=e.success)},d:function(t){t&&g(n)}}}function We(t,e){var n;return{c:function(){(n=N("div")).className="help error svelte-1nkiaxn"},m:function(t,i){v(t,n,i),n.innerHTML=e.error},p:function(t,e){t.error&&(n.innerHTML=e.error)},d:function(t){t&&g(n)}}}function ze(t,e){var n;return{c:function(){(n=N("div")).className="help svelte-1nkiaxn"},m:function(t,i){v(t,n,i),n.innerHTML=e.help},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){t&&g(n)}}}function qe(t){var e,n,i,s,a,r,o,l,c,u,d,p,m;J(this,t),this._state=f({label:"",help:"",error:!1,success:!1,width:"auto"},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,c=e._slotted.default,u=n.label&&Se(0,n),d=n.success&&Ie(0,n),p=n.error&&We(0,n),m=!n.success&&!n.error&&n.help&&ze(0,n),{c:function(){i=N("div"),u&&u.c(),s=k("\n    "),a=N("div"),r=k("\n    "),d&&d.c(),o=k(" "),p&&p.c(),l=k(" "),m&&m.c(),a.className="form-controls svelte-1nkiaxn",i.className="form-block svelte-1nkiaxn",L(i,"width",n.width),j(i,"success",n.success),j(i,"error",n.error)},m:function(t,e){v(t,i,e),u&&u.m(i,null),h(i,s),h(i,a),c&&h(a,c),h(i,r),d&&d.m(i,null),h(i,o),p&&p.m(i,null),h(i,l),m&&m.m(i,null)},p:function(t,e){e.label?u?u.p(t,e):((u=Se(0,e)).c(),u.m(i,s)):u&&(u.d(1),u=null),e.success?d?d.p(t,e):((d=Ie(0,e)).c(),d.m(i,o)):d&&(d.d(1),d=null),e.error?p?p.p(t,e):((p=We(0,e)).c(),p.m(i,l)):p&&(p.d(1),p=null),e.success||e.error||!e.help?m&&(m.d(1),m=null):m?m.p(t,e):((m=ze(0,e)).c(),m.m(i,null)),t.width&&L(i,"width",e.width),t.success&&j(i,"success",e.success),t.error&&j(i,"error",e.error)},d:function(t){t&&g(i),u&&u.d(),c&&y(a,c),d&&d.d(),p&&p.d(),m&&m.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function De(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}f(je.prototype,K),f(je.prototype,{fireClick:function(){this.fire("click")},action:function(t){t.disabled||t.action(this)}}),f(qe.prototype,K);var Re={addUser:function(t){try{var e=this,n=e.get(),i=n.inviteeExists,s=n.inviteeUserId;if(!i)return;return e.set({currentAction:{updatingUsers:!0,isComplete:!1}}),De(Yt("/v3/teams/".concat(e.get().team.id,"/members"),{raw:!0,payload:{userId:s,role:t}}),(function(n){var i=!n.ok;return De(i?n.json():null,(function(i){var s={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"add",role:t};e.set({invitedEmail:e.get().inviteeEmail,currentAction:s}),e.fire("updateUsers")}),!i)}))}catch(t){return Promise.reject(t)}},inviteUser:function(t){try{var e=this,n=e.get().inviteeEmail;return e.set({currentAction:{updatingUsers:!0,isComplete:!1}}),De(Yt("/v3/teams/".concat(e.get().team.id,"/invites"),{raw:!0,payload:{email:n,role:t}}),(function(n){var i=!n.ok;return De(i?n.json():null,(function(i){var s={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"invite",role:t};e.set({invitedEmail:e.get().inviteeEmail,currentAction:s}),e.fire("updateUsers")}),!i)}))}catch(t){return Promise.reject(t)}},debounceCheckUser:function(){try{var t=this;if(!t.get().isAdmin)return;return window.clearTimeout(window.checkUser),t.set({inviteeExistsLoading:!0}),window.checkUser=setTimeout((function(){t.checkUser()}),200),De()}catch(t){return Promise.reject(t)}},checkUser:function(){try{var t=this,e=t.get(),n=e.inviteeEmail;return e.isValidEmail?De(Kt("/v3/users?search=".concat(encodeURIComponent(n))),(function(e){t.set({inviteeExistsLoading:!1,inviteeExists:!1}),e.list.length>0&&(n=t.get().inviteeEmail,e.list.forEach((function(e){e.email.toLowerCase()===n.toLowerCase()&&t.set({inviteeExists:!0,inviteeUserId:e.id})})))})):void t.set({inviteeExistsLoading:!1})}catch(t){return Promise.reject(t)}}};function Be(){window.teamSettingsInvite=this}function Fe(t){var e=t.changed;t.current,t.previous;e.inviteeEmail&&(this.set({inviteeExists:!1}),this.debounceCheckUser())}function $e(t){var e=this;J(this,t),this._state=f({inviteeEmail:"",invitedEmail:"",currentAction:{updatingUsers:!1,isComplete:!1,isError:!1,errorCode:null,responseData:null,type:"",role:""}},t.data),this._recompute({invitedEmail:1,currentAction:1,inviteeEmail:1,isAdmin:1,isTeamOwner:1,isValidEmail:1,inviteeExistsLoading:1,inviteeExists:1},this._state),this._intro=!0,this._handlers.state=[Fe],Fe.call(this,{changed:p({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,s,a=!1;function r(){a=!0,t.set({inviteeEmail:i.value}),a=!1}var o={disabled:!e.isValidEmail,label:"<i class='fa "+(e.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+tt("teams / invite"),items:e.inviteOptions},l=new je({root:t.root,store:t.store,data:o}),c={label:tt("teams / invite-user"),help:tt("teams / invite-user / help"),success:e.successMessage,error:e.errorMessage},u=new qe({root:t.root,store:t.store,slots:{default:T()},data:c});return{c:function(){n=N("div"),i=N("input"),s=k(" \n        "),l._fragment.c(),u._fragment.c(),O(i,"input",r),C(i,"type","text"),i.width="1px",i.placeholder=tt("teams / invite-user / eg"),i.className="svelte-m6ws61",n.className="flex svelte-m6ws61"},m:function(t,a){h(u._slotted.default,n),h(n,i),i.value=e.inviteeEmail,h(n,s),l._mount(n,null),u._mount(t,a)},p:function(t,e){!a&&t.inviteeEmail&&(i.value=e.inviteeEmail);var n={};t.isValidEmail&&(n.disabled=!e.isValidEmail),t.currentAction&&(n.label="<i class='fa "+(e.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+tt("teams / invite")),t.inviteOptions&&(n.items=e.inviteOptions),l._set(n);var s={};t.successMessage&&(s.success=e.successMessage),t.errorMessage&&(s.error=e.errorMessage),u._set(s)},d:function(t){H(i,"input",r),l.destroy(),u.destroy(t)}}}(this,this._state),this.root._oncreate.push((function(){Be.call(e),e.fire("update",{changed:p({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}f($e.prototype,K),f($e.prototype,Re),$e.prototype._recompute=function(t,e){var n;(t.invitedEmail||t.currentAction)&&(this._differs(e.successMessage,e.successMessage=function(t){var e,n=t.invitedEmail,i=t.currentAction,s=i.isComplete,a=i.isError,r=i.type,o=i.role;if(s&&!a)return tt("teams / invite-user / ".concat(r," / success")).replace("$1",(e=n,e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))).replace("$2",tt("teams / role / ".concat(o)))}(e))&&(t.successMessage=!0),this._differs(e.errorMessage,e.errorMessage=function(t){var e=t.invitedEmail,n=t.currentAction,i=n.isComplete,s=n.isError,a=n.errorCode,r=n.responseData,o=n.type;if(i&&s){var l=[400,401,406].includes(a)?a:"other",c=406===a&&r&&r.maxTeamInvites?r.maxTeamInvites:null;return tt("teams / invite-user / ".concat(o," / error / ").concat(l)).replace("$1",e).replace("$2",c)}}(e))&&(t.errorMessage=!0)),t.inviteeEmail&&this._differs(e.isValidEmail,e.isValidEmail=(n=e.inviteeEmail,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)))&&(t.isValidEmail=!0),(t.isAdmin||t.isTeamOwner||t.inviteeEmail||t.isValidEmail||t.inviteeExistsLoading||t.inviteeExists)&&this._differs(e.inviteOptions,e.inviteOptions=function(t){var e=t.isAdmin,n=t.isTeamOwner,i=(t.inviteeEmail,t.isValidEmail),s=t.inviteeExistsLoading,a=t.inviteeExists,r=[{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(tt("teams / role / member")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("member")}},{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(tt("teams / role / admin")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("admin")}}];return(e||n)&&r.push({label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(tt("teams / role / owner")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("owner")}}),e&&r.push({label:'<span class="red"><i class="fa '.concat(s?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(tt("teams / add-as").replace("%s",tt("teams / role / member")),"</span>"),disabled:!a,action:function(){teamSettingsInvite.addUser("member")}},{label:'<span class="red"><i class="fa '.concat(s?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(tt("teams / add-as").replace("%s",tt("teams / role / admin")),"</span>"),disabled:!a,action:function(){teamSettingsInvite.addUser("admin")}},{label:'<span class="red"><i class="fa '.concat(s?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(tt("teams / add-as").replace("%s",tt("teams / role / owner")),"</span>"),disabled:!a,action:function(){teamSettingsInvite.addUser("owner")}}),r}(e))&&(t.inviteOptions=!0)};var Ve={updateUsers:function(){var t=this,e=this.get().team;this.set({awaitLoadingUsers:Xt.get("/v3/teams/".concat(e.id,"/members?limit=1000")).then((function(e){t.set({users:e.list})}))})}};function Ge(){this.updateUsers()}function Je(t,e){var n,i,s={component:t,ctx:e,current:null,pending:Ke,then:Xe,catch:Ze,value:"null",error:"null"};return D(i=e.awaitLoadingUsers,s),{c:function(){n=M(),s.block.c()},m:function(t,e){v(t,n,e),s.block.m(t,s.anchor=e),s.mount=function(){return n.parentNode},s.anchor=n},p:function(t,n){e=n,s.ctx=e,"awaitLoadingUsers"in t&&i!==(i=e.awaitLoadingUsers)&&D(i,s)||s.block.p(t,f(f({},e),s.resolved))},d:function(t){t&&g(n),s.block.d(t),s=null}}}function Ze(t,e){var n;return{c:function(){n=k("error!")},m:function(t,e){v(t,n,e)},p:d,d:function(t){t&&g(n)}}}function Xe(t,e){var n={},i={isAdmin:e.isAdmin,isTeamOwner:e.isTeamOwner,team:e.team};void 0!==e.users&&(i.users=e.users,n.users=!0),void 0!==e.editIndex&&(i.editIndex=e.editIndex,n.editIndex=!0),void 0!==e.updating&&(i.updating=e.updating,n.updating=!0);var s=new xe({root:t.root,store:t.store,data:i,_bind:function(e,i){var s={};!n.users&&e.users&&(s.users=i.users),!n.editIndex&&e.editIndex&&(s.editIndex=i.editIndex),!n.updating&&e.updating&&(s.updating=i.updating),t._set(s),n={}}});return t.root._beforecreate.push((function(){s._bind({users:1,editIndex:1,updating:1},s.get())})),{c:function(){s._fragment.c()},m:function(t,e){s._mount(t,e)},p:function(t,i){e=i;var a={};t.isAdmin&&(a.isAdmin=e.isAdmin),t.isTeamOwner&&(a.isTeamOwner=e.isTeamOwner),t.team&&(a.team=e.team),!n.users&&t.users&&(a.users=e.users,n.users=void 0!==e.users),!n.editIndex&&t.editIndex&&(a.editIndex=e.editIndex,n.editIndex=void 0!==e.editIndex),!n.updating&&t.updating&&(a.updating=e.updating,n.updating=void 0!==e.updating),s._set(a),n={}},d:function(t){s.destroy(t)}}}function Ke(t,e){var n,i,s,a,r=tt("teams / loading");return{c:function(){n=N("p"),i=N("i"),s=k("   "),a=N("noscript"),i.className="fa fa-circle-o-notch fa-spin"},m:function(t,e){v(t,n,e),h(n,i),h(n,s),h(n,a),a.insertAdjacentHTML("afterend",r)},p:d,d:function(t){t&&g(n)}}}function Qe(t){var e=this;J(this,t),this._state=f({editIndex:0,updating:{},updatingUsers:!1,awaitLoadingUsers:!1},t.data),this._recompute({users:1,userId:1},this._state),this._intro=!0,this._fragment=function(t,e){var n,i,s,a,r,o,l,c,u,d,f,p,m,b,_,y,w,x,T,O,H,C,A,E,P,U,j,S,I,W,z,q,D,R,B,F,$,V,G,J,Z,X,K,Q,Y,et,nt,it,st,at,rt,ot,lt,ct,ut,dt,ft,pt,mt,ht,vt,gt,bt,_t,yt,wt,xt,Tt,Nt,kt,Mt,Ot,Ht,Ct=tt("teams / p"),At={},Et=tt("teams / role / member"),Lt=tt("teams / role / admin"),Pt=tt("teams / role / owner"),Ut=tt("teams / roles / edit-charts"),jt=tt("teams / roles / edit-folders"),St=tt("teams / roles / access-settings"),It=tt("teams / roles / invite-users"),Wt=tt("teams / roles / subscription-options"),zt=tt("teams / roles / remove-team"),qt={isTeamOwner:e.isTeamOwner,isAdmin:e.isAdmin};void 0!==e.team&&(qt.team=e.team,At.team=!0),void 0!==e.updatingUsers&&(qt.updatingUsers=e.updatingUsers,At.updatingUsers=!0);var Dt=new $e({root:t.root,store:t.store,data:qt,_bind:function(e,n){var i={};!At.team&&e.team&&(i.team=n.team),!At.updatingUsers&&e.updatingUsers&&(i.updatingUsers=n.updatingUsers),t._set(i),At={}}});t.root._beforecreate.push((function(){Dt._bind({team:1,updatingUsers:1},Dt.get())})),Dt.on("updateUsers",(function(e){t.updateUsers()}));var Rt=e.awaitLoadingUsers&&Je(t,e);return{c:function(){n=N("p"),i=k("\n\n"),s=N("div"),a=N("div"),Dt._fragment.c(),r=k("\n    "),o=N("div"),l=N("table"),c=N("thead"),u=N("tr"),d=N("td"),f=k("\n                    "),p=N("th"),m=k("\n                    "),b=N("th"),_=k("\n                    "),y=N("th"),w=k("\n            "),x=N("tbody"),T=N("tr"),O=N("td"),H=k("\n                    "),(C=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',A=k("\n                    "),(E=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',P=k("\n                    "),(U=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',j=k("\n\n                "),S=N("tr"),I=N("td"),W=k("\n                    "),(z=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',q=k("\n                    "),(D=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',R=k("\n                    "),(B=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',F=k("\n\n                "),$=N("tr"),V=N("td"),G=k("\n                    "),(J=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Z=k("\n                    "),(X=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',K=k("\n                    "),(Q=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Y=k("\n\n                "),et=N("tr"),nt=N("td"),it=k("\n                    "),(st=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',at=k("\n                    "),(rt=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ot=k("\n                    "),(lt=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ct=k("\n\n                "),ut=N("tr"),dt=N("td"),ft=k("\n                    "),(pt=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',mt=k("\n                    "),(ht=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',vt=k("\n                    "),(gt=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',bt=k("\n\n                "),_t=N("tr"),yt=N("td"),wt=k("\n                    "),(xt=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Tt=k("\n                    "),(Nt=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',kt=k("\n                    "),(Mt=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Ot=k("\n\n"),Rt&&Rt.c(),Ht=M(),L(n,"margin-bottom","10px"),a.className="span4",d.className="svelte-hgmegl",p.className="svelte-hgmegl",b.className="svelte-hgmegl",y.className="svelte-hgmegl",O.className="svelte-hgmegl",C.className="svelte-hgmegl",E.className="svelte-hgmegl",U.className="svelte-hgmegl",I.className="svelte-hgmegl",z.className="svelte-hgmegl",D.className="svelte-hgmegl",B.className="svelte-hgmegl",V.className="svelte-hgmegl",J.className="svelte-hgmegl",X.className="svelte-hgmegl",Q.className="svelte-hgmegl",nt.className="svelte-hgmegl",st.className="svelte-hgmegl",rt.className="svelte-hgmegl",lt.className="svelte-hgmegl",dt.className="svelte-hgmegl",pt.className="svelte-hgmegl",ht.className="svelte-hgmegl",gt.className="svelte-hgmegl",yt.className="svelte-hgmegl",xt.className="svelte-hgmegl",Nt.className="svelte-hgmegl",Mt.className="svelte-hgmegl",x.className="svelte-hgmegl",l.className="role-descriptions svelte-hgmegl",L(l,"margin-left","3em"),o.className="span6",s.className="row",L(s,"margin-bottom","2em")},m:function(t,e){v(t,n,e),n.innerHTML=Ct,v(t,i,e),v(t,s,e),h(s,a),Dt._mount(a,null),h(s,r),h(s,o),h(o,l),h(l,c),h(c,u),h(u,d),h(u,f),h(u,p),p.innerHTML=Et,h(u,m),h(u,b),b.innerHTML=Lt,h(u,_),h(u,y),y.innerHTML=Pt,h(l,w),h(l,x),h(x,T),h(T,O),O.innerHTML=Ut,h(T,H),h(T,C),h(T,A),h(T,E),h(T,P),h(T,U),h(x,j),h(x,S),h(S,I),I.innerHTML=jt,h(S,W),h(S,z),h(S,q),h(S,D),h(S,R),h(S,B),h(x,F),h(x,$),h($,V),V.innerHTML=St,h($,G),h($,J),h($,Z),h($,X),h($,K),h($,Q),h(x,Y),h(x,et),h(et,nt),nt.innerHTML=It,h(et,it),h(et,st),h(et,at),h(et,rt),h(et,ot),h(et,lt),h(x,ct),h(x,ut),h(ut,dt),dt.innerHTML=Wt,h(ut,ft),h(ut,pt),h(ut,mt),h(ut,ht),h(ut,vt),h(ut,gt),h(x,bt),h(x,_t),h(_t,yt),yt.innerHTML=zt,h(_t,wt),h(_t,xt),h(_t,Tt),h(_t,Nt),h(_t,kt),h(_t,Mt),v(t,Ot,e),Rt&&Rt.m(t,e),v(t,Ht,e)},p:function(n,i){e=i;var s={};n.isTeamOwner&&(s.isTeamOwner=e.isTeamOwner),n.isAdmin&&(s.isAdmin=e.isAdmin),!At.team&&n.team&&(s.team=e.team,At.team=void 0!==e.team),!At.updatingUsers&&n.updatingUsers&&(s.updatingUsers=e.updatingUsers,At.updatingUsers=void 0!==e.updatingUsers),Dt._set(s),At={},e.awaitLoadingUsers?Rt?Rt.p(n,e):((Rt=Je(t,e)).c(),Rt.m(Ht.parentNode,Ht)):Rt&&(Rt.d(1),Rt=null)},d:function(t){t&&(g(n),g(i),g(s)),Dt.destroy(),t&&g(Ot),Rt&&Rt.d(t),t&&g(Ht)}}}(this,this._state),this.root._oncreate.push((function(){Ge.call(e),e.fire("update",{changed:p({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}f(Qe.prototype,K),f(Qe.prototype,Ve),Qe.prototype._recompute=function(t,e){(t.users||t.userId)&&this._differs(e.role,e.role=function(t){var e=t.users,n=t.userId;if(!e||!e.length||!n)return!1;var i=e.find((function(t){return t.id===n}));return i?i.role:"admin"}(e))&&(t.role=!0)};var Ye={};function tn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Ye[t]=window.__dw.vis.meta.locale||{}):Ye[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}var en={show:function(){var t=this,e=setTimeout((function(){t.set({visible:!0})}),400);this.set({t:e})},hide:function(){var t=this.get().t;clearTimeout(t),this.set({visible:!1})}};function nn(t,e){var n,i,s,a,r,o=t._slotted.default,l="help"===e.type&&sn(),c="upgrade-info"===e.type&&an();return{c:function(){n=N("div"),l&&l.c(),i=k(" "),c&&c.c(),s=k("\n        "),n.className=r="content "+e.type+" svelte-1qzgns1"},m:function(t,e){v(t,n,e),l&&l.m(n,null),h(n,i),c&&c.m(n,null),h(n,s),o&&(h(n,a||(a=M())),h(n,o))},p:function(t,e){"help"===e.type?l||((l=sn()).c(),l.m(n,i)):l&&(l.d(1),l=null),"upgrade-info"===e.type?c||((c=an()).c(),c.m(n,s)):c&&(c.d(1),c=null),t.type&&r!==(r="content "+e.type+" svelte-1qzgns1")&&(n.className=r)},d:function(t){t&&g(n),l&&l.d(),c&&c.d(),o&&w(a,o)}}}function sn(t,e){var n;return{c:function(){(n=N("i")).className="hat-icon im im-graduation-hat svelte-1qzgns1"},m:function(t,e){v(t,n,e)},d:function(t){t&&g(n)}}}function an(t,e){var n,i,s=function(t){var e=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),Ye[n]||tn(n),!Ye[n][t])return"MISSING:"+t;var i=Ye[n][t];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(t,n){return n=2+Number(n),void 0===e[n]?t:e[n]}))),i}("upgrade-available");return{c:function(){n=N("div"),i=k(s),n.className="content-header svelte-1qzgns1"},m:function(t,e){v(t,n,e),h(n,i)},d:function(t){t&&g(n)}}}function rn(t){J(this,t),this.refs={},this._state=f({visible:!1,class:"",type:"help"},t.data),this._recompute({type:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,s,a,r,o=e.visible&&nn(t,e);function l(e){t.show()}function c(e){t.hide()}return{c:function(){n=N("div"),i=N("span"),a=k("\n    "),o&&o.c(),i.className=s="help-icon "+e.type+" svelte-1qzgns1",j(i,"visible",e.visible),O(n,"mouseenter",l),O(n,"mouseleave",c),n.className=r="help "+e.class+" "+e.type+" svelte-1qzgns1"},m:function(s,r){v(s,n,r),h(n,i),i.innerHTML=e.helpIcon,h(n,a),o&&o.m(n,null),t.refs.helpDisplay=n},p:function(e,a){e.helpIcon&&(i.innerHTML=a.helpIcon),e.type&&s!==(s="help-icon "+a.type+" svelte-1qzgns1")&&(i.className=s),(e.type||e.visible)&&j(i,"visible",a.visible),a.visible?o?o.p(e,a):((o=nn(t,a)).c(),o.m(n,null)):o&&(o.d(1),o=null),(e.class||e.type)&&r!==(r="help "+a.class+" "+a.type+" svelte-1qzgns1")&&(n.className=r)},d:function(e){e&&g(n),o&&o.d(),H(n,"mouseenter",l),H(n,"mouseleave",c),t.refs.helpDisplay===n&&(t.refs.helpDisplay=null)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}f(rn.prototype,K),f(rn.prototype,en),rn.prototype._recompute=function(t,e){t.type&&this._differs(e.helpIcon,e.helpIcon="upgrade-info"===e.type?'<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>':"?")&&(t.helpIcon=!0)};var on="100px";function ln(t,e){var n,i={class:e.helpClass},s=new rn({root:t.root,store:t.store,slots:{default:T()},data:i});return{c:function(){n=N("div"),s._fragment.c()},m:function(t,i){h(s._slotted.default,n),n.innerHTML=e.help,s._mount(t,i)},p:function(t,e){t.help&&(n.innerHTML=e.help);var i={};t.helpClass&&(i.class=e.helpClass),s._set(i)},d:function(t){s.destroy(t)}}}function cn(t,e){var n,i,s,a=e.labelHelp&&un(t,e);return{c:function(){n=N("label"),i=N("noscript"),s=k(" "),a&&a.c(),L(n,"width",e.labelWidth||on),n.className="control-label svelte-1ykzs2h",j(n,"disabled",e.disabled)},m:function(t,r){v(t,n,r),h(n,i),i.insertAdjacentHTML("beforebegin",e.label),h(n,s),a&&a.m(n,null)},p:function(e,s){e.label&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(i),i.insertAdjacentHTML("beforebegin",s.label)),s.labelHelp?a?a.p(e,s):((a=un(t,s)).c(),a.m(n,null)):a&&(a.d(1),a=null),e.labelWidth&&L(n,"width",s.labelWidth||on),e.disabled&&j(n,"disabled",s.disabled)},d:function(t){t&&g(n),a&&a.d()}}}function un(t,e){var n;return{c:function(){(n=N("p")).className="mini-help mt-1"},m:function(t,i){v(t,n,i),n.innerHTML=e.labelHelp},p:function(t,e){t.labelHelp&&(n.innerHTML=e.labelHelp)},d:function(t){t&&g(n)}}}function dn(t,e){var n,i;return{c:function(){L(n=N("p"),"padding-left",e.inline?0:e.labelWidth||on),n.className=i="mt-1 mini-help "+e.type+" svelte-1ykzs2h",j(n,"mini-help-block",!e.inline)},m:function(t,i){v(t,n,i),n.innerHTML=e.miniHelp},p:function(t,e){t.miniHelp&&(n.innerHTML=e.miniHelp),(t.inline||t.labelWidth)&&L(n,"padding-left",e.inline?0:e.labelWidth||on),t.type&&i!==(i="mt-1 mini-help "+e.type+" svelte-1ykzs2h")&&(n.className=i),(t.type||t.inline)&&j(n,"mini-help-block",!e.inline)},d:function(t){t&&g(n)}}}function fn(t){var e,n,i,s,a,r,o,l,c,u,d,p;J(this,t),this._state=f({disabled:!1,help:!1,helpClass:!1,miniHelp:!1,label:!1,labelHelp:!1,inline:!1,labelWidth:!1,type:"default",valign:"baseline"},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,c=e._slotted.default,u=n.help&&ln(e,n),d=n.label&&cn(e,n),p=n.miniHelp&&dn(0,n),{c:function(){u&&u.c(),i=k("\n\n"),s=N("div"),d&&d.c(),a=k("\n    "),r=N("div"),o=k("\n    "),p&&p.c(),r.className="controls svelte-1ykzs2h",L(r,"width","calc(100% - "+(n.labelWidth||on)+" - 32px)"),j(r,"form-inline",n.inline),s.className=l="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h"},m:function(t,e){u&&u.m(t,e),v(t,i,e),v(t,s,e),d&&d.m(s,null),h(s,a),h(s,r),c&&h(r,c),h(s,o),p&&p.m(s,null)},p:function(t,n){n.help?u?u.p(t,n):((u=ln(e,n)).c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null),n.label?d?d.p(t,n):((d=cn(e,n)).c(),d.m(s,a)):d&&(d.d(1),d=null),t.labelWidth&&L(r,"width","calc(100% - "+(n.labelWidth||on)+" - 32px)"),t.inline&&j(r,"form-inline",n.inline),n.miniHelp?p?p.p(t,n):((p=dn(0,n)).c(),p.m(s,null)):p&&(p.d(1),p=null),(t.type||t.valign)&&l!==(l="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h")&&(s.className=l)},d:function(t){u&&u.d(t),t&&(g(i),g(s)),d&&d.d(),c&&y(r,c),p&&p.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}function pn(t){var e=t.changed;t.previous&&e.value&&this.set({indeterminate:!1})}function mn(t,e,n){var i=Object.create(t);return i.opt=e[n],i}function hn(t,e){var n,i=e.opt.help;return{c:function(){(n=N("div")).className="help svelte-b3e9e4"},m:function(t,e){v(t,n,e),n.innerHTML=i},p:function(t,e){t.options&&i!==(i=e.opt.help)&&(n.innerHTML=i)},d:function(t){t&&g(n)}}}function vn(t,e){var n,i,s,a,r,o,l,c,u,d=e.opt.label;function f(){t.set({value:i.__value})}var p=e.opt.help&&hn(0,e);return{c:function(){n=N("label"),i=N("input"),a=k("\n            "),r=N("span"),o=k(" "),l=N("span"),c=k("\n            "),p&&p.c(),t._bindingGroups[0].push(i),O(i,"change",f),C(i,"type","radio"),i.__value=s=e.opt.value,i.value=i.__value,i.disabled=e.disabled,i.className="svelte-b3e9e4",r.className="css-ui svelte-b3e9e4",l.className="inner-label svelte-b3e9e4",n.title=u=e.opt.tooltip||"",n.className="svelte-b3e9e4",j(n,"disabled",e.disabled),j(n,"has-help",e.opt.help)},m:function(t,s){v(t,n,s),h(n,i),i.checked=i.__value===e.value,h(n,a),h(n,r),h(n,o),h(n,l),l.innerHTML=d,h(n,c),p&&p.m(n,null)},p:function(t,e){t.value&&(i.checked=i.__value===e.value),t.options&&s!==(s=e.opt.value)&&(i.__value=s),i.value=i.__value,t.disabled&&(i.disabled=e.disabled),t.options&&d!==(d=e.opt.label)&&(l.innerHTML=d),e.opt.help?p?p.p(t,e):((p=hn(0,e)).c(),p.m(n,null)):p&&(p.d(1),p=null),t.options&&u!==(u=e.opt.tooltip||"")&&(n.title=u),t.disabled&&j(n,"disabled",e.disabled),t.options&&j(n,"has-help",e.opt.help)},d:function(e){e&&g(n),t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(i),1),H(i,"change",f),p&&p.d()}}}function gn(t,e){var n;return{c:function(){(n=N("div")).className="disabled-message svelte-b3e9e4"},m:function(t,i){v(t,n,i),n.innerHTML=e.disabledMessage},p:function(t,e){t.disabledMessage&&(n.innerHTML=e.disabledMessage)},d:function(t){t&&g(n)}}}function bn(t){var e=this;J(this,t),this._state=f({value:null,disabled:!1,disabledMessage:"",indeterminate:!1,label:"",labelWidth:"auto",help:null,miniHelp:null,valign:"top",inline:!0},t.data),this._bindingGroups=[[]],this._intro=!0,this._handlers.state=[pn],this._slotted=t.slots||{},pn.call(this,{changed:p({},this._state),current:this._state}),this._fragment=function(t,e){for(var n,i,s,a,r,o=t._slotted.default,l=e.options,c=[],u=0;u<l.length;u+=1)c[u]=vn(t,mn(e,l,u));var d={type:"radio",labelWidth:e.labelWidth,valign:e.valign,label:e.label,disabled:e.disabled,help:e.help,miniHelp:e.miniHelp},f=new fn({root:t.root,store:t.store,slots:{default:T()},data:d}),p=e.disabled&&e.disabledMessage&&gn(t,e);return{c:function(){n=N("div");for(var t=0;t<c.length;t+=1)c[t].c();i=k("\n    "),f._fragment.c(),a=k("\n\n"),p&&p.c(),r=M(),n.className="svelte-b3e9e4",j(n,"inline",e.inline),j(n,"indeterminate",e.indeterminate)},m:function(t,e){h(f._slotted.default,n);for(var l=0;l<c.length;l+=1)c[l].m(n,null);h(f._slotted.default,i),o&&(h(f._slotted.default,s||(s=M())),h(f._slotted.default,o)),f._mount(t,e),v(t,a,e),p&&p.m(t,e),v(t,r,e)},p:function(e,i){if(e.options||e.disabled||e.value){l=i.options;for(var s=0;s<l.length;s+=1){var a=mn(i,l,s);c[s]?c[s].p(e,a):(c[s]=vn(t,a),c[s].c(),c[s].m(n,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=l.length}e.inline&&j(n,"inline",i.inline),e.indeterminate&&j(n,"indeterminate",i.indeterminate);var o={};e.labelWidth&&(o.labelWidth=i.labelWidth),e.valign&&(o.valign=i.valign),e.label&&(o.label=i.label),e.disabled&&(o.disabled=i.disabled),e.help&&(o.help=i.help),e.miniHelp&&(o.miniHelp=i.miniHelp),f._set(o),i.disabled&&i.disabledMessage?p?p.p(e,i):((p=gn(t,i)).c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},d:function(t){x(c,t),o&&w(s,o),f.destroy(t),t&&g(a),p&&p.d(t),t&&g(r)}}}(this,this._state),this.root._oncreate.push((function(){e.fire("update",{changed:p({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}function _n(t,e,n){var i=Object.create(t);return i.option=e[n],i.i=n,i}function yn(t,e){var n,i,s,a,r,o,l,c,u=!1;function d(){u=!0,e.inputWidths[e.i]=A(i.value),t.set({inputWidths:e.inputWidths}),u=!1}return{c:function(){n=N("div"),i=N("input"),a=k("\n        "),r=N("div"),o=N("i"),c=k("\n    "),O(i,"input",d),C(i,"type","number"),i.placeholder=s=e.option.width,i.className="svelte-1r7yu5m",o.className=l="fa "+e.option.icon+" svelte-1r7yu5m",L(o,"font-size",e.option.size+"px"),r.className="size-icon svelte-1r7yu5m",n.className="width-input svelte-1r7yu5m"},m:function(t,s){v(t,n,s),h(n,i),i.value=e.inputWidths[e.i],h(n,a),h(n,r),h(r,o),h(n,c)},p:function(t,n){e=n,!u&&t.inputWidths&&(i.value=e.inputWidths[e.i]),t.widthOptions&&s!==(s=e.option.width)&&(i.placeholder=s),t.widthOptions&&l!==(l="fa "+e.option.icon+" svelte-1r7yu5m")&&(o.className=l),t.widthOptions&&L(o,"font-size",e.option.size+"px")},d:function(t){t&&g(n),H(i,"input",d)}}}function wn(t){J(this,t),this._state=f({widthOptions:[{width:320,icon:"fa-mobile",size:14},{width:400,icon:"fa-mobile",size:17},{width:600,icon:"fa-desktop",size:14}],inputWidths:["","",""]},t.data),this._recompute({widthOptions:1,inputWidths:1},this._state),this._intro=!0,this._fragment=function(t,e){for(var n,i=e.widthOptions,s=[],a=0;a<i.length;a+=1)s[a]=yn(t,_n(e,i,a));return{c:function(){n=N("div");for(var t=0;t<s.length;t+=1)s[t].c();n.className="preview-widths",L(n,"display","flex")},m:function(t,e){v(t,n,e);for(var i=0;i<s.length;i+=1)s[i].m(n,null)},p:function(e,a){if(e.widthOptions||e.inputWidths){i=a.widthOptions;for(var r=0;r<i.length;r+=1){var o=_n(a,i,r);s[r]?s[r].p(e,o):(s[r]=yn(t,o),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d:function(t){t&&g(n),x(s,t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function xn(){var t=this.get().settings;!function(t,e,n){var i=Array.isArray(e)?e:e.split("."),s=i.pop(),a=t;i.forEach((function(t){void 0!==a[t]&&null!==a[t]||(a[t]={}),a=a[t]})),JSON.stringify(a[s])!==JSON.stringify(n)&&(a[s]=n)}(t,"default.metadata.publish",function(t){if(Array.isArray(t)){var e={};return Object.keys(t).forEach((function(n){return e[n]=t[n]})),e}return t}(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;for(var i=Array.isArray(e)?e:e.split("."),s=t,a=0;a<i.length&&null!=s;a++)s=s[i[a]];return null==s?n:s}(t,"default.metadata.publish",{}))),this.set({settings:t,initialized:!0})}function Tn(t){var e=t.changed,n=t.current;t.previous;n.settings&&(e.settings||e.team||e.defaultTheme)&&this.fire("change",{team:n.team,settings:n.settings,defaultTheme:n.defaultTheme})}function Nn(t,e){var n,i,s,a,r,o,l,c,u,d=!1,f=!1,p=!1;function m(){d=!0,e.settings.embed.custom_embed.title=s.value,t.set({settings:e.settings}),d=!1}var b={label:tt("teams / custom / title"),help:""},_=new qe({root:t.root,store:t.store,slots:{default:T()},data:b});function y(){f=!0,e.settings.embed.custom_embed.text=r.value,t.set({settings:e.settings}),f=!1}var w={label:tt("teams / custom / help"),help:""},x=new qe({root:t.root,store:t.store,slots:{default:T()},data:w});function M(){p=!0,e.settings.embed.custom_embed.template=l.value,t.set({settings:e.settings}),p=!1}var A={label:tt("teams / custom / embedcode"),help:tt("teams / custom / embedcode / help")},E=new qe({root:t.root,store:t.store,slots:{default:T()},data:A});return{c:function(){(n=N("h3")).textContent="Custom Embed Code",i=k("\n\n        "),s=N("input"),_._fragment.c(),a=k("\n\n        "),r=N("textarea"),x._fragment.c(),o=k("\n\n        "),l=N("textarea"),E._fragment.c(),c=k("\n        "),u=N("hr"),O(s,"input",m),C(s,"type","text"),s.placeholder="e.g. Custom CMS Embed",O(r,"input",y),r.placeholder="e.g. This is a custom embed code for our CMS",O(l,"input",M),l.className="embedcode svelte-xvgt5o",l.placeholder='<iframe src="%chart_url%" width="%chart_width%" widthheight="%chart_height%"></iframe>'},m:function(t,d){v(t,n,d),v(t,i,d),h(_._slotted.default,s),s.value=e.settings.embed.custom_embed.title,_._mount(t,d),v(t,a,d),h(x._slotted.default,r),r.value=e.settings.embed.custom_embed.text,x._mount(t,d),v(t,o,d),h(E._slotted.default,l),l.value=e.settings.embed.custom_embed.template,E._mount(t,d),v(t,c,d),v(t,u,d)},p:function(t,n){e=n,!d&&t.settings&&(s.value=e.settings.embed.custom_embed.title),!f&&t.settings&&(r.value=e.settings.embed.custom_embed.text),!p&&t.settings&&(l.value=e.settings.embed.custom_embed.template)},d:function(t){t&&(g(n),g(i)),H(s,"input",m),_.destroy(t),t&&g(a),H(r,"input",y),x.destroy(t),t&&g(o),H(l,"input",M),E.destroy(t),t&&(g(c),g(u))}}}function kn(t,e){var n,i,s,a,r,o,l=!1,c=!1;function u(){l=!0,e.settings.default.metadata.publish["embed-width"]=A(i.value),t.set({settings:e.settings}),l=!1}function d(){c=!0,e.settings.default.metadata.publish["embed-height"]=A(o.value),t.set({settings:e.settings}),c=!1}var f={label:tt("teams / defaults / visualization-size"),help:tt("teams / defaults / visualization-size / help")},p=new qe({root:t.root,store:t.store,slots:{default:T()},data:f});return{c:function(){n=N("div"),i=N("input"),s=k("\n                "),(a=N("span")).textContent="×",r=k("\n                "),o=N("input"),p._fragment.c(),O(i,"input",u),C(i,"type","number"),i.placeholder="600",i.className="svelte-xvgt5o",a.className="svelte-xvgt5o",O(o,"input",d),C(o,"type","number"),o.placeholder="400",o.className="svelte-xvgt5o",n.className="default-size svelte-xvgt5o"},m:function(t,l){h(p._slotted.default,n),h(n,i),i.value=e.settings.default.metadata.publish["embed-width"],h(n,s),h(n,a),h(n,r),h(n,o),o.value=e.settings.default.metadata.publish["embed-height"],p._mount(t,l)},p:function(t,n){e=n,!l&&t.settings&&(i.value=e.settings.default.metadata.publish["embed-width"]),!c&&t.settings&&(o.value=e.settings.default.metadata.publish["embed-height"])},d:function(t){H(i,"input",u),H(o,"input",d),p.destroy(t)}}}function Mn(t){var e=this;J(this,t),this._state=f({initialized:!1,embedCodes:[{value:"responsive",label:tt("teams / defaults / responsive-iframe")},{value:"iframe",label:tt("teams / defaults / iframe")},{value:"custom",label:tt("teams / defaults / custom")}],themes:[],folders:[],locales:[],defaultTheme:"",settings:{},team:{}},t.data),this._recompute({locales:1},this._state),this._intro=!0,this._handlers.state=[Tn],Tn.call(this,{changed:p({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,s,a,r,o,l,c,u,d,f,p,m,b,_,y,w,x,M,A=tt("teams / defaults / p"),E=!1,P={},U=tt("teams / defaults / h3"),j={},S={},I={},W={},z=tt("teams / editor / h1"),q={};function D(){E=!0,e.team.name=r.value,t.set({team:e.team}),E=!1}var R={label:tt("teams / name"),help:tt("teams / name / help")},B=new qe({root:t.root,store:t.store,slots:{default:T()},data:R}),F={label:"",options:[{label:tt("teams / defaults / expanded"),value:"expanded"},{label:tt("teams / defaults / collapsed"),value:"collapsed"}]};void 0!==e.settings.folders&&(F.value=e.settings.folders,P.value=!0);var $=new bn({root:t.root,store:t.store,data:F,_bind:function(n,i){var s={};!P.value&&n.value&&(e.settings.folders=i.value,s.settings=e.settings),t._set(s),P={}}});t.root._beforecreate.push((function(){$._bind({value:1},$.get())}));var V={label:tt("teams / defaults / folder-status"),help:tt("teams / defaults / folder-status / p")},G=new qe({root:t.root,store:t.store,slots:{default:T()},data:V}),J={options:e.themes};void 0!==e.defaultTheme&&(J.value=e.defaultTheme,j.value=!0);var Z=new Et({root:t.root,store:t.store,data:J,_bind:function(e,n){var i={};!j.value&&e.value&&(i.defaultTheme=n.value),t._set(i),j={}}});t.root._beforecreate.push((function(){Z._bind({value:1},Z.get())}));var X={label:tt("teams / defaults / theme"),help:tt("teams / defaults / theme / p")},K=new qe({root:t.root,store:t.store,slots:{default:T()},data:X}),Q={options:e.folders};void 0!==e.settings.default.folder&&(Q.value=e.settings.default.folder,S.value=!0);var Y=new Et({root:t.root,store:t.store,data:Q,_bind:function(n,i){var s={};!S.value&&n.value&&(e.settings.default.folder=i.value,s.settings=e.settings),t._set(s),S={}}});t.root._beforecreate.push((function(){Y._bind({value:1},Y.get())}));var et={label:tt("teams / defaults / folder"),help:tt("teams / defaults / folder / p")},nt=new qe({root:t.root,store:t.store,slots:{default:T()},data:et}),it={options:e.localeOptions};void 0!==e.settings.default.locale&&(it.value=e.settings.default.locale,I.value=!0);var st=new Et({root:t.root,store:t.store,data:it,_bind:function(n,i){var s={};!I.value&&n.value&&(e.settings.default.locale=i.value,s.settings=e.settings),t._set(s),I={}}});t.root._beforecreate.push((function(){st._bind({value:1},st.get())}));var at={label:tt("teams / defaults / locale"),help:tt("teams / defaults / locale / p")},rt=new qe({root:t.root,store:t.store,slots:{default:T()},data:at}),ot={label:"",options:e.embedCodes};void 0!==e.settings.embed.preferred_embed&&(ot.value=e.settings.embed.preferred_embed,W.value=!0);var lt=new bn({root:t.root,store:t.store,data:ot,_bind:function(n,i){var s={};!W.value&&n.value&&(e.settings.embed.preferred_embed=i.value,s.settings=e.settings),t._set(s),W={}}});t.root._beforecreate.push((function(){lt._bind({value:1},lt.get())}));var ct={label:tt("teams / defaults / embedcode"),help:tt("teams / defaults / embedcode / p")},ut=new qe({root:t.root,store:t.store,slots:{default:T()},data:ct}),dt="custom"==e.settings.embed.preferred_embed&&Nn(t,e),ft=e.initialized&&kn(t,e),pt={};void 0!==e.settings.previewWidths&&(pt.value=e.settings.previewWidths,q.value=!0);var mt=new wn({root:t.root,store:t.store,data:pt,_bind:function(n,i){var s={};!q.value&&n.value&&(e.settings.previewWidths=i.value,s.settings=e.settings),t._set(s),q={}}});t.root._beforecreate.push((function(){mt._bind({value:1},mt.get())}));var ht={label:tt("teams / editor / preview-widths"),help:tt("teams / editor / preview-widths / help")},vt=new qe({root:t.root,store:t.store,slots:{default:T()},data:ht});return{c:function(){n=N("div"),i=N("div"),s=N("p"),a=k("\n\n        "),r=N("input"),B._fragment.c(),o=k("\n\n        "),$._fragment.c(),G._fragment.c(),l=k("\n\n        "),c=N("h3"),u=k(U),d=k("\n\n        "),Z._fragment.c(),K._fragment.c(),f=k("\n\n        "),Y._fragment.c(),nt._fragment.c(),p=k("\n\n        "),st._fragment.c(),rt._fragment.c(),m=k("\n\n        "),lt._fragment.c(),ut._fragment.c(),b=k("\n\n        "),dt&&dt.c(),_=k(" "),ft&&ft.c(),y=k("\n\n        "),w=N("h3"),x=k(z),M=k("\n\n        "),mt._fragment.c(),vt._fragment.c(),L(s,"margin-bottom","10px"),O(r,"input",D),C(r,"type","text"),r.placeholder="",i.className="span6",n.className="row"},m:function(t,g){v(t,n,g),h(n,i),h(i,s),s.innerHTML=A,h(i,a),h(B._slotted.default,r),r.value=e.team.name,B._mount(i,null),h(i,o),$._mount(G._slotted.default,null),G._mount(i,null),h(i,l),h(i,c),h(c,u),h(i,d),Z._mount(K._slotted.default,null),K._mount(i,null),h(i,f),Y._mount(nt._slotted.default,null),nt._mount(i,null),h(i,p),st._mount(rt._slotted.default,null),rt._mount(i,null),h(i,m),lt._mount(ut._slotted.default,null),ut._mount(i,null),h(i,b),dt&&dt.m(i,null),h(i,_),ft&&ft.m(i,null),h(i,y),h(i,w),h(w,x),h(i,M),mt._mount(vt._slotted.default,null),vt._mount(i,null)},p:function(n,s){e=s,!E&&n.team&&(r.value=e.team.name);var a={};!P.value&&n.settings&&(a.value=e.settings.folders,P.value=void 0!==e.settings.folders),$._set(a),P={};var o={};n.themes&&(o.options=e.themes),!j.value&&n.defaultTheme&&(o.value=e.defaultTheme,j.value=void 0!==e.defaultTheme),Z._set(o),j={};var l={};n.folders&&(l.options=e.folders),!S.value&&n.settings&&(l.value=e.settings.default.folder,S.value=void 0!==e.settings.default.folder),Y._set(l),S={};var c={};n.localeOptions&&(c.options=e.localeOptions),!I.value&&n.settings&&(c.value=e.settings.default.locale,I.value=void 0!==e.settings.default.locale),st._set(c),I={};var u={};n.embedCodes&&(u.options=e.embedCodes),!W.value&&n.settings&&(u.value=e.settings.embed.preferred_embed,W.value=void 0!==e.settings.embed.preferred_embed),lt._set(u),W={},"custom"==e.settings.embed.preferred_embed?dt?dt.p(n,e):((dt=Nn(t,e)).c(),dt.m(i,_)):dt&&(dt.d(1),dt=null),e.initialized?ft?ft.p(n,e):((ft=kn(t,e)).c(),ft.m(i,y)):ft&&(ft.d(1),ft=null);var d={};!q.value&&n.settings&&(d.value=e.settings.previewWidths,q.value=void 0!==e.settings.previewWidths),mt._set(d),q={}},d:function(t){t&&g(n),H(r,"input",D),B.destroy(),$.destroy(),G.destroy(),Z.destroy(),K.destroy(),Y.destroy(),nt.destroy(),st.destroy(),rt.destroy(),lt.destroy(),ut.destroy(),dt&&dt.d(),ft&&ft.d(),mt.destroy(),vt.destroy()}}}(this,this._state),this.root._oncreate.push((function(){xn.call(e),e.fire("update",{changed:p({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}function On(t){var e=t-1;return e*e*e+1}function Hn(t,e){var n=e.delay;void 0===n&&(n=0);var i=e.duration;void 0===i&&(i=400);var s=e.easing;void 0===s&&(s=On);var a=getComputedStyle(t),r=+a.opacity,o=parseFloat(a.height),l=parseFloat(a.paddingTop),c=parseFloat(a.paddingBottom),u=parseFloat(a.marginTop),d=parseFloat(a.marginBottom),f=parseFloat(a.borderTopWidth),p=parseFloat(a.borderBottomWidth);return{delay:n,duration:i,easing:s,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*r+";height: "+t*o+"px;padding-top: "+t*l+"px;padding-bottom: "+t*c+"px;margin-top: "+t*u+"px;margin-bottom: "+t*d+"px;border-top-width: "+t*f+"px;border-bottom-width: "+t*p+"px;"}}}f(fn.prototype,K),f(bn.prototype,K),f(wn.prototype,K),wn.prototype._recompute=function(t,e){var n,i;(t.widthOptions||t.inputWidths)&&this._differs(e.value,e.value=(i=(n=e).widthOptions,n.inputWidths.map((function(t,e){return t||i[e].width}))))&&(t.value=!0)},f(Mn.prototype,K),Mn.prototype._recompute=function(t,e){var n;t.locales&&this._differs(e.localeOptions,e.localeOptions=(n=e.locales,[{value:null,label:tt("teams / defaults / none","organizations")}].concat(u(n))))&&(t.localeOptions=!0)};function Cn(){this.set({hasSlotContent:this.options.slots&&this.options.slots.default})}function An(t,e){var n,i={type:e.helpType},s=new rn({root:t.root,store:t.store,slots:{default:T()},data:i});return{c:function(){n=N("div"),s._fragment.c()},m:function(t,i){h(s._slotted.default,n),n.innerHTML=e.help,s._mount(t,i)},p:function(t,e){t.help&&(n.innerHTML=e.help);var i={};t.helpType&&(i.type=e.helpType),s._set(i)},d:function(t){s.destroy(t)}}}function En(t,e){var n,i,s=e.hasSlotContent&&(!e.disabled||"on"==e.disabledState)&&e.value&&!e.indeterminate&&Pn(t);return{c:function(){s&&s.c(),n=M()},m:function(t,e){s&&s.i(t,e),v(t,n,e),i=!0},p:function(e,i){!i.hasSlotContent||i.disabled&&"on"!=i.disabledState||!i.value||i.indeterminate?s&&(z(),s.o((function(){s.d(1),s=null}))):(s||(s=Pn(t)).c(),s.i(n.parentNode,n))},i:function(t,e){i||this.m(t,e)},o:m,d:function(t){s&&s.d(t),t&&g(n)}}}function Ln(t,e){var n,i,s,a;return{c:function(){n=N("div"),(i=N("div")).className="disabled-msg svelte-1cqdlwk"},m:function(t,s){v(t,n,s),h(n,i),i.innerHTML=e.disabledMessage,a=!0},p:function(t,e){a&&!t.disabledMessage||(i.innerHTML=e.disabledMessage)},i:function(e,i){a||(t.root._intro&&(s&&s.invalidate(),t.root._aftercreate.push((function(){s||(s=I(t,n,Hn,{},!0)),s.run(1)}))),this.m(e,i))},o:function(e){a&&(s||(s=I(t,n,Hn,{},!1)),s.run(0,(function(){e(),s=null})),a=!1)},d:function(t){t&&(g(n),s&&s.abort())}}}function Pn(t,e){var n,i,s,a=t._slotted.default;return{c:function(){(n=N("div")).className="switch-content svelte-1cqdlwk"},m:function(t,e){v(t,n,e),a&&h(n,a),s=!0},i:function(e,a){s||(t.root._intro&&(i&&i.invalidate(),t.root._aftercreate.push((function(){i||(i=I(t,n,Hn,{},!0)),i.run(1)}))),this.m(e,a))},o:function(e){s&&(i||(i=I(t,n,Hn,{},!1)),i.run(0,(function(){e(),i=null})),s=!1)},d:function(t){t&&g(n),a&&y(n,a),t&&i&&i.abort()}}}function Un(t){var e=this;J(this,t),this._state=f({value:!1,help:"",helpType:!1,disabledMessage:"",disabledState:"auto",disabled:!1,highlight:!1,indeterminate:!1,hasSlotContent:!1},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,s,a,r,o,l,c,u,d,f,p,m,b=e.help&&An(t,e);function y(){t.set({value:r.checked,indeterminate:r.indeterminate})}function w(e){t.toggle()}var x=[Ln,En],T=[];function M(t){return t.disabled&&t.disabledMessage?0:1}return p=M(e),m=T[p]=x[p](t,e),{c:function(){n=N("div"),b&&b.c(),i=k("\n\n    "),s=N("label"),a=N("button"),r=N("input"),l=k("\n            "),c=N("span"),u=k("\n        "),d=N("noscript"),f=k("\n\n    "),m.c(),O(r,"change",y),"value"in e&&"indeterminate"in e||t.root._beforecreate.push(y),r.className=o=(e.disabled&&"on"==e.disabledState?"disabled-force-checked":e.disabled&&"off"==e.disabledState?"disabled-force-unchecked":"")+" svelte-1cqdlwk",r.disabled=e.disabled,C(r,"type","checkbox"),c.className="slider svelte-1cqdlwk",O(a,"click",w),a.className="switch svelte-1cqdlwk",s.className="switch-outer svelte-1cqdlwk",j(s,"disabled",e.disabled),n.className="vis-option-type-switch svelte-1cqdlwk"},m:function(t,o){v(t,n,o),b&&b.m(n,null),h(n,i),h(n,s),h(s,a),h(a,r),r.checked=e.value,r.indeterminate=e.indeterminate,h(a,l),h(a,c),h(s,u),h(s,d),d.insertAdjacentHTML("afterend",e.label),h(n,f),T[p].i(n,null)},p:function(e,a){a.help?b?b.p(e,a):((b=An(t,a)).c(),b.m(n,i)):b&&(b.d(1),b=null),e.value&&(r.checked=a.value),e.indeterminate&&(r.indeterminate=a.indeterminate),(e.disabled||e.disabledState)&&o!==(o=(a.disabled&&"on"==a.disabledState?"disabled-force-checked":a.disabled&&"off"==a.disabledState?"disabled-force-unchecked":"")+" svelte-1cqdlwk")&&(r.className=o),e.disabled&&(r.disabled=a.disabled),e.label&&(_(d),d.insertAdjacentHTML("afterend",a.label)),e.disabled&&j(s,"disabled",a.disabled);var l=p;(p=M(a))===l?T[p].p(e,a):(z(),m.o((function(){T[l].d(1),T[l]=null})),(m=T[p])||(m=T[p]=x[p](t,a)).c(),m.i(n,null))},d:function(t){t&&g(n),b&&b.d(),H(r,"change",y),H(a,"click",w),T[p].d()}}}(this,this._state),this.root._oncreate.push((function(){Cn.call(e),e.fire("update",{changed:p({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}function jn(t,e){var n,i=new rn({root:t.root,store:t.store,slots:{default:T()}});return{c:function(){n=N("div"),i._fragment.c()},m:function(t,s){h(i._slotted.default,n),n.innerHTML=e.help,i._mount(t,s)},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){i.destroy(t)}}}function Sn(t,e){var n,i,s,a;return{c:function(){n=N("div"),(i=N("div")).className="disabled-msg svelte-1rmafvf"},m:function(t,s){v(t,n,s),h(n,i),i.innerHTML=e.disabledMessage,a=!0},p:function(t,e){a&&!t.disabledMessage||(i.innerHTML=e.disabledMessage)},i:function(e,i){a||(t.root._intro&&(s&&s.invalidate(),t.root._aftercreate.push((function(){s||(s=I(t,n,Hn,{},!0)),s.run(1)}))),this.m(e,i))},o:function(e){a&&(s||(s=I(t,n,Hn,{},!1)),s.run(0,(function(){e(),s=null})),a=!1)},d:function(t){t&&(g(n),s&&s.abort())}}}function In(t){J(this,t),this._state=f({value:!1,disabled:!1,faded:!1,compact:!1,indeterminate:!1,disabledMessage:"",help:!1},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,s,a,r,o,l,c,u,d=e.help&&jn(t,e);function f(){t.set({value:a.checked,indeterminate:a.indeterminate})}var p=e.disabled&&e.disabledMessage&&Sn(t,e);return{c:function(){d&&d.c(),n=k("\n"),i=N("div"),s=N("label"),a=N("input"),r=N("span"),o=k("\n        "),l=k(e.label),u=k("\n    "),p&&p.c(),O(a,"change",f),"value"in e&&"indeterminate"in e||t.root._beforecreate.push(f),C(a,"type","checkbox"),a.disabled=e.disabled,a.className="svelte-1rmafvf",r.className="css-ui svelte-1rmafvf",s.className=c="checkbox "+(e.disabled?"disabled":"")+" "+(e.faded?"faded":"")+" svelte-1rmafvf",i.className="control-group vis-option-group vis-option-type-checkbox svelte-1rmafvf",j(i,"is-compact",e.compact)},m:function(t,c){d&&d.m(t,c),v(t,n,c),v(t,i,c),h(i,s),h(s,a),a.checked=e.value,a.indeterminate=e.indeterminate,h(s,r),h(s,o),h(s,l),h(i,u),p&&p.i(i,null)},p:function(e,r){r.help?d?d.p(e,r):((d=jn(t,r)).c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null),e.value&&(a.checked=r.value),e.indeterminate&&(a.indeterminate=r.indeterminate),e.disabled&&(a.disabled=r.disabled),e.label&&E(l,r.label),(e.disabled||e.faded)&&c!==(c="checkbox "+(r.disabled?"disabled":"")+" "+(r.faded?"faded":"")+" svelte-1rmafvf")&&(s.className=c),r.disabled&&r.disabledMessage?(p?p.p(e,r):(p=Sn(t,r))&&p.c(),p.i(i,null)):p&&(z(),p.o((function(){p.d(1),p=null}))),e.compact&&j(i,"is-compact",r.compact)},d:function(t){d&&d.d(t),t&&(g(n),g(i)),H(a,"change",f),p&&p.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}f(Un.prototype,K),f(Un.prototype,{toggle:function(){var t=this.get(),e=t.disabled,n=t.indeterminate,i=t.value,s={value:!!n||!i,indeterminate:!1};e||(this.set(s),this.fire("change",s))}}),f(In.prototype,K);var Wn={deleteTeam:function(){try{return this.set({deleting:!0}),function(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}(Xt.delete("/v3/teams/".concat(this.get().team.id)),(function(){window.location="/"}))}catch(t){return Promise.reject(t)}}};function zn(t,e){var n,i,s,a,r=tt("teams / delete / really"),o={},l={label:tt("teams / delete / really-yes")};void 0!==e.deleteTeam2&&(l.value=e.deleteTeam2,o.value=!0);var c=new In({root:t.root,store:t.store,data:l,_bind:function(e,n){var i={};!o.value&&e.value&&(i.deleteTeam2=n.value),t._set(i),o={}}});t.root._beforecreate.push((function(){c._bind({value:1},c.get())}));var u=e.deleteTeam2&&qn(t,e);return{c:function(){n=N("p"),i=k("\n\n    "),c._fragment.c(),s=k("\n\n    "),u&&u.c(),a=M()},m:function(t,e){v(t,n,e),n.innerHTML=r,v(t,i,e),c._mount(t,e),v(t,s,e),u&&u.m(t,e),v(t,a,e)},p:function(n,i){e=i;var s={};!o.value&&n.deleteTeam2&&(s.value=e.deleteTeam2,o.value=void 0!==e.deleteTeam2),c._set(s),o={},e.deleteTeam2?u?u.p(n,e):((u=qn(t,e)).c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},d:function(t){t&&(g(n),g(i)),c.destroy(t),t&&g(s),u&&u.d(t),t&&g(a)}}}function qn(t,e){var n,i,s,a,r,o=tt("teams / delete / action");function l(e){t.deleteTeam()}return{c:function(){n=N("button"),i=N("i"),a=k("  "),r=N("noscript"),i.className=s="fa "+(e.deleting?"fa-spin fa-circle-o-notch":"fa-times"),O(n,"click",l),n.className="btn btn-danger"},m:function(t,e){v(t,n,e),h(n,i),h(n,a),h(n,r),r.insertAdjacentHTML("afterend",o)},p:function(t,e){t.deleting&&s!==(s="fa "+(e.deleting?"fa-spin fa-circle-o-notch":"fa-times"))&&(i.className=s)},d:function(t){t&&g(n),H(n,"click",l)}}}function Dn(t){J(this,t),this._state=f({deleteTeam:!1,deleteTeam2:!1,deleting:!1},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,s,a=tt("teams / delete / p"),r={},o=e.deleteTeam&&zn(t,e),l={label:tt("teams / delete / yes")};void 0!==e.deleteTeam&&(l.value=e.deleteTeam,r.value=!0);var c=new Un({root:t.root,store:t.store,slots:{default:T()},data:l,_bind:function(e,n){var i={};!r.value&&e.value&&(i.deleteTeam=n.value),t._set(i),r={}}});return t.root._beforecreate.push((function(){c._bind({value:1},c.get())})),{c:function(){n=N("p"),i=k("\n\n"),o&&o.c(),s=M(),c._fragment.c()},m:function(t,e){v(t,n,e),n.innerHTML=a,v(t,i,e),o&&o.m(c._slotted.default,null),h(c._slotted.default,s),c._mount(t,e)},p:function(n,i){(e=i).deleteTeam?o?o.p(n,e):((o=zn(t,e)).c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null);var a={};!r.value&&n.deleteTeam&&(a.value=e.deleteTeam,r.value=void 0!==e.deleteTeam),c._set(a),r={}},d:function(t){t&&(g(n),g(i)),o&&o.d(),c.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}function Rn(t){J(this,t),this._state=f({disabled:!1,width:null,labelWidth:null,options:[],optgroups:[],valign:"middle",inline:!1,help:null,miniHelp:null},t.data),this._recompute({inline:1,width:1,labelWidth:1},this._state),this._intro=!0,this._fragment=function(t,e){var n={},i={width:e.controlWidth,class:"mt-1"};void 0!==e.value&&(i.value=e.value,n.value=!0),void 0!==e.disabled&&(i.disabled=e.disabled,n.disabled=!0),void 0!==e.options&&(i.options=e.options,n.options=!0),void 0!==e.optgroups&&(i.optgroups=e.optgroups,n.optgroups=!0);var s=new Et({root:t.root,store:t.store,data:i,_bind:function(e,i){var s={};!n.value&&e.value&&(s.value=i.value),!n.disabled&&e.disabled&&(s.disabled=i.disabled),!n.options&&e.options&&(s.options=i.options),!n.optgroups&&e.optgroups&&(s.optgroups=i.optgroups),t._set(s),n={}}});t.root._beforecreate.push((function(){s._bind({value:1,disabled:1,options:1,optgroups:1},s.get())})),s.on("change",(function(e){t.fire("change",e)}));var a={type:"select",label:e.label,labelWidth:e.labelWidth,valign:e.valign,disabled:e.disabled,inline:e.inline,miniHelp:e.miniHelp,help:e.help,helpClass:"mt-1"},r=new fn({root:t.root,store:t.store,slots:{default:T()},data:a});return{c:function(){s._fragment.c(),r._fragment.c()},m:function(t,e){s._mount(r._slotted.default,null),r._mount(t,e)},p:function(t,i){e=i;var a={};t.controlWidth&&(a.width=e.controlWidth),!n.value&&t.value&&(a.value=e.value,n.value=void 0!==e.value),!n.disabled&&t.disabled&&(a.disabled=e.disabled,n.disabled=void 0!==e.disabled),!n.options&&t.options&&(a.options=e.options,n.options=void 0!==e.options),!n.optgroups&&t.optgroups&&(a.optgroups=e.optgroups,n.optgroups=void 0!==e.optgroups),s._set(a),n={};var o={};t.label&&(o.label=e.label),t.labelWidth&&(o.labelWidth=e.labelWidth),t.valign&&(o.valign=e.valign),t.disabled&&(o.disabled=e.disabled),t.inline&&(o.inline=e.inline),t.miniHelp&&(o.miniHelp=e.miniHelp),t.help&&(o.help=e.help),r._set(o)},d:function(t){s.destroy(),r.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}function Bn(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}f(Dn.prototype,K),f(Dn.prototype,Wn),f(Rn.prototype,K),Rn.prototype._recompute=function(t,e){var n,i,s;(t.inline||t.width)&&this._differs(e.controlWidth,e.controlWidth=(i=(n=e).inline,s=n.width,i?s||"auto":s))&&(t.controlWidth=!0),(t.inline||t.labelWidth)&&this._differs(e.labelWidth,e.labelWidth=function(t){var e=t.inline,n=t.labelWidth;return e?n||"auto":n}(e))&&(t.labelWidth=!0)};var Fn={edit:function(t){this.get().editId===t?(this.set({editId:!1}),this.update(t)):this.set({editId:t})},addProduct:function(){try{var t=this,e=t.get(),n=e.team,i=e.addProduct;return t.set({addingProduct:!0}),Bn(Xt("/v3/teams/".concat(n.id,"/products"),{method:"post",payload:{productId:i}}),(function(){return Bn(Xt("/v3/teams/".concat(n.id,"/products")),(function(e){t.set({products:e.list,addingProduct:!1})}))}))}catch(t){return Promise.reject(t)}},remove:function(t){try{var e=this;if(!window.confirm("Are you sure you want to remove this product?"))return;return Bn(Xt("/v3/teams/".concat(e.get().team.id,"/products/").concat(t.id),{method:"delete"}),(function(){var n=e.get().products;n=n.filter((function(e){return e.id!==t.id})),e.set({products:n})}))}catch(t){return Promise.reject(t)}},update:function(t){try{var e=this,n=e.get(),i=n.updating,s=n.products.filter((function(e){return e.id===t}))[0];return i[s.id]=!0,e.set({updating:i}),Bn(Xt("/v3/teams/".concat(e.get().team.id,"/products/").concat(s.id),{method:"put",payload:{expires:s.expires}}),(function(){(i=e.get().updating)[s.id]=!1,e.set({updating:i})}))}catch(t){return Promise.reject(t)}}};function $n(){var t=this,e=this.get();Xt("/v3/teams/".concat(e.team.id,"/products")).then((function(e){return t.set({loadingTeamProducts:!1,products:e.list})})),Xt("/v3/products").then((function(e){return t.set({loadingAllProducts:!1,allProducts:e.list})}))}function Vn(t){var e=this._svelte,n=e.component,i=e.ctx;n.remove(i.product)}function Gn(t){var e=this._svelte,n=e.component,i=e.ctx;n.edit(i.product.id)}function Jn(t){var e=this._svelte,n=e.component,i=e.ctx;n.edit(i.product.id)}function Zn(t,e,n){var i=Object.create(t);return i.product=e[n],i.each_value=e,i.i=n,i}function Xn(t,e){var n;function i(t){return t.loadingTeamProducts||t.loadingAllProducts?Qn:Kn}var s=i(e),a=s(t,e);return{c:function(){a.c(),n=M()},m:function(t,e){a.m(t,e),v(t,n,e)},p:function(e,r){s===(s=i(r))&&a?a.p(e,r):(a.d(1),(a=s(t,r)).c(),a.m(n.parentNode,n))},d:function(t){a.d(t),t&&g(n)}}}function Kn(t,e){var n,i,s=e.products.length>0&&Yn(t,e),a=e.addableProducts.length&&ri(t,e);return{c:function(){s&&s.c(),n=k("\n\n\n"),a&&a.c(),i=M()},m:function(t,e){s&&s.m(t,e),v(t,n,e),a&&a.m(t,e),v(t,i,e)},p:function(e,r){r.products.length>0?s?s.p(e,r):((s=Yn(t,r)).c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),r.addableProducts.length?a?a.p(e,r):((a=ri(t,r)).c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d:function(t){s&&s.d(t),t&&g(n),a&&a.d(t),t&&g(i)}}}function Qn(t,e){var n,i,s,a,r=tt("teams / products / loading");return{c:function(){n=N("p"),i=N("i"),s=k("   "),a=N("noscript"),i.className="fa fa-spin fa-circle-o-notch"},m:function(t,e){v(t,n,e),h(n,i),h(n,s),h(n,a),a.insertAdjacentHTML("afterend",r)},p:d,d:function(t){t&&g(n)}}}function Yn(t,e){for(var n,i=e.products,s=[],a=0;a<i.length;a+=1)s[a]=ai(t,Zn(e,i,a));var r={columnHeaders:e.productHeaders},o=new xt({root:t.root,store:t.store,slots:{default:T()},data:r});return{c:function(){for(var t=0;t<s.length;t+=1)s[t].c();n=M(),o._fragment.c()},m:function(t,e){for(var i=0;i<s.length;i+=1)s[i].m(o._slotted.default,null);h(o._slotted.default,n),o._mount(t,e)},p:function(e,a){if(e.editId||e.products||e.updating){i=a.products;for(var r=0;r<i.length;r+=1){var l=Zn(a,i,r);s[r]?s[r].p(e,l):(s[r]=ai(t,l),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}var c={};e.productHeaders&&(c.columnHeaders=a.productHeaders),o._set(c)},d:function(t){x(s,t),o.destroy(t)}}}function ti(t,e){var n,i=e.product.expires||tt("teams / products / never");return{c:function(){n=k(i)},m:function(t,e){v(t,n,e)},p:function(t,e){t.products&&i!==(i=e.product.expires||tt("teams / products / never"))&&E(n,i)},d:function(t){t&&g(n)}}}function ei(t,e){var n,i=!1;function s(){i=!0,e.each_value[e.i].expires=n.value,t.set({products:e.products}),i=!1}return{c:function(){O(n=N("input"),"input",s),C(n,"type","text")},m:function(t,i){v(t,n,i),n.value=e.product.expires},p:function(t,s){e=s,!i&&t.products&&(n.value=e.product.expires)},d:function(t){t&&g(n),H(n,"input",s)}}}function ni(t,e){var n,i,s,a,r,o,l,c,u,d=tt("teams / edit"),f=tt("teams / remove");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(d),r=k("\n\n            "),o=N("button"),l=N("i"),c=k("  "),u=k(f),i.className="fa fa-edit",n._svelte={component:t,ctx:e},O(n,"click",Gn),n.className="btn",l.className="fa fa-times",o._svelte={component:t,ctx:e},O(o,"click",Vn),o.className="btn"},m:function(t,e){v(t,n,e),h(n,i),h(n,s),h(n,a),v(t,r,e),v(t,o,e),h(o,l),h(o,c),h(o,u)},p:function(t,i){e=i,n._svelte.ctx=e,o._svelte.ctx=e},d:function(t){t&&g(n),H(n,"click",Gn),t&&(g(r),g(o)),H(o,"click",Vn)}}}function ii(t,e){var n,i,s,a,r=tt("teams / save");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(r),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(t,e){v(t,n,e),h(n,i),h(n,s),h(n,a)},p:d,d:function(t){t&&g(n)}}}function si(t,e){var n,i,s,a,r=tt("teams / save");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(r),i.className="fa fa-check",n._svelte={component:t,ctx:e},O(n,"click",Jn),n.className="btn btn-primary"},m:function(t,e){v(t,n,e),h(n,i),h(n,s),h(n,a)},p:function(t,i){e=i,n._svelte.ctx=e},d:function(t){t&&g(n),H(n,"click",Jn)}}}function ai(t,e){var n,i,s,a,r,o,l,c,u,d,f=e.product.id,p=e.product.name;function m(t){return t.editId===t.product.id?ei:ti}var b=m(e),_=b(t,e);function y(t){return t.editId===t.product.id?si:t.updating[t.product.id]?ii:ni}var w=y(e),x=w(t,e);return{c:function(){n=N("tr"),i=N("td"),s=k(f),a=k("\n        "),r=N("td"),o=k(p),l=k("\n        "),c=N("td"),_.c(),u=k("\n        "),d=N("td"),x.c()},m:function(t,e){v(t,n,e),h(n,i),h(i,s),h(n,a),h(n,r),h(r,o),h(n,l),h(n,c),_.m(c,null),h(n,u),h(n,d),x.m(d,null)},p:function(e,n){e.products&&f!==(f=n.product.id)&&E(s,f),e.products&&p!==(p=n.product.name)&&E(o,p),b===(b=m(n))&&_?_.p(e,n):(_.d(1),(_=b(t,n)).c(),_.m(c,null)),w===(w=y(n))&&x?x.p(e,n):(x.d(1),(x=w(t,n)).c(),x.m(d,null))},d:function(t){t&&g(n),_.d(),x.d()}}}function ri(t,e){var n,i,s,a={},r={label:tt("teams / products / add-product"),options:e.addableProducts};void 0!==e.addProduct&&(r.value=e.addProduct,a.value=!0);var o=new Rn({root:t.root,store:t.store,data:r,_bind:function(e,n){var i={};!a.value&&e.value&&(i.addProduct=n.value),t._set(i),a={}}});t.root._beforecreate.push((function(){o._bind({value:1},o.get())}));var l=e.addProduct&&oi(t,e);return{c:function(){n=N("div"),i=N("div"),o._fragment.c(),s=k("\n\n    "),l&&l.c(),L(i,"display","block"),L(n,"display","flex")},m:function(t,e){v(t,n,e),h(n,i),o._mount(i,null),h(n,s),l&&l.m(n,null)},p:function(i,s){e=s;var r={};i.addableProducts&&(r.options=e.addableProducts),!a.value&&i.addProduct&&(r.value=e.addProduct,a.value=void 0!==e.addProduct),o._set(r),a={},e.addProduct?l?l.p(i,e):((l=oi(t,e)).c(),l.m(n,null)):l&&(l.d(1),l=null)},d:function(t){t&&g(n),o.destroy(),l&&l.d()}}}function oi(t,e){var n,i,s,a,r,o,l=tt("teams / products / add");function c(e){t.addProduct()}return{c:function(){n=N("div"),i=N("button"),s=N("i"),r=k("\n            "),o=N("noscript"),s.className=a="fa "+(e.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"),O(i,"click",c),i.className="btn btn-primary",L(i,"margin-left","10px"),L(n,"display","block")},m:function(t,e){v(t,n,e),h(n,i),h(i,s),h(i,r),h(i,o),o.insertAdjacentHTML("afterend",l)},p:function(t,e){t.addingProduct&&a!==(a="fa "+(e.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"))&&(s.className=a)},d:function(t){t&&g(n),H(i,"click",c)}}}function li(t){var e,n,i,s,a,r,o,l=this;J(this,t),this._state=f({productHeaders:[{title:tt("teams / products / id"),width:"10%"},{title:tt("teams / products / name"),width:"30%"},{title:tt("teams / products / expires"),width:"30%"},{title:tt("teams / products / actions"),width:"30%"}],editId:!1,updating:{},loadingTeamProducts:!0,loadingAllProducts:!0},t.data),this._recompute({products:1,allProducts:1},this._state),this._intro=!0,this._fragment=(e=this,n=this._state,r=tt("teams / products / p"),o=n.isAdmin&&Xn(e,n),{c:function(){i=N("p"),s=k("\n\n"),o&&o.c(),a=M(),L(i,"margin-bottom","10px")},m:function(t,e){v(t,i,e),i.innerHTML=r,v(t,s,e),o&&o.m(t,e),v(t,a,e)},p:function(t,n){n.isAdmin?o?o.p(t,n):((o=Xn(e,n)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d:function(t){t&&(g(i),g(s)),o&&o.d(t),t&&g(a)}}),this.root._oncreate.push((function(){$n.call(l),l.fire("update",{changed:p({},l._state),current:l._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}f(li.prototype,K),f(li.prototype,Fn),li.prototype._recompute=function(t,e){var n,i,s;(t.products||t.allProducts)&&this._differs(e.addableProducts,e.addableProducts=(i=(n=e).products,(s=n.allProducts)&&i?s.filter((function(t){return!i.filter((function(e){return e.id===t.id})).length})).map((function(t){return{value:t.id,label:t.name}})):[]))&&(t.addableProducts=!0)};function ci(t){return"function"==typeof t?t():t}function ui(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}var di={},fi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,s=void 0,a=void 0,r=[];return function(){var l=ci(e),c=(new Date).getTime(),u=!i||c-i>l;i=c;for(var d=arguments.length,f=Array(d),p=0;p<d;p++)f[p]=arguments[p];if(u&&n.leading)return n.accumulate?Promise.resolve(t.call(this,[f])).then((function(t){return t[0]})):Promise.resolve(t.call.apply(t,[this].concat(f)));if(s?clearTimeout(a):s=ui(),r.push(f),a=setTimeout(o.bind(this),l),n.accumulate){var m=r.length-1;return s.promise.then((function(t){return t[m]}))}return s.promise};function o(){var e=s;clearTimeout(a),Promise.resolve(n.accumulate?t.call(this,r):t.apply(this,r[r.length-1])).then(e.resolve,e.reject),r=[],s=null}}((function(t,e,n){var i=JSON.stringify({team:t,settings:e,defaultTheme:n});return di[t.id]===i?(di[t.id]=i,new Promise((function(t,e){t()}))):(di[t.id]=i,Qt("/v3/teams/".concat(t.id),{payload:{name:t.name,defaultTheme:n,settings:e}}))}),500);function pi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pi(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var hi,vi={id:"settings",title:tt("teams / tab / settings"),icon:"fa fa-gears",group:tt("teams / group / users"),order:10,h1:tt("teams / defaults / h1"),ui:Mn,data:{}},gi={id:"members",title:tt("teams / tab / members"),icon:"im im-users",group:tt("teams / group / users"),order:20,h1:tt("teams / h1"),ui:Qe},bi=!1;var _i={onTabChange:function(t,e){var n=this,i=t.team,s=t.settings,a=t.defaultTheme;fi(i,s,a).then((function(){n.set({team:i,settings:s,defaultTheme:a}),e&&e.saved&&e.saved()}))},setTab:function(t){var e=this,n=this.get().groups,i=!1;n.forEach((function(n){n.tabs.forEach((function(n){n.id===t&&(e.refs.navTabs.activateTab(n),i=!0)}))})),i||this.set({activeTab:vi})}};function yi(){var t=this;hi=this;var e=window.location.pathname.split("/").slice(-1)[0]||"settings";this.setTab(e),window.addEventListener("popstate",(function(e){var n=e.state;bi=!0,setTimeout((function(){return bi=!1}),100),t.setTab(n.id)}))}function wi(t){var e=t.changed,n=t.current;t.previous;e.activeTab&&n.activeTab&&!bi&&window.history.pushState({id:n.activeTab.id},"","/team/".concat(n.team.id,"/").concat(n.activeTab.id))}function xi(t,e){var n,i=e.activeTab.h1;return{c:function(){(n=N("h2")).className="svelte-kailtr"},m:function(t,e){v(t,n,e),n.innerHTML=i},p:function(t,e){t.activeTab&&i!==(i=e.activeTab.h1)&&(n.innerHTML=i)},d:function(t){t&&g(n)}}}function Ti(t){var e=this;J(this,t),this.refs={},this._state=f({allTabs:[vi,gi,{id:"delete",title:tt("teams / tab / deleteTeam"),icon:"fa fa-times",group:tt("teams / group / advanced"),order:80,h1:tt("teams / delete / h1"),ui:Dn,ownerOnly:!0},{id:"products",title:tt("teams / tab / adminProducts"),icon:"fa fa-list-alt",group:tt("teams / group / internal"),order:90,h1:tt("teams / products / h1"),ui:li,adminOnly:!0}],pluginTabs:[],activeTab:null,ui:Mn,team:{name:""},settings:{},users:[],userId:null,visualizations:[],visualizationsArchive:[]},t.data),this._recompute({team:1,activeTab:1,allTabs:1,pluginTabs:1,isAdmin:1,role:1,tabs:1,users:1,userId:1,settings:1,defaultTheme:1,themes:1,folders:1,locales:1,visualizations:1,visualizationsArchive:1},this._state),this._intro=!0,this._handlers.state=[wi],wi.call(this,{changed:p({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,s,a,r,o,l,c,u,d,f,p,m,b,_,y,w,x,M,O,H,A,P,U,j,S,I,W=tt("account / my-teams"),z=tt("nav / team / charts"),q={};document.title=n=e.pageTitle+" | Datawrapper";var D=e.activeTab&&e.activeTab.h1&&xi(t,e),R={basePath:"team/"+e.team.id,groups:e.groups};void 0!==e.activeTab&&(R.activeTab=e.activeTab,q.activeTab=!0);var B=new dt({root:t.root,store:t.store,slots:{default:T(),belowMenu:T(),aboveContent:T()},data:R,_bind:function(e,n){var i={};!q.activeTab&&e.activeTab&&(i.activeTab=n.activeTab),t._set(i),q={}}});return t.root._beforecreate.push((function(){B._bind({activeTab:1},B.get())})),t.refs.navTabs=B,{c:function(){i=k("\n\n"),s=N("div"),a=N("div"),r=N("h1"),o=k(e.title),l=k("\n\n"),c=N("div"),u=N("div"),d=N("div"),D&&D.c(),f=k("\n            "),p=N("div"),m=N("hr"),b=k("\n                "),_=N("ul"),y=N("li"),w=N("a"),x=N("i"),M=k(" "),O=k(W),H=k("\n                    "),A=N("li"),P=N("a"),U=N("i"),j=k(" "),S=k(z),B._fragment.c(),r.className="title",L(r,"margin-bottom","18px"),a.className="span12 admin svelte-kailtr",s.className="row",C(d,"slot","aboveContent"),x.className="fa fa-fw fa-arrow-left",w.href="/account/teams",y.className="svelte-kailtr",U.className="fa fa-fw fa-arrow-left",P.href=I="/team/"+e.team.id,A.className="svelte-kailtr",_.className="unstyled svelte-kailtr",C(p,"slot","belowMenu"),u.className="visconfig",c.className="settings-section dw-create-visualize chart-editor chart-editor-web admin svelte-kailtr"},m:function(t,e){v(t,i,e),v(t,s,e),h(s,a),h(a,r),h(r,o),v(t,l,e),v(t,c,e),h(c,u),h(B._slotted.aboveContent,d),D&&D.m(d,null),h(B._slotted.default,f),h(B._slotted.belowMenu,p),h(p,m),h(p,b),h(p,_),h(_,y),h(y,w),h(w,x),h(w,M),h(w,O),h(_,H),h(_,A),h(A,P),h(P,U),h(P,j),h(P,S),B._mount(u,null)},p:function(i,s){e=s,i.pageTitle&&n!==(n=e.pageTitle+" | Datawrapper")&&(document.title=n),i.title&&E(o,e.title),e.activeTab&&e.activeTab.h1?D?D.p(i,e):((D=xi(t,e)).c(),D.m(d,null)):D&&(D.d(1),D=null),i.team&&I!==(I="/team/"+e.team.id)&&(P.href=I);var a={};i.team&&(a.basePath="team/"+e.team.id),i.groups&&(a.groups=e.groups),!q.activeTab&&i.activeTab&&(a.activeTab=e.activeTab,q.activeTab=void 0!==e.activeTab),B._set(a),q={}},d:function(e){e&&(g(i),g(s),g(l),g(c)),D&&D.d(),B.destroy(),t.refs.navTabs===B&&(t.refs.navTabs=null)}}}(this,this._state),this.root._oncreate.push((function(){yi.call(e),e.fire("update",{changed:p({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),V(this))}function Ni(t,e){this._handlers={},this._dependents=[],this._computed=R(),this._sortedComputedProperties=[],this._state=f({},t),this._differs=e&&e.immutable?F:B}return f(Ti.prototype,K),f(Ti.prototype,_i),Ti.prototype._recompute=function(t,e){var n,i,s;(t.team||t.activeTab)&&this._differs(e.pageTitle,e.pageTitle=(i=(n=e).team,s=n.activeTab,"".concat(s?s.h1:""," | ").concat(et(i.name,17,8))))&&(t.pageTitle=!0),t.team&&this._differs(e.title,e.title=function(t){var e=t.team;return"".concat(et(e.name,17,8)," » ").concat(tt("nav / team / settings"))}(e))&&(t.title=!0),(t.allTabs||t.team||t.pluginTabs||t.isAdmin||t.role)&&this._differs(e.tabs,e.tabs=function(t){var e=t.allTabs,n=t.team,i=t.pluginTabs,s=t.isAdmin,a=t.role;return[].concat(e,i).filter((function(t){return!(t.adminOnly&&!s)&&!(t.ownerOnly&&!s&&"owner"!==a)})).map((function(t){return mi(mi({},t),{},{h1:t.h1.replace("%team%",n.name)})}))}(e))&&(t.tabs=!0),(t.tabs||t.isAdmin||t.role||t.team||t.users||t.userId||t.settings||t.defaultTheme||t.themes||t.folders||t.locales||t.visualizations||t.visualizationsArchive)&&this._differs(e.groups,e.groups=function(t){var e=t.tabs,n=t.isAdmin,i=t.role,s=t.team,a=t.users,r=t.userId,o=t.settings,l=t.defaultTheme,c=t.themes,u=t.folders,d=t.locales,f=t.visualizations,p=t.visualizationsArchive,m=[];return e.forEach((function(t){t.data=mi({isAdmin:n,isTeamOwner:"owner"===i,team:s,users:a,userId:r,settings:o,defaultTheme:l,themes:c,folders:u,locales:d,visualizations:f,visualizationsArchive:p},t.data),t.onchange=function(t,e){hi.onTabChange(t,e)},function(t,e){var n=t.filter((function(t){return t.title===e}));return n.length?n[0]:(t.push({title:e,tabs:[]}),t[t.length-1])}(m,t.group).tabs.push(t)})),m.forEach((function(t){t.tabs.sort((function(t,e){return t.order-e.order}))})),m}(e))&&(t.groups=!0)},f(Ni.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var i=t[n];e["$"+i]=this._state[i]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var n=this,i=this._state;this._state=f(f({},i),t);for(var s=0;s<this._sortedComputedProperties.length;s+=1)this._sortedComputedProperties[s].update(this._state,e);this.fire("state",{changed:e,previous:i,current:this._state}),this._dependents.filter((function(t){for(var i={},s=!1,a=0;a<t.props.length;a+=1){var r=t.props[a];r in e&&(i["$"+r]=n._state[r],s=!0)}if(s)return t.component._stage(i),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:i,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],i=R();function s(a){var r=e[a];r&&(r.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(a));s(e)})),i[a]||(i[a]=!0,n.push(r)))}for(var a in this._computed)s(t=a)},compute:function(t,e,n){var i,s=this,a={deps:e,update:function(a,r,o){var l=e.map((function(t){return t in r&&(o=!0),a[t]}));if(o){var c=n.apply(null,l);s._differs(c,i)&&(i=c,r[t]=!0,a[t]=i)}}};this._computed[t]=a,this._sortComputedProperties();var r=f({},this._state),o={};a.update(r,o,!0),this._set(r,o)},fire:$,get:G,on:Z,set:function(t){var e=this._state,n=this._changed={},i=!1;for(var s in t){if(this._computed[s])throw new Error("'".concat(s,"' is a read-only computed property"));this._differs(t[s],e[s])&&(n[s]=i=!0)}i&&this._set(t,n)}}),{App:Ti,store:new Ni({})}}));
