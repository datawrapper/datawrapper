!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/team-settings",t):(e=e||self)["team-settings"]=t()}(this,(function(){"use strict";var e=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var n=t((function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t}));var i=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i};var a=function(e){if(Array.isArray(e))return i(e)};var s=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)};var r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}};var o=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var l=function(e){return a(e)||s(e)||r(e)||o()};function c(){}function u(e,t){for(var n in t)e[n]=t[n];return e}function d(e,t){for(var n in t)e[n]=1;return e}function f(e){e()}function m(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n)}function h(e){e.parentNode.removeChild(e)}function v(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function g(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function b(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function _(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}function y(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(){return document.createDocumentFragment()}function T(e){return document.createElement(e)}function N(e){return document.createTextNode(e)}function k(){return document.createComment("")}function x(e,t,n,i){e.addEventListener(t,n,i)}function H(e,t,n,i){e.removeEventListener(t,n,i)}function M(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function O(e,t){e.data=""+t}function C(e,t,n){e.style.setProperty(t,n)}function A(e,t){for(var n=0;n<e.options.length;n+=1){var i=e.options[n];if(i.__value===t)return void(i.selected=!0)}}function L(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function U(e,t,n){e.classList[n?"add":"remove"](t)}function P(e){return e}function j(e,t,n,i,a){var s,r,o,l=n.call(e,t,i),u=!1;return{t:a?0:1,running:!1,program:null,pending:null,run:function(e,t){var n=this;"function"==typeof l?I.wait().then((function(){l=l(),n._run(e,t)})):this._run(e,t)},_run:function(e,n){s=l.duration||300,r=l.easing||P;var i={start:window.performance.now()+(l.delay||0),b:e,callback:n||c};a&&!u&&(l.css&&l.delay&&(o=t.style.cssText,t.style.cssText+=l.css(0,1)),l.tick&&l.tick(0,1),u=!0),e||(i.group=E.current,E.current.remaining+=1),l.delay?this.pending=i:this.start(i),this.running||(this.running=!0,I.add(this))},start:function(n){if(e.fire("".concat(n.b?"intro":"outro",".start"),{node:t}),n.a=this.t,n.delta=n.b-n.a,n.duration=s*Math.abs(n.b-n.a),n.end=n.start+n.duration,l.css){l.delay&&(t.style.cssText=o);var i=function(e,t,n){for(var i=e.a,a=e.b,s=e.delta,r=16.666/e.duration,o="{\n",l=0;l<=1;l+=r){var c=i+s*t(l);o+=100*l+"%{".concat(n(c,1-c),"}\n")}return o+"100% {".concat(n(a,1-a),"}\n}")}(n,r,l.css);I.addRule(i,n.name="__svelte_"+function(e){for(var t=5381,n=e.length;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(i)),t.style.animation=(t.style.animation||"").split(", ").filter((function(e){return e&&(n.delta<0||!/__svelte/.test(e))})).concat("".concat(n.name," ").concat(n.duration,"ms linear 1 forwards")).join(", ")}this.program=n,this.pending=null},update:function(e){var t=this.program;if(t){var n=e-t.start;this.t=t.a+t.delta*r(n/t.duration),l.tick&&l.tick(this.t,1-this.t)}},done:function(){var n=this.program;this.t=n.b,l.tick&&l.tick(this.t,1-this.t),e.fire("".concat(n.b?"intro":"outro",".end"),{node:t}),n.b||n.invalidated?l.css&&I.deleteRule(t,n.name):(n.group.callbacks.push((function(){n.callback(),l.css&&I.deleteRule(t,n.name)})),0==--n.group.remaining&&n.group.callbacks.forEach(f)),this.running=!!this.pending},abort:function(e){this.program&&(e&&l.tick&&l.tick(1,0),l.css&&I.deleteRule(t,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate:function(){this.program&&(this.program.invalidated=!0)}}}var E={};function S(){E.current={remaining:0,callbacks:[]}}var I={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add:function(e){this.transitions.push(e),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(e,t){if(!this.stylesheet){var n=T("style");document.head.appendChild(n),I.stylesheet=n.sheet}this.activeRules[t]||(this.activeRules[t]=!0,this.stylesheet.insertRule("@keyframes ".concat(t," ").concat(e),this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var e=window.performance.now(),t=this.transitions.length;t--;){var n=this.transitions[t];n.program&&e>=n.program.end&&n.done(),n.pending&&e>=n.pending.start&&n.start(n.pending),n.running?(n.update(e),this.running=!0):n.pending||this.transitions.splice(t,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(var i=this.stylesheet.cssRules.length;i--;)this.stylesheet.deleteRule(i);this.activeRules={}}},deleteRule:function(e,t){e.style.animation=e.style.animation.split(", ").filter((function(e){return e&&-1===e.indexOf(t)})).join(", ")},wait:function(){return I.promise||(I.promise=Promise.resolve(),I.promise.then((function(){I.promise=null}))),I.promise}};function D(t,n){var i,a=n.token={};function s(t,i,s,r){if(n.token===a){n.resolved=s&&e({},s,r);var o=u(u({},n.ctx),n.resolved),l=t&&(n.current=t)(n.component,o);n.block&&(n.blocks?n.blocks.forEach((function(e,t){t!==i&&e&&(S(),e.o((function(){e.d(1),n.blocks[t]=null})))})):n.block.d(1),l.c(),l[l.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=l,n.blocks&&(n.blocks[i]=l)}}if((i=t)&&"function"==typeof i.then){if(t.then((function(e){s(n.then,1,n.value,e)}),(function(e){s(n.catch,2,n.error,e)})),n.current!==n.pending)return s(n.pending,0),!0}else{if(n.current!==n.then)return s(n.then,1,n.value,t),!0;n.resolved=e({},n.value,t)}}function q(){return Object.create(null)}function R(e,t){return e!=e?t==t:e!==t||e&&"object"===n(e)||"function"==typeof e}function W(e,t){return e!=e?t==t:e!==t}function z(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var a=n[i];if(!a.__calling)try{a.__calling=!0,a.call(this,t)}finally{a.__calling=!1}}}function B(e){e._lock=!0,G(e._beforecreate),G(e._oncreate),G(e._aftercreate),e._lock=!1}function F(){return this._state}function $(e,t){e._handlers=q(),e._slots=q(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function V(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function G(e){for(;e&&e.length;)e.shift()()}var J={destroy:function(e){this.destroy=c,this.fire("destroy"),this.set=c,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:F,fire:z,on:V,set:function(e){this._set(u({},e)),this.root._lock||B(this.root)},_recompute:c,_set:function(e){var t=this._state,n={},i=!1;for(var a in e=u(this._staged,e),this._staged={},e)this._differs(e[a],t[a])&&(n[a]=i=!0);i&&(this._state=u(u({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))},_stage:function(e){u(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:R},Z={};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Z[e]=window.__dw.vis.meta.locale||{}):Z[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function X(e){var t=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(e=e.trim(),Z[n]||K(n),!Z[n][e])return"MISSING:"+e;var i=Z[n][e];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(e,n){return n=2+Number(n),void 0===t[n]?e:t[n]}))),i}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"!=typeof e||e.length<t+n+3?e:e.substr(0,t).trim()+"…"+e.substr(e.length-n).trim()}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,i){var a=document.createElement("script");a.src=e,a.onload=function(){t&&t(),n()},a.onerror=i,document.body.appendChild(a)}))}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,i){var a=document.createElement("link");a.rel="stylesheet",a.href=e,a.onload=function(){t&&t(),n()},a.onerror=i,document.head.appendChild(a)}))}var te={activateTab:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.module)return n&&n.preventDefault(),void Promise.all([ee(e.css),Y(e.js||e.src)]).then((function(){require([e.module],(function(n){e.ui=n.App,e.module=null;var i=t.get().groups;t.set({groups:i,activeTab:e})}))}));e.ui&&(n&&n.preventDefault(),this.set({activeTab:e}))},onTabChange:function(e,t){e.onchange&&e.onchange(t,this.refs.currentTabUi)}};function ne(e){var t=this._svelte,n=t.component,i=t.ctx;n.activateTab(i.tab,e)}function ie(e,t,n){var i=Object.create(e);return i.tab=t[n],i}function ae(e,t,n){var i=Object.create(e);return i.group=t[n],i}function se(e,t){var n,i,a,s,r,o,l,c=t.tab.title;return{c:function(){n=T("li"),i=T("a"),a=T("i"),r=N("   "),o=N(c),a.className=s=t.tab.icon+" svelte-5we305",i._svelte={component:e,ctx:t},x(i,"click",ne),i.href=l=t.tab.url||"/".concat(t.basePath,"/").concat(t.tab.id),i.className="svelte-5we305",n.className="svelte-5we305",U(n,"active",t.activeTab&&t.activeTab.id===t.tab.id)},m:function(e,t){p(e,n,t),m(n,i),m(i,a),m(i,r),m(i,o)},p:function(e,r){t=r,e.groups&&s!==(s=t.tab.icon+" svelte-5we305")&&(a.className=s),e.groups&&c!==(c=t.tab.title)&&O(o,c),i._svelte.ctx=t,(e.groups||e.basePath)&&l!==(l=t.tab.url||"/".concat(t.basePath,"/").concat(t.tab.id))&&(i.href=l),(e.activeTab||e.groups)&&U(n,"active",t.activeTab&&t.activeTab.id===t.tab.id)},d:function(e){e&&h(n),H(i,"click",ne)}}}function re(e,t){for(var n,i,a,s,r=t.group.title,o=t.group.tabs,l=[],c=0;c<o.length;c+=1)l[c]=se(e,ie(t,o,c));return{c:function(){n=T("div"),i=N(r),a=N("\n\n        "),s=T("ul");for(var e=0;e<l.length;e+=1)l[e].c();n.className="group svelte-5we305",s.className="nav nav-stacked nav-tabs"},m:function(e,t){p(e,n,t),m(n,i),p(e,a,t),p(e,s,t);for(var r=0;r<l.length;r+=1)l[r].m(s,null)},p:function(t,n){if(t.groups&&r!==(r=n.group.title)&&O(i,r),t.activeTab||t.groups||t.basePath){o=n.group.tabs;for(var a=0;a<o.length;a+=1){var c=ie(n,o,a);l[a]?l[a].p(t,c):(l[a]=se(e,c),l[a].c(),l[a].m(s,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=o.length}},d:function(e){e&&(h(n),h(a),h(s)),y(l,e)}}}function oe(e,t){var n,i,a,s,r,o,l=e._slotted.aboveContent,c=e._slotted.belowContent,d=[t.activeTab.data],f=t.activeTab.ui;function v(t){for(var n={},i=0;i<d.length;i+=1)n=u(n,d[i]);return{root:e.root,store:e.store,data:n}}if(f)var g=new f(v());function b(n){e.onTabChange(t.activeTab,n)}return g&&g.on("change",b),{c:function(){n=T("div"),a=N("\n        "),g&&g._fragment.c(),s=N("\n        "),n.className=o="span10 account-page-content tab-"+t.activeTab.id+" svelte-5we305"},m:function(t,o){p(t,n,o),l&&(m(n,l),m(n,i||(i=k()))),m(n,a),g&&(g._mount(n,null),e.refs.currentTabUi=g),m(n,s),c&&(m(n,r||(r=k())),m(n,c))},p:function(i,a){t=a;var r=i.activeTab?function(e,t){for(var n={},i={},a={},s=e.length;s--;){var r=e[s],o=t[s];if(o){for(var l in r)l in o||(i[l]=1);for(var l in o)a[l]||(n[l]=o[l],a[l]=1);e[s]=o}else for(var l in r)a[l]=1}for(var l in i)l in n||(n[l]=void 0);return n}(d,[t.activeTab.data]):{};f!==(f=t.activeTab.ui)?(g&&g.destroy(),f?((g=new f(v()))._fragment.c(),g._mount(n,s),g.on("change",b),e.refs.currentTabUi=g):(g=null,e.refs.currentTabUi===g&&(e.refs.currentTabUi=null))):f&&g._set(r),i.activeTab&&o!==(o="span10 account-page-content tab-"+t.activeTab.id+" svelte-5we305")&&(n.className=o)},d:function(e){e&&h(n),l&&function(e,t){for(var n=e.parentNode;n.firstChild!==e;)t.appendChild(n.firstChild)}(i,l),g&&g.destroy(),c&&_(r,c)}}}function le(e){$(this,e),this.refs={},this._state=u({groups:[],basePath:"",activeTab:null},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){for(var n,i,a,s,r,o=e._slotted.belowMenu,l=t.groups,c=[],u=0;u<l.length;u+=1)c[u]=re(e,ae(t,l,u));var d=t.activeTab&&oe(e,t);return{c:function(){n=T("div"),i=T("div");for(var e=0;e<c.length;e+=1)c[e].c();a=N("\n        "),r=N("\n    "),d&&d.c(),i.className="span2 svelte-5we305",n.className="row"},m:function(e,t){p(e,n,t),m(n,i);for(var l=0;l<c.length;l+=1)c[l].m(i,null);m(i,a),o&&(m(i,s||(s=k())),m(i,o)),m(n,r),d&&d.m(n,null)},p:function(t,s){if(t.groups||t.activeTab||t.basePath){l=s.groups;for(var r=0;r<l.length;r+=1){var o=ae(s,l,r);c[r]?c[r].p(t,o):(c[r]=re(e,o),c[r].c(),c[r].m(i,a))}for(;r<c.length;r+=1)c[r].d(1);c.length=l.length}s.activeTab?d?d.p(t,s):((d=oe(e,s)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(e){e&&h(n),y(c,e),o&&_(s,o),d&&d.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}u(le.prototype,J),u(le.prototype,te);var ce={true:"ASC",false:"DESC"},ue=ce.true;var de={sort:function(e,t){e.preventDefault();var n,i=(n=this.get(),t===n.orderBy?ce[n.order!==ue]:ue);this.set({orderBy:t,order:i}),this.fire("sort",{orderBy:t,order:i})}};function fe(e){var t=this._svelte,n=t.component,i=t.ctx;n.sort(e,i.item.orderBy)}function me(e,t,n){var i=Object.create(e);return i.item=t[n],i}function pe(e,t,n){var i=Object.create(e);return i.item=t[n],i}function he(e,t){var n;return{c:function(){C(n=T("col"),"width",t.item.width)},m:function(e,t){p(e,n,t)},p:function(e,t){e.columnHeaders&&C(n,"width",t.item.width)},d:function(e){e&&h(n)}}}function ve(e,t){var n,i,a=t.item.title;return{c:function(){n=T("span"),i=N(a),n.className="col"},m:function(e,t){p(e,n,t),m(n,i)},p:function(e,t){e.columnHeaders&&a!==(a=t.item.title)&&O(i,a)},d:function(e){e&&h(n)}}}function ge(e,t){var n,i,a,s,r=t.item.title;return{c:function(){n=T("a"),i=N(r),n._svelte={component:e,ctx:t},x(n,"click",fe),n.className=a="sortable "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+" svelte-l1s1ms",n.href=s="?orderBy=".concat(t.item.orderBy)},m:function(e,t){p(e,n,t),m(n,i)},p:function(e,o){t=o,e.columnHeaders&&r!==(r=t.item.title)&&O(i,r),n._svelte.ctx=t,(e.isActive||e.columnHeaders||e.isAscending)&&a!==(a="sortable "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+" svelte-l1s1ms")&&(n.className=a),e.columnHeaders&&s!==(s="?orderBy=".concat(t.item.orderBy))&&(n.href=s)},d:function(e){e&&h(n),H(n,"click",fe)}}}function be(e,t){var n,i;function a(e){return e.item.orderBy?ge:ve}var s=a(t),r=s(e,t);return{c:function(){n=T("th"),r.c(),n.className=i=(t.item.className?t.item.className:"")+" svelte-l1s1ms"},m:function(e,t){p(e,n,t),r.m(n,null)},p:function(t,o){s===(s=a(o))&&r?r.p(t,o):(r.d(1),(r=s(e,o)).c(),r.m(n,null)),t.columnHeaders&&i!==(i=(o.item.className?o.item.className:"")+" svelte-l1s1ms")&&(n.className=i)},d:function(e){e&&h(n),r.d()}}}function _e(e){$(this,e),this._state=u({order:ue,orderBy:""},e.data),this._recompute({orderBy:1,order:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){for(var n,i,a,s,r,o,l,c,u=e._slotted.default,d=t.columnHeaders,f=[],v=0;v<d.length;v+=1)f[v]=he(e,pe(t,d,v));var g=t.columnHeaders,_=[];for(v=0;v<g.length;v+=1)_[v]=be(e,me(t,g,v));return{c:function(){n=T("div"),i=T("table"),a=T("colgroup");for(var e=0;e<f.length;e+=1)f[e].c();s=N("\n\n        "),r=T("thead"),o=T("tr");for(e=0;e<_.length;e+=1)_[e].c();l=N("\n\n        "),c=T("tbody"),i.className="table svelte-l1s1ms",n.className="table-container svelte-l1s1ms"},m:function(e,t){p(e,n,t),m(n,i),m(i,a);for(var d=0;d<f.length;d+=1)f[d].m(a,null);m(i,s),m(i,r),m(r,o);for(d=0;d<_.length;d+=1)_[d].m(o,null);m(i,l),m(i,c),u&&m(c,u)},p:function(t,n){if(t.columnHeaders){d=n.columnHeaders;for(var i=0;i<d.length;i+=1){var s=pe(n,d,i);f[i]?f[i].p(t,s):(f[i]=he(e,s),f[i].c(),f[i].m(a,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=d.length}if(t.columnHeaders||t.isActive||t.isAscending){g=n.columnHeaders;for(i=0;i<g.length;i+=1){var r=me(n,g,i);_[i]?_[i].p(t,r):(_[i]=be(e,r),_[i].c(),_[i].m(o,null))}for(;i<_.length;i+=1)_[i].d(1);_.length=g.length}},d:function(e){e&&h(n),y(f,e),y(_,e),u&&b(c,u)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function ye(e,t,n){var i=Object.create(e);return i.opt=t[n],i}function we(e,t,n){var i=Object.create(e);return i.optgroup=t[n],i}function Te(e,t,n){var i=Object.create(e);return i.opt=t[n],i}function Ne(e,t){for(var n,i=t.options,a=[],s=0;s<i.length;s+=1)a[s]=ke(e,Te(t,i,s));return{c:function(){for(var e=0;e<a.length;e+=1)a[e].c();n=k()},m:function(e,t){for(var i=0;i<a.length;i+=1)a[i].m(e,t);p(e,n,t)},p:function(t,s){if(t.options||t.value){i=s.options;for(var r=0;r<i.length;r+=1){var o=Te(s,i,r);a[r]?a[r].p(t,o):(a[r]=ke(e,o),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d:function(e){y(a,e),e&&h(n)}}}function ke(e,t){var n,i,a,s,r=t.opt.label;return{c:function(){n=T("option"),i=N(r),n.__value=a=t.opt.value,n.value=n.__value,n.selected=s=t.opt.value===t.value},m:function(e,t){p(e,n,t),m(n,i)},p:function(e,t){e.options&&r!==(r=t.opt.label)&&O(i,r),e.options&&a!==(a=t.opt.value)&&(n.__value=a),n.value=n.__value,(e.options||e.value)&&s!==(s=t.opt.value===t.value)&&(n.selected=s)},d:function(e){e&&h(n)}}}function xe(e,t){for(var n,i=t.optgroups,a=[],s=0;s<i.length;s+=1)a[s]=Me(e,we(t,i,s));return{c:function(){for(var e=0;e<a.length;e+=1)a[e].c();n=k()},m:function(e,t){for(var i=0;i<a.length;i+=1)a[i].m(e,t);p(e,n,t)},p:function(t,s){if(t.optgroups||t.value){i=s.optgroups;for(var r=0;r<i.length;r+=1){var o=we(s,i,r);a[r]?a[r].p(t,o):(a[r]=Me(e,o),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d:function(e){y(a,e),e&&h(n)}}}function He(e,t){var n,i,a,s,r=t.opt.label;return{c:function(){n=T("option"),i=N(r),n.__value=a=t.opt.value,n.value=n.__value,n.selected=s=t.opt.value===t.value},m:function(e,t){p(e,n,t),m(n,i)},p:function(e,t){e.optgroups&&r!==(r=t.opt.label)&&O(i,r),e.optgroups&&a!==(a=t.opt.value)&&(n.__value=a),n.value=n.__value,(e.optgroups||e.value)&&s!==(s=t.opt.value===t.value)&&(n.selected=s)},d:function(e){e&&h(n)}}}function Me(e,t){for(var n,i,a=t.optgroup.options,s=[],r=0;r<a.length;r+=1)s[r]=He(0,ye(t,a,r));return{c:function(){n=T("optgroup");for(var e=0;e<s.length;e+=1)s[e].c();M(n,"label",i=t.optgroup.label)},m:function(e,t){p(e,n,t);for(var i=0;i<s.length;i+=1)s[i].m(n,null)},p:function(e,t){if(e.optgroups||e.value){a=t.optgroup.options;for(var r=0;r<a.length;r+=1){var o=ye(t,a,r);s[r]?s[r].p(e,o):(s[r]=He(0,o),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}e.optgroups&&i!==(i=t.optgroup.label)&&M(n,"label",i)},d:function(e){e&&h(n),y(s,e)}}}function Oe(e){$(this,e),this._state=u({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[],value:null,class:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,a,s=!1,r=t.options.length&&Ne(e,t),o=t.optgroups.length&&xe(e,t);function l(){s=!0,e.set({value:L(n)}),s=!1}function c(t){e.fire("change",t)}return{c:function(){n=T("select"),r&&r.c(),i=k(),o&&o.c(),x(n,"change",l),"value"in t||e.root._beforecreate.push(l),x(n,"change",c),n.className=a="select-css "+t.class+" svelte-v0oq4b",n.disabled=t.disabled,C(n,"width",t.width)},m:function(e,a){p(e,n,a),r&&r.m(n,null),m(n,i),o&&o.m(n,null),A(n,t.value)},p:function(t,l){l.options.length?r?r.p(t,l):((r=Ne(e,l)).c(),r.m(n,i)):r&&(r.d(1),r=null),l.optgroups.length?o?o.p(t,l):((o=xe(e,l)).c(),o.m(n,null)):o&&(o.d(1),o=null),!s&&t.value&&A(n,l.value),t.class&&a!==(a="select-css "+l.class+" svelte-v0oq4b")&&(n.className=a),t.disabled&&(n.disabled=l.disabled),t.width&&C(n,"width",l.width)},d:function(e){e&&h(n),r&&r.d(),o&&o.d(),H(n,"change",l),H(n,"change",c)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}u(_e.prototype,J),u(_e.prototype,de),_e.prototype._recompute=function(e,t){var n;e.orderBy&&this._differs(t.isActive,t.isActive=(n=t.orderBy,function(e){return n===e.orderBy}))&&(e.isActive=!0),e.order&&this._differs(t.isAscending,t.isAscending=t.order===ue)&&(e.isAscending=!0)},u(Oe.prototype,J);var Ce=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ae=t((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,i)}e.exports=t}));var Le=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)};var Ue=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var Pe=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?Ue(e):t},je=t((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t}));var Ee=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")};var Se=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}},Ie=t((function(e){function t(n,i,a){return Se()?e.exports=t=Reflect.construct:e.exports=t=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Ae(a,n.prototype),a},t.apply(null,arguments)}e.exports=t})),De=t((function(e){function t(n){var i="function"==typeof Map?new Map:void 0;return e.exports=t=function(e){if(null===e||!Ee(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return Ie(e,arguments,je(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Ae(t,e)},t(n)}e.exports=t}));var qe=function(e,t){if(null==e)return{};var n,i,a={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(a[n]=e[n]);return a};var Re=function(e,t){if(null==e)return{};var n,i,a=qe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},We=t((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function a(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},a.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=t+"="+n+o}}function r(e,n){if("undefined"!=typeof document){for(var a={},s=document.cookie?document.cookie.split("; "):[],r=0;r<s.length;r++){var o=s[r].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(o[0]);if(l=(i.read||i)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(a[c]=l,e===c)break}catch(e){}}return e?a[e]:a}}return a.set=s,a.get=function(e){return r(e,!1)},a.getJSON=function(e){return r(e,!0)},a.remove=function(t,n){s(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))},e.exports=n()}));function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=je(e);if(t){var a=je(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Pe(this,n)}}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fe(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Be(Object(i),!0).forEach((function(n){e(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Be(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var $e=new Set(["get","head","options","trace"]);function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,i=Fe(Fe({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},t),{},{headers:Fe({"Content-Type":"application/json"},t.headers)}),a=i.payload,s=i.baseUrl,r=i.fetch,o=i.raw,l=Re(i,["payload","baseUrl","fetch","raw"]),c="".concat(s.replace(/\/$/,""),"/").concat(e.replace(/^\//,""));if(a&&(l.body=JSON.stringify(a)),$e.has(l.method.toLowerCase()))n=r(c,l);else{var u=We.get("crumb");u?(l.headers["X-CSRF-Token"]=u,n=r(c,l)):n=Ve("/v3/me",{fetch:r,baseUrl:s}).then((function(){var e=We.get("crumb");e&&(l.headers["X-CSRF-Token"]=e)})).catch((function(){})).then((function(){return r(c,l)}))}return n.then((function(e){if(o)return e;if(!e.ok)throw new Xe(e);if(204===e.status||!e.headers.get("content-type"))return e;var t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()}))}var Ge=Ve.get=Ke("GET"),Je=Ve.patch=Ke("PATCH"),Ze=(Ve.put=Ke("PUT"),Ve.post=Ke("POST"));Ve.head=Ke("HEAD");function Ke(e){return function(t,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(e.toLowerCase(),"()"));return Ve(t,Fe(Fe({},n),{},{method:e}))}}Ve.delete=Ke("DELETE");var Xe=function(e){Le(n,e);var t=ze(n);function n(e){var i;return Ce(this,n),(i=t.call(this)).name="HttpReqError",i.status=e.status,i.statusText=e.statusText,i.message="[".concat(e.status,"] ").concat(e.statusText),i.response=e,i}return n}(De(Error));function Qe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var Ye=[{value:"owner",label:X("teams / role / owner").replace("&shy;","")},{value:"admin",label:X("teams / role / admin").replace("&shy;","")},{value:"member",label:X("teams / role / member").replace("&shy;","")}];function et(e){return{member:X("teams / role / member"),admin:X("teams / role / admin"),owner:X("teams / role / owner")}[e]}var tt={toggleEdit:function(e){this.get().editId===e?(this.set({editId:!1}),this.updateRole(e)):this.set({editId:e})},removeUser:function(e){try{var t=this;if(!window.confirm(X("teams / remove / alert")))return;return Qe(Ve.delete("/v3/teams/".concat(t.get().team.id,"/members/").concat(e.id)),(function(){var n=t.get().users;n=n.filter((function(t){return t.id!==e.id})),t.set({users:n})}))}catch(e){return Promise.reject(e)}},updateRole:function(e){try{var t=this,n=t.get(),i=n.updating,a=n.users.filter((function(t){return t.id===e}))[0];return i[a.id]=!0,t.set({updating:i}),Qe(Ve.put("/v3/teams/".concat(t.get().team.id,"/members/").concat(a.id,"/status"),{payload:{status:a.role}}),(function(){(i=t.get().updating)[a.id]=!1,t.set({updating:i})}))}catch(e){return Promise.reject(e)}}};function nt(e){var t=this._svelte,n=t.component,i=t.ctx;n.removeUser(i.user)}function it(e){var t=this._svelte,n=t.component,i=t.ctx;n.toggleEdit(i.user.id)}function at(e){var t=this._svelte,n=t.component,i=t.ctx;n.toggleEdit(i.user.id)}function st(e,t,n){var i=Object.create(e);return i.user=t[n],i.each_value=t,i.i=n,i}function rt(e,t){var n,i=X("teams / total").replace("%i%",t.numUsers);return{c:function(){n=N(i)},m:function(e,t){p(e,n,t)},p:function(e,t){e.numUsers&&i!==(i=X("teams / total").replace("%i%",t.numUsers))&&O(n,i)},d:function(e){e&&h(n)}}}function ot(e,t){var n,i=X("teams / total / 1");return{c:function(){n=N(i)},m:function(e,t){p(e,n,t)},p:c,d:function(e){e&&h(n)}}}function lt(e,t){for(var n,i=t.sortedUsers,a=[],s=0;s<i.length;s+=1)a[s]=gt(e,st(t,i,s));var r={columnHeaders:t.userHeaders},o=new _e({root:e.root,store:e.store,slots:{default:w()},data:r});return{c:function(){for(var e=0;e<a.length;e+=1)a[e].c();n=k(),o._fragment.c()},m:function(e,t){for(var i=0;i<a.length;i+=1)a[i].m(o._slotted.default,null);m(o._slotted.default,n),o._mount(e,t)},p:function(t,s){if(t.isAdmin||t.isTeamOwner||t.sortedUsers||t.editId||t.updating||t.roles){i=s.sortedUsers;for(var r=0;r<i.length;r+=1){var l=st(s,i,r);a[r]?a[r].p(t,l):(a[r]=gt(e,l),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}var c={};t.userHeaders&&(c.columnHeaders=s.userHeaders),o._set(c)},d:function(e){y(a,e),o.destroy(e)}}}function ct(e,t){var n,i,a,s,r=t.user.id;return{c:function(){n=T("td"),i=T("a"),a=N(r),i.href=s="/admin/users/"+t.user.id},m:function(e,t){p(e,n,t),m(n,i),m(i,a)},p:function(e,t){e.sortedUsers&&r!==(r=t.user.id)&&O(a,r),e.sortedUsers&&s!==(s="/admin/users/"+t.user.id)&&(i.href=s)},d:function(e){e&&h(n)}}}function ut(e,t){var n,i,a,s,r=et(t.user.role),o=t.user.token&&ft();return{c:function(){n=T("noscript"),i=T("noscript"),a=N(" "),o&&o.c(),s=k()},m:function(e,t){p(e,n,t),n.insertAdjacentHTML("afterend",r),p(e,i,t),p(e,a,t),o&&o.m(e,t),p(e,s,t)},p:function(e,t){e.sortedUsers&&r!==(r=et(t.user.role))&&(v(n,i),n.insertAdjacentHTML("afterend",r)),t.user.token?o||((o=ft()).c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d:function(e){e&&(v(n,i),h(n),h(i),h(a)),o&&o.d(e),e&&h(s)}}}function dt(e,t){var n,i,a,s={},r=X("teams / role / p"),o={width:"200px",options:t.roles};void 0!==t.user.role&&(o.value=t.user.role,s.value=!0);var l=new Oe({root:e.root,store:e.store,data:o,_bind:function(n,i){var a={};!s.value&&n.value&&(t.user.role=i.value,a.sortedUsers=t.sortedUsers),e._set(a),s={}}});return e.root._beforecreate.push((function(){l._bind({value:1},l.get())})),{c:function(){l._fragment.c(),n=N("\n            "),i=T("p"),a=N(r),i.className="mini-help"},m:function(e,t){l._mount(e,t),p(e,n,t),p(e,i,t),m(i,a)},p:function(e,n){t=n;var i={};e.roles&&(i.options=t.roles),!s.value&&e.sortedUsers&&(i.value=t.user.role,s.value=void 0!==t.user.role),l._set(i),s={}},d:function(e){l.destroy(e),e&&(h(n),h(i))}}}function ft(e,t){var n,i,a=X("teams / invite-pending");return{c:function(){n=T("i"),i=N(a)},m:function(e,t){p(e,n,t),m(n,i)},d:function(e){e&&h(n)}}}function mt(e,t){var n;function i(e){return e.editId===e.user.id?vt:e.updating[e.user.id]?ht:pt}var a=i(t),s=a(e,t);return{c:function(){s.c(),n=k()},m:function(e,t){s.m(e,t),p(e,n,t)},p:function(t,r){a===(a=i(r))&&s?s.p(t,r):(s.d(1),(s=a(e,r)).c(),s.m(n.parentNode,n))},d:function(e){s.d(e),e&&h(n)}}}function pt(e,t){var n,i,a,s,r,o,l,c,u,d=X("teams / edit"),f=X("teams / remove");return{c:function(){n=T("button"),i=T("i"),a=N("  "),s=N(d),r=N("\n\n            "),o=T("button"),l=T("i"),c=N("  "),u=N(f),i.className="fa fa-edit",n._svelte={component:e,ctx:t},x(n,"click",it),n.className="btn",l.className="fa fa-times",o._svelte={component:e,ctx:t},x(o,"click",nt),o.className="btn"},m:function(e,t){p(e,n,t),m(n,i),m(n,a),m(n,s),p(e,r,t),p(e,o,t),m(o,l),m(o,c),m(o,u)},p:function(e,i){t=i,n._svelte.ctx=t,o._svelte.ctx=t},d:function(e){e&&h(n),H(n,"click",it),e&&(h(r),h(o)),H(o,"click",nt)}}}function ht(e,t){var n,i,a,s,r=X("teams / save");return{c:function(){n=T("button"),i=T("i"),a=N("  "),s=N(r),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(e,t){p(e,n,t),m(n,i),m(n,a),m(n,s)},p:c,d:function(e){e&&h(n)}}}function vt(e,t){var n,i,a,s,r=X("teams / save");return{c:function(){n=T("button"),i=T("i"),a=N("  "),s=N(r),i.className="fa fa-check",n._svelte={component:e,ctx:t},x(n,"click",at),n.className="btn btn-primary"},m:function(e,t){p(e,n,t),m(n,i),m(n,a),m(n,s)},p:function(e,i){t=i,n._svelte.ctx=t},d:function(e){e&&h(n),H(n,"click",at)}}}function gt(e,t){var n,i,a,s,r,o,l,c,u,d,f,v,g=t.user.email,b=t.user.charts,_=t.isAdmin&&ct(0,t);function y(e){return e.editId===e.user.id?dt:ut}var w=y(t),k=w(e,t),x=(t.isAdmin||t.isTeamOwner||!t.isTeamOwner&&"owner"!=t.user.role)&&mt(e,t);return{c:function(){n=T("tr"),i=T("td"),a=N(g),s=N("\n        "),_&&_.c(),r=N("\n        "),o=T("td"),l=N(b),c=N("\n        "),u=T("td"),k.c(),d=N("\n        "),f=T("td"),x&&x.c(),v=N("\n    ")},m:function(e,t){p(e,n,t),m(n,i),m(i,a),m(n,s),_&&_.m(n,null),m(n,r),m(n,o),m(o,l),m(n,c),m(n,u),k.m(u,null),m(n,d),m(n,f),x&&x.m(f,null),m(n,v)},p:function(t,i){t.sortedUsers&&g!==(g=i.user.email)&&O(a,g),i.isAdmin?_?_.p(t,i):((_=ct(0,i)).c(),_.m(n,r)):_&&(_.d(1),_=null),t.sortedUsers&&b!==(b=i.user.charts)&&O(l,b),w===(w=y(i))&&k?k.p(t,i):(k.d(1),(k=w(e,i)).c(),k.m(u,null)),i.isAdmin||i.isTeamOwner||!i.isTeamOwner&&"owner"!=i.user.role?x?x.p(t,i):((x=mt(e,i)).c(),x.m(f,null)):x&&(x.d(1),x=null)},d:function(e){e&&h(n),_&&_.d(),k.d(),x&&x.d()}}}function bt(e){$(this,e),this._state=u({editId:!1,updating:{},users:[]},e.data),this._recompute({isAdmin:1,isTeamOwner:1,users:1,sortedUsers:1,numCharts:1,team:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,i,a,s,r;function o(e){return 1===e.numUsers?ot:e.numUsers>1?rt:void 0}var l=o(t),c=l&&l(e,t),u=t.sortedUsers.length&&lt(e,t);return{c:function(){n=T("p"),c&&c.c(),i=N(" "),a=T("noscript"),s=N("\n\n"),u&&u.c(),r=k()},m:function(e,o){p(e,n,o),c&&c.m(n,null),m(n,i),m(n,a),a.insertAdjacentHTML("afterend",t.numChartsCaption),p(e,s,o),u&&u.m(e,o),p(e,r,o)},p:function(t,s){l===(l=o(s))&&c?c.p(t,s):(c&&c.d(1),(c=l&&l(e,s))&&c.c(),c&&c.m(n,i)),t.numChartsCaption&&(g(a),a.insertAdjacentHTML("afterend",s.numChartsCaption)),s.sortedUsers.length?u?u.p(t,s):((u=lt(e,s)).c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d:function(e){e&&h(n),c&&c.d(),e&&h(s),u&&u.d(e),e&&h(r)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}u(bt.prototype,J),u(bt.prototype,tt),bt.prototype._recompute=function(e,t){var n,i,a,s,r;(e.isAdmin||e.isTeamOwner)&&this._differs(t.roles,t.roles=(i=(n=t).isAdmin,a=n.isTeamOwner,i||a?Ye:Ye.slice(1)))&&(e.roles=!0),(e.users||e.isAdmin)&&this._differs(t.sortedUsers,t.sortedUsers=function(e){var t=e.users,n=e.isAdmin;return t.sort((function(e,t){var n=["owner","admin","member"];return n.indexOf(e.role)>n.indexOf(t.role)?1:n.indexOf(e.role)<n.indexOf(t.role)?-1:e.email>t.email?1:e.email<t.email?-1:0})).filter((function(e){return n||!e.isAdmin}))}(t))&&(e.sortedUsers=!0),e.isAdmin&&this._differs(t.userHeaders,t.userHeaders=function(e){var t=e.isAdmin,n=[{title:X("teams / user"),width:"25%"},{title:"ID",width:"10%"},{title:"Charts",width:"15%"},{title:X("teams / status"),width:"15%"},{title:X("teams / actions"),width:"30%"}];return t||n.splice(1,1),n}(t))&&(e.userHeaders=!0),e.sortedUsers&&this._differs(t.numUsers,t.numUsers=t.sortedUsers.length)&&(e.numUsers=!0),e.users&&this._differs(t.numCharts,t.numCharts=(s=t.users,r=0,s.forEach((function(e){r+=e.charts})),r))&&(e.numCharts=!0),(e.numCharts||e.isAdmin||e.team)&&this._differs(t.numChartsCaption,t.numChartsCaption=function(e){var t=e.numCharts,n=e.isAdmin,i=e.team;return 1===t?X("teams / charts-total / 1"):t>1?n?X("teams / charts-total-admin").replace("%i%",t).replace("%link%","/admin/chart/by/".concat(i.id)):X("teams / charts-total").replace("%i%",t):""}(t))&&(e.numChartsCaption=!0)};function _t(e,t){var n,i,a=e._slotted.content;return{c:function(){n=T("div"),a||((i=T("div")).textContent="DropdownControl content"),a||(i.className="base-dropdown-inner svelte-1jdtmzv"),C(n,"width",t.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m:function(e,t){p(e,n,t),m(n,a||i)},p:function(e,t){e.width&&C(n,"width",t.width)},d:function(e){e&&h(n),a&&b(n,a)}}}function yt(e){$(this,e),this.refs={},this._state=u({visible:!1,disabled:!1,width:"auto"},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,a,s,r,o,l=e._slotted.button;function c(t){e.windowClick(t)}function u(t){e.toggle(t)}window.addEventListener("click",c);var d=t.visible&&_t(e,t);return{c:function(){n=T("div"),i=T("a"),l||(a=T("button"),s=T("i")),o=N("\n    "),d&&d.c(),l||(s.className=r="fa fa-chevron-"+(t.visible?"up":"down")+" svelte-1jdtmzv",a.className="btn btn-small"),x(i,"click",u),i.href="#dropdown-btn",i.className="base-drop-btn svelte-1jdtmzv",C(n,"position","relative"),C(n,"display","inline-block")},m:function(t,r){p(t,n,r),m(n,i),l?m(i,l):(m(i,a),m(a,s)),e.refs.button=i,m(n,o),d&&d.m(n,null)},p:function(t,i){l||t.visible&&r!==(r="fa fa-chevron-"+(i.visible?"up":"down")+" svelte-1jdtmzv")&&(s.className=r),i.visible?d?d.p(t,i):((d=_t(e,i)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(t){window.removeEventListener("click",c),t&&h(n),l&&b(i,l),H(i,"click",u),e.refs.button===i&&(e.refs.button=null),d&&d.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}u(yt.prototype,J),u(yt.prototype,{toggle:function(e){e.preventDefault();var t=this.get(),n=t.visible;t.disabled||this.set({visible:!n})},windowClick:function(e){!e.target||this.refs&&this.refs.button&&(e.target===this.refs.button||this.refs.button.contains(e.target))||e.target.classList.contains("hex")||this.set({visible:!1})}});function wt(e){e.preventDefault();var t=this._svelte,n=t.component,i=t.ctx;n.action(i.item)}function Tt(e,t,n){var i=Object.create(e);return i.item=t[n],i}function Nt(e,t){var n,i,a,s,r=t.icon&&kt(e,t);function o(t){t.preventDefault(),t.stopPropagation(),e.fireClick()}return{c:function(){n=T("button"),r&&r.c(),i=N(" "),a=T("noscript"),x(n,"click",o),n.disabled=t.disabled,n.className=s="split-button-label "+t.btnClass+" svelte-1qu0vk"},m:function(e,s){p(e,n,s),r&&r.m(n,null),m(n,i),m(n,a),a.insertAdjacentHTML("afterend",t.label)},p:function(t,o){o.icon?r?r.p(t,o):((r=kt(e,o)).c(),r.m(n,i)):r&&(r.d(1),r=null),t.label&&(g(a),a.insertAdjacentHTML("afterend",o.label)),t.disabled&&(n.disabled=o.disabled),t.btnClass&&s!==(s="split-button-label "+o.btnClass+" svelte-1qu0vk")&&(n.className=s)},d:function(e){e&&h(n),r&&r.d(),H(n,"click",o)}}}function kt(e,t){var n;return{c:function(){(n=T("i")).className=t.icon+" svelte-1qu0vk"},m:function(e,t){p(e,n,t)},p:function(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d:function(e){e&&h(n)}}}function xt(e,t){var n,i,a=t.icon&&Mt(e,t);function s(e){return e.label?Ct:Ot}var r=s(t),o=r(e,t);return{c:function(){a&&a.c(),n=N(" "),o.c(),i=k()},m:function(e,t){a&&a.m(e,t),p(e,n,t),o.m(e,t),p(e,i,t)},p:function(t,l){l.icon?a?a.p(t,l):((a=Mt(e,l)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),r===(r=s(l))&&o?o.p(t,l):(o.d(1),(o=r(e,l)).c(),o.m(i.parentNode,i))},d:function(e){a&&a.d(e),e&&h(n),o.d(e),e&&h(i)}}}function Ht(e,t){var n;return{c:function(){(n=T("span")).className="caret"},m:function(e,t){p(e,n,t)},p:c,d:function(e){e&&h(n)}}}function Mt(e,t){var n;return{c:function(){(n=T("i")).className=t.icon+" svelte-1qu0vk"},m:function(e,t){p(e,n,t)},p:function(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d:function(e){e&&h(n)}}}function Ot(e,t){var n;return{c:function(){(n=T("i")).className="im im-menu-dot-h svelte-1qu0vk"},m:function(e,t){p(e,n,t)},p:c,d:function(e){e&&h(n)}}}function Ct(e,t){var n,i,a,s;return{c:function(){n=T("noscript"),i=T("noscript"),a=N(" "),(s=T("span")).className="caret"},m:function(e,r){p(e,n,r),n.insertAdjacentHTML("afterend",t.label),p(e,i,r),p(e,a,r),p(e,s,r)},p:function(e,t){e.label&&(v(n,i),n.insertAdjacentHTML("afterend",t.label))},d:function(e){e&&(v(n,i),h(n),h(i),h(a),h(s))}}}function At(e,t){var n,i,a,s=t.item.label;return{c:function(){n=T("li"),i=T("a"),a=N("\n        "),i._svelte={component:e,ctx:t},x(i,"click",wt),i.href="#/action",i.className="svelte-1qu0vk",U(i,"disabled",t.item.disabled),n.className="svelte-1qu0vk"},m:function(e,t){p(e,n,t),m(n,i),i.innerHTML=s,m(n,a)},p:function(e,n){t=n,e.items&&s!==(s=t.item.label)&&(i.innerHTML=s),i._svelte.ctx=t,e.items&&U(i,"disabled",t.item.disabled)},d:function(e){e&&h(n),H(i,"click",wt)}}}function Lt(e){$(this,e),this._state=u({label:"",icon:!1,split:!1,items:[],btnClass:"btn"},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,a,s,r,o=t.split&&Nt(e,t);function l(e){return e.split?Ht:xt}for(var c=l(t),u=c(e,t),d=t.items,f=[],p=0;p<d.length;p+=1)f[p]=At(e,Tt(t,d,p));var h={disabled:t.disabled},v=new yt({root:e.root,store:e.store,slots:{default:w(),content:w(),button:w()},data:h});return{c:function(){n=T("div"),o&&o.c(),i=N("\n        "),a=T("button"),u.c(),s=N("\n\n    "),r=T("ul");for(var e=0;e<f.length;e+=1)f[e].c();v._fragment.c(),a.disabled=t.disabled,a.className=t.btnClass+" svelte-1qu0vk",M(n,"slot","button"),n.className="btn-group",M(r,"slot","content"),r.className="svelte-1qu0vk"},m:function(e,t){m(v._slotted.button,n),o&&o.m(n,null),m(n,i),m(n,a),u.m(a,null),m(v._slotted.default,s),m(v._slotted.content,r);for(var l=0;l<f.length;l+=1)f[l].m(r,null);v._mount(e,t)},p:function(t,s){if(s.split?o?o.p(t,s):((o=Nt(e,s)).c(),o.m(n,i)):o&&(o.d(1),o=null),c===(c=l(s))&&u?u.p(t,s):(u.d(1),(u=c(e,s)).c(),u.m(a,null)),t.disabled&&(a.disabled=s.disabled),t.btnClass&&(a.className=s.btnClass+" svelte-1qu0vk"),t.items){d=s.items;for(var m=0;m<d.length;m+=1){var p=Tt(s,d,m);f[m]?f[m].p(t,p):(f[m]=At(e,p),f[m].c(),f[m].m(r,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=d.length}var h={};t.disabled&&(h.disabled=s.disabled),v._set(h)},d:function(e){o&&o.d(),u.d(),y(f,e),v.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}function Ut(e,t){var n;return{c:function(){(n=T("label")).className="control-label svelte-1nkiaxn"},m:function(e,i){p(e,n,i),n.innerHTML=t.label},p:function(e,t){e.label&&(n.innerHTML=t.label)},d:function(e){e&&h(n)}}}function Pt(e,t){var n;return{c:function(){(n=T("div")).className="help success svelte-1nkiaxn"},m:function(e,i){p(e,n,i),n.innerHTML=t.success},p:function(e,t){e.success&&(n.innerHTML=t.success)},d:function(e){e&&h(n)}}}function jt(e,t){var n;return{c:function(){(n=T("div")).className="help error svelte-1nkiaxn"},m:function(e,i){p(e,n,i),n.innerHTML=t.error},p:function(e,t){e.error&&(n.innerHTML=t.error)},d:function(e){e&&h(n)}}}function Et(e,t){var n;return{c:function(){(n=T("div")).className="help svelte-1nkiaxn"},m:function(e,i){p(e,n,i),n.innerHTML=t.help},p:function(e,t){e.help&&(n.innerHTML=t.help)},d:function(e){e&&h(n)}}}function St(e){var t,n,i,a,s,r,o,l,c,d,f,v,g;$(this,e),this._state=u({label:"",help:"",error:!1,success:!1,width:"auto"},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(t=this,n=this._state,c=t._slotted.default,d=n.label&&Ut(0,n),f=n.success&&Pt(0,n),v=n.error&&jt(0,n),g=!n.success&&!n.error&&n.help&&Et(0,n),{c:function(){i=T("div"),d&&d.c(),a=N("\n    "),s=T("div"),r=N("\n    "),f&&f.c(),o=N(" "),v&&v.c(),l=N(" "),g&&g.c(),s.className="form-controls svelte-1nkiaxn",i.className="form-block svelte-1nkiaxn",C(i,"width",n.width),U(i,"success",n.success),U(i,"error",n.error)},m:function(e,t){p(e,i,t),d&&d.m(i,null),m(i,a),m(i,s),c&&m(s,c),m(i,r),f&&f.m(i,null),m(i,o),v&&v.m(i,null),m(i,l),g&&g.m(i,null)},p:function(e,t){t.label?d?d.p(e,t):((d=Ut(0,t)).c(),d.m(i,a)):d&&(d.d(1),d=null),t.success?f?f.p(e,t):((f=Pt(0,t)).c(),f.m(i,o)):f&&(f.d(1),f=null),t.error?v?v.p(e,t):((v=jt(0,t)).c(),v.m(i,l)):v&&(v.d(1),v=null),t.success||t.error||!t.help?g&&(g.d(1),g=null):g?g.p(e,t):((g=Et(0,t)).c(),g.m(i,null)),e.width&&C(i,"width",t.width),e.success&&U(i,"success",t.success),e.error&&U(i,"error",t.error)},d:function(e){e&&h(i),d&&d.d(),c&&b(s,c),f&&f.d(),v&&v.d(),g&&g.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function It(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}u(Lt.prototype,J),u(Lt.prototype,{fireClick:function(){this.fire("click")},action:function(e){e.disabled||e.action(this)}}),u(St.prototype,J);var Dt={addUser:function(e){try{var t=this,n=t.get(),i=n.inviteeExists,a=n.inviteeUserId;if(!i)return;return t.set({currentAction:{updatingUsers:!0,isComplete:!1}}),It(Ze("/v3/teams/".concat(t.get().team.id,"/members"),{raw:!0,payload:{userId:a,role:e}}),(function(n){var i=!n.ok;return It(i?n.json():null,(function(i){var a={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"add",role:e};t.set({currentAction:a}),t.fire("updateUsers")}),!i)}))}catch(e){return Promise.reject(e)}},inviteUser:function(e){try{var t=this,n=t.get().inviteeEmail;return t.set({currentAction:{updatingUsers:!0,isComplete:!1}}),It(Ze("/v3/teams/".concat(t.get().team.id,"/invites"),{raw:!0,payload:{email:n,role:e}}),(function(n){var i=!n.ok;return It(i?n.json():null,(function(i){var a={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"invite",role:e};t.set({currentAction:a}),t.fire("updateUsers")}),!i)}))}catch(e){return Promise.reject(e)}},debounceCheckUser:function(){try{var e=this;if(!e.get().isAdmin)return;return window.clearTimeout(window.checkUser),e.set({inviteeExistsLoading:!0}),window.checkUser=setTimeout((function(){e.checkUser()}),200),It()}catch(e){return Promise.reject(e)}},checkUser:function(){try{var e=this,t=e.get(),n=t.inviteeEmail;return t.isValidEmail?It(Ge("/v3/users?search=".concat(encodeURIComponent(n))),(function(t){e.set({inviteeExistsLoading:!1,inviteeExists:!1}),t.list.length>0&&(n=e.get().inviteeEmail,t.list.forEach((function(t){t.email.toLowerCase()===n.toLowerCase()&&e.set({inviteeExists:!0,inviteeUserId:t.id})})))})):void e.set({inviteeExistsLoading:!1})}catch(e){return Promise.reject(e)}}};function qt(){window.teamSettingsInvite=this}function Rt(e){var t=e.changed;e.current,e.previous;t.inviteeEmail&&(this.set({inviteeExists:!1}),this.debounceCheckUser())}function Wt(e){var t=this;$(this,e),this._state=u({inviteeEmail:"",currentAction:{updatingUsers:!1,isComplete:!1,isError:!1,errorCode:null,responseData:null,type:"",role:""}},e.data),this._recompute({inviteeEmail:1,currentAction:1,isAdmin:1,isTeamOwner:1,isValidEmail:1,inviteeExistsLoading:1,inviteeExists:1},this._state),this._intro=!0,this._handlers.state=[Rt],Rt.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,a,s=!1;function r(){s=!0,e.set({inviteeEmail:i.value}),s=!1}var o={disabled:!t.isValidEmail,label:"<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+X("teams / invite"),items:t.inviteOptions},l=new Lt({root:e.root,store:e.store,data:o}),c={label:X("teams / invite-user"),help:X("teams / invite-user / help"),success:t.successMessage,error:t.errorMessage},u=new St({root:e.root,store:e.store,slots:{default:w()},data:c});return{c:function(){n=T("div"),i=T("input"),a=N(" \n        "),l._fragment.c(),u._fragment.c(),x(i,"input",r),M(i,"type","text"),i.width="1px",i.placeholder=X("teams / invite-user / eg"),i.className="svelte-m6ws61",n.className="flex svelte-m6ws61"},m:function(e,s){m(u._slotted.default,n),m(n,i),i.value=t.inviteeEmail,m(n,a),l._mount(n,null),u._mount(e,s)},p:function(e,t){!s&&e.inviteeEmail&&(i.value=t.inviteeEmail);var n={};e.isValidEmail&&(n.disabled=!t.isValidEmail),e.currentAction&&(n.label="<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+X("teams / invite")),e.inviteOptions&&(n.items=t.inviteOptions),l._set(n);var a={};e.successMessage&&(a.success=t.successMessage),e.errorMessage&&(a.error=t.errorMessage),u._set(a)},d:function(e){H(i,"input",r),l.destroy(),u.destroy(e)}}}(this,this._state),this.root._oncreate.push((function(){qt.call(t),t.fire("update",{changed:d({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}u(Wt.prototype,J),u(Wt.prototype,Dt),Wt.prototype._recompute=function(e,t){var n;(e.inviteeEmail||e.currentAction)&&(this._differs(t.successMessage,t.successMessage=function(e){var t=e.inviteeEmail,n=e.currentAction,i=n.isComplete,a=n.isError,s=n.type,r=n.role;if(i&&!a)return X("teams / invite-user / ".concat(s," / success")).replace("$1",t).replace("$2",X("teams / role / ".concat(r)))}(t))&&(e.successMessage=!0),this._differs(t.errorMessage,t.errorMessage=function(e){var t=e.inviteeEmail,n=e.currentAction,i=n.isComplete,a=n.isError,s=n.errorCode,r=n.responseData,o=n.type;if(i&&a){var l=[400,401,406].includes(s)?s:"other",c=406===s&&r&&r.maxTeamInvites?r.maxTeamInvites:null;return X("teams / invite-user / ".concat(o," / error / ").concat(l)).replace("$1",t).replace("$2",c)}}(t))&&(e.errorMessage=!0)),e.inviteeEmail&&this._differs(t.isValidEmail,t.isValidEmail=(n=t.inviteeEmail,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)))&&(e.isValidEmail=!0),(e.isAdmin||e.isTeamOwner||e.inviteeEmail||e.isValidEmail||e.inviteeExistsLoading||e.inviteeExists)&&this._differs(t.inviteOptions,t.inviteOptions=function(e){var t=e.isAdmin,n=e.isTeamOwner,i=(e.inviteeEmail,e.isValidEmail),a=e.inviteeExistsLoading,s=e.inviteeExists,r=[{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(X("teams / role / member")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("member")}},{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(X("teams / role / admin")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("admin")}}];return(t||n)&&r.push({label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(X("teams / role / owner")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("owner")}}),t&&r.push({label:'<span class="red"><i class="fa '.concat(a?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(X("teams / add-as").replace("%s",X("teams / role / member")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("member")}},{label:'<span class="red"><i class="fa '.concat(a?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(X("teams / add-as").replace("%s",X("teams / role / admin")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("admin")}},{label:'<span class="red"><i class="fa '.concat(a?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(X("teams / add-as").replace("%s",X("teams / role / owner")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("owner")}}),r}(t))&&(e.inviteOptions=!0)};var zt={updateUsers:function(){var e=this,t=this.get().team;this.set({awaitLoadingUsers:Ve.get("/v3/teams/".concat(t.id,"/members?limit=1000")).then((function(t){e.set({users:t.list})}))})}};function Bt(){this.updateUsers()}function Ft(e,t){var n,i,a={component:e,ctx:t,current:null,pending:Gt,then:Vt,catch:$t,value:"null",error:"null"};return D(i=t.awaitLoadingUsers,a),{c:function(){n=k(),a.block.c()},m:function(e,t){p(e,n,t),a.block.m(e,a.anchor=t),a.mount=function(){return n.parentNode},a.anchor=n},p:function(e,n){t=n,a.ctx=t,"awaitLoadingUsers"in e&&i!==(i=t.awaitLoadingUsers)&&D(i,a)||a.block.p(e,u(u({},t),a.resolved))},d:function(e){e&&h(n),a.block.d(e),a=null}}}function $t(e,t){var n;return{c:function(){n=N("error!")},m:function(e,t){p(e,n,t)},p:c,d:function(e){e&&h(n)}}}function Vt(e,t){var n={},i={isAdmin:t.isAdmin,isTeamOwner:t.isTeamOwner,team:t.team};void 0!==t.users&&(i.users=t.users,n.users=!0),void 0!==t.editIndex&&(i.editIndex=t.editIndex,n.editIndex=!0),void 0!==t.updating&&(i.updating=t.updating,n.updating=!0);var a=new bt({root:e.root,store:e.store,data:i,_bind:function(t,i){var a={};!n.users&&t.users&&(a.users=i.users),!n.editIndex&&t.editIndex&&(a.editIndex=i.editIndex),!n.updating&&t.updating&&(a.updating=i.updating),e._set(a),n={}}});return e.root._beforecreate.push((function(){a._bind({users:1,editIndex:1,updating:1},a.get())})),{c:function(){a._fragment.c()},m:function(e,t){a._mount(e,t)},p:function(e,i){t=i;var s={};e.isAdmin&&(s.isAdmin=t.isAdmin),e.isTeamOwner&&(s.isTeamOwner=t.isTeamOwner),e.team&&(s.team=t.team),!n.users&&e.users&&(s.users=t.users,n.users=void 0!==t.users),!n.editIndex&&e.editIndex&&(s.editIndex=t.editIndex,n.editIndex=void 0!==t.editIndex),!n.updating&&e.updating&&(s.updating=t.updating,n.updating=void 0!==t.updating),a._set(s),n={}},d:function(e){a.destroy(e)}}}function Gt(e,t){var n,i,a,s,r=X("teams / loading");return{c:function(){n=T("p"),i=T("i"),a=N("   "),s=T("noscript"),i.className="fa fa-circle-o-notch fa-spin"},m:function(e,t){p(e,n,t),m(n,i),m(n,a),m(n,s),s.insertAdjacentHTML("afterend",r)},p:c,d:function(e){e&&h(n)}}}function Jt(e){var t=this;$(this,e),this._state=u({editIndex:0,updating:{},updatingUsers:!1,awaitLoadingUsers:!1},e.data),this._recompute({users:1,userId:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,i,a,s,r,o,l,c,u,d,f,v,g,b,_,y,w,x,H,M,O,A,L,U,P,j,E,S,I,D,q,R,W,z,B,F,$,V,G,J,Z,K,Q,Y,ee,te,ne,ie,ae,se,re,oe,le,ce,ue,de,fe,me,pe,he,ve,ge,be,_e,ye,we,Te,Ne,ke,xe,He,Me,Oe,Ce=X("teams / p"),Ae={},Le=X("teams / role / member"),Ue=X("teams / role / admin"),Pe=X("teams / role / owner"),je=X("teams / roles / edit-charts"),Ee=X("teams / roles / edit-folders"),Se=X("teams / roles / access-settings"),Ie=X("teams / roles / invite-users"),De=X("teams / roles / subscription-options"),qe=X("teams / roles / remove-team"),Re={isTeamOwner:t.isTeamOwner,isAdmin:t.isAdmin};void 0!==t.team&&(Re.team=t.team,Ae.team=!0),void 0!==t.updatingUsers&&(Re.updatingUsers=t.updatingUsers,Ae.updatingUsers=!0);var We=new Wt({root:e.root,store:e.store,data:Re,_bind:function(t,n){var i={};!Ae.team&&t.team&&(i.team=n.team),!Ae.updatingUsers&&t.updatingUsers&&(i.updatingUsers=n.updatingUsers),e._set(i),Ae={}}});e.root._beforecreate.push((function(){We._bind({team:1,updatingUsers:1},We.get())})),We.on("updateUsers",(function(t){e.updateUsers()}));var ze=t.awaitLoadingUsers&&Ft(e,t);return{c:function(){n=T("p"),i=N("\n\n"),a=T("div"),s=T("div"),We._fragment.c(),r=N("\n    "),o=T("div"),l=T("table"),c=T("thead"),u=T("tr"),d=T("td"),f=N("\n                    "),v=T("th"),g=N("\n                    "),b=T("th"),_=N("\n                    "),y=T("th"),w=N("\n            "),x=T("tbody"),H=T("tr"),M=T("td"),O=N("\n                    "),(A=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',L=N("\n                    "),(U=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',P=N("\n                    "),(j=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',E=N("\n\n                "),S=T("tr"),I=T("td"),D=N("\n                    "),(q=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',R=N("\n                    "),(W=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',z=N("\n                    "),(B=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',F=N("\n\n                "),$=T("tr"),V=T("td"),G=N("\n                    "),(J=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Z=N("\n                    "),(K=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Q=N("\n                    "),(Y=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ee=N("\n\n                "),te=T("tr"),ne=T("td"),ie=N("\n                    "),(ae=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',se=N("\n                    "),(re=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',oe=N("\n                    "),(le=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ce=N("\n\n                "),ue=T("tr"),de=T("td"),fe=N("\n                    "),(me=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',pe=N("\n                    "),(he=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ve=N("\n                    "),(ge=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',be=N("\n\n                "),_e=T("tr"),ye=T("td"),we=N("\n                    "),(Te=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Ne=N("\n                    "),(ke=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',xe=N("\n                    "),(He=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Me=N("\n\n"),ze&&ze.c(),Oe=k(),C(n,"margin-bottom","10px"),s.className="span4",d.className="svelte-hgmegl",v.className="svelte-hgmegl",b.className="svelte-hgmegl",y.className="svelte-hgmegl",M.className="svelte-hgmegl",A.className="svelte-hgmegl",U.className="svelte-hgmegl",j.className="svelte-hgmegl",I.className="svelte-hgmegl",q.className="svelte-hgmegl",W.className="svelte-hgmegl",B.className="svelte-hgmegl",V.className="svelte-hgmegl",J.className="svelte-hgmegl",K.className="svelte-hgmegl",Y.className="svelte-hgmegl",ne.className="svelte-hgmegl",ae.className="svelte-hgmegl",re.className="svelte-hgmegl",le.className="svelte-hgmegl",de.className="svelte-hgmegl",me.className="svelte-hgmegl",he.className="svelte-hgmegl",ge.className="svelte-hgmegl",ye.className="svelte-hgmegl",Te.className="svelte-hgmegl",ke.className="svelte-hgmegl",He.className="svelte-hgmegl",x.className="svelte-hgmegl",l.className="role-descriptions svelte-hgmegl",C(l,"margin-left","3em"),o.className="span6",a.className="row",C(a,"margin-bottom","2em")},m:function(e,t){p(e,n,t),n.innerHTML=Ce,p(e,i,t),p(e,a,t),m(a,s),We._mount(s,null),m(a,r),m(a,o),m(o,l),m(l,c),m(c,u),m(u,d),m(u,f),m(u,v),v.innerHTML=Le,m(u,g),m(u,b),b.innerHTML=Ue,m(u,_),m(u,y),y.innerHTML=Pe,m(l,w),m(l,x),m(x,H),m(H,M),M.innerHTML=je,m(H,O),m(H,A),m(H,L),m(H,U),m(H,P),m(H,j),m(x,E),m(x,S),m(S,I),I.innerHTML=Ee,m(S,D),m(S,q),m(S,R),m(S,W),m(S,z),m(S,B),m(x,F),m(x,$),m($,V),V.innerHTML=Se,m($,G),m($,J),m($,Z),m($,K),m($,Q),m($,Y),m(x,ee),m(x,te),m(te,ne),ne.innerHTML=Ie,m(te,ie),m(te,ae),m(te,se),m(te,re),m(te,oe),m(te,le),m(x,ce),m(x,ue),m(ue,de),de.innerHTML=De,m(ue,fe),m(ue,me),m(ue,pe),m(ue,he),m(ue,ve),m(ue,ge),m(x,be),m(x,_e),m(_e,ye),ye.innerHTML=qe,m(_e,we),m(_e,Te),m(_e,Ne),m(_e,ke),m(_e,xe),m(_e,He),p(e,Me,t),ze&&ze.m(e,t),p(e,Oe,t)},p:function(n,i){t=i;var a={};n.isTeamOwner&&(a.isTeamOwner=t.isTeamOwner),n.isAdmin&&(a.isAdmin=t.isAdmin),!Ae.team&&n.team&&(a.team=t.team,Ae.team=void 0!==t.team),!Ae.updatingUsers&&n.updatingUsers&&(a.updatingUsers=t.updatingUsers,Ae.updatingUsers=void 0!==t.updatingUsers),We._set(a),Ae={},t.awaitLoadingUsers?ze?ze.p(n,t):((ze=Ft(e,t)).c(),ze.m(Oe.parentNode,Oe)):ze&&(ze.d(1),ze=null)},d:function(e){e&&(h(n),h(i),h(a)),We.destroy(),e&&h(Me),ze&&ze.d(e),e&&h(Oe)}}}(this,this._state),this.root._oncreate.push((function(){Bt.call(t),t.fire("update",{changed:d({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}u(Jt.prototype,J),u(Jt.prototype,zt),Jt.prototype._recompute=function(e,t){(e.users||e.userId)&&this._differs(t.role,t.role=function(e){var t=e.users,n=e.userId;if(!t||!t.length||!n)return!1;var i=t.find((function(e){return e.id===n}));return i?i.role:"admin"}(t))&&(e.role=!0)};var Zt={};function Kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Zt[e]=window.__dw.vis.meta.locale||{}):Zt[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}var Xt={show:function(){var e=this,t=setTimeout((function(){e.set({visible:!0})}),400);this.set({t:t})},hide:function(){var e=this.get().t;clearTimeout(e),this.set({visible:!1})}};function Qt(){if("upgrade-info"===this.get().type){var e=this.refs.helpDisplay.closest("div.ui-section");if(e&&e.dataset&&e.dataset.uiSection){var t=this.root.get().showUpgradeKeyOn;t[e.dataset.uiSection]=!0,this.root.set({showUpgradeKeyOn:t})}}}function Yt(e,t){var n,i,a,s,r,o=e._slotted.default,l="help"===t.type&&en(),c="upgrade-info"===t.type&&tn();return{c:function(){n=T("div"),l&&l.c(),i=N(" "),c&&c.c(),a=N("\n        "),n.className=r="content "+t.type+" svelte-1qzgns1"},m:function(e,t){p(e,n,t),l&&l.m(n,null),m(n,i),c&&c.m(n,null),m(n,a),o&&(m(n,s||(s=k())),m(n,o))},p:function(e,t){"help"===t.type?l||((l=en()).c(),l.m(n,i)):l&&(l.d(1),l=null),"upgrade-info"===t.type?c||((c=tn()).c(),c.m(n,a)):c&&(c.d(1),c=null),e.type&&r!==(r="content "+t.type+" svelte-1qzgns1")&&(n.className=r)},d:function(e){e&&h(n),l&&l.d(),c&&c.d(),o&&_(s,o)}}}function en(e,t){var n;return{c:function(){(n=T("i")).className="hat-icon im im-graduation-hat svelte-1qzgns1"},m:function(e,t){p(e,n,t)},d:function(e){e&&h(n)}}}function tn(e,t){var n,i,a=function(e){var t=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(e=e.trim(),Zt[n]||Kt(n),!Zt[n][e])return"MISSING:"+e;var i=Zt[n][e];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(e,n){return n=2+Number(n),void 0===t[n]?e:t[n]}))),i}("upgrade-available");return{c:function(){n=T("div"),i=N(a),n.className="content-header svelte-1qzgns1"},m:function(e,t){p(e,n,t),m(n,i)},d:function(e){e&&h(n)}}}function nn(e){var t=this;$(this,e),this.refs={},this._state=u({visible:!1,class:"",type:"help"},e.data),this._recompute({type:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,a,s,r,o=t.visible&&Yt(e,t);function l(t){e.show()}function c(t){e.hide()}return{c:function(){n=T("div"),i=T("span"),s=N("\n    "),o&&o.c(),i.className=a="help-icon "+t.type+" svelte-1qzgns1",U(i,"visible",t.visible),x(n,"mouseenter",l),x(n,"mouseleave",c),n.className=r="help "+t.class+" "+t.type+" svelte-1qzgns1"},m:function(a,r){p(a,n,r),m(n,i),i.innerHTML=t.helpIcon,m(n,s),o&&o.m(n,null),e.refs.helpDisplay=n},p:function(t,s){t.helpIcon&&(i.innerHTML=s.helpIcon),t.type&&a!==(a="help-icon "+s.type+" svelte-1qzgns1")&&(i.className=a),(t.type||t.visible)&&U(i,"visible",s.visible),s.visible?o?o.p(t,s):((o=Yt(e,s)).c(),o.m(n,null)):o&&(o.d(1),o=null),(t.class||t.type)&&r!==(r="help "+s.class+" "+s.type+" svelte-1qzgns1")&&(n.className=r)},d:function(t){t&&h(n),o&&o.d(),H(n,"mouseenter",l),H(n,"mouseleave",c),e.refs.helpDisplay===n&&(e.refs.helpDisplay=null)}}}(this,this._state),this.root._oncreate.push((function(){Qt.call(t),t.fire("update",{changed:d({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}u(nn.prototype,J),u(nn.prototype,Xt),nn.prototype._recompute=function(e,t){e.type&&this._differs(t.helpIcon,t.helpIcon="upgrade-info"===t.type?'<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>':"?")&&(e.helpIcon=!0)};var an="100px";function sn(e,t){var n,i={class:t.helpClass},a=new nn({root:e.root,store:e.store,slots:{default:w()},data:i});return{c:function(){n=T("div"),a._fragment.c()},m:function(e,i){m(a._slotted.default,n),n.innerHTML=t.help,a._mount(e,i)},p:function(e,t){e.help&&(n.innerHTML=t.help);var i={};e.helpClass&&(i.class=t.helpClass),a._set(i)},d:function(e){a.destroy(e)}}}function rn(e,t){var n,i,a,s=t.labelHelp&&on(e,t);return{c:function(){n=T("label"),i=T("noscript"),a=N(" "),s&&s.c(),C(n,"width",t.labelWidth||an),n.className="control-label svelte-1ykzs2h",U(n,"disabled",t.disabled)},m:function(e,r){p(e,n,r),m(n,i),i.insertAdjacentHTML("beforebegin",t.label),m(n,a),s&&s.m(n,null)},p:function(t,a){t.label&&(!function(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}(i),i.insertAdjacentHTML("beforebegin",a.label)),a.labelHelp?s?s.p(t,a):((s=on(e,a)).c(),s.m(n,null)):s&&(s.d(1),s=null),t.labelWidth&&C(n,"width",a.labelWidth||an),t.disabled&&U(n,"disabled",a.disabled)},d:function(e){e&&h(n),s&&s.d()}}}function on(e,t){var n;return{c:function(){(n=T("p")).className="mini-help mt-1"},m:function(e,i){p(e,n,i),n.innerHTML=t.labelHelp},p:function(e,t){e.labelHelp&&(n.innerHTML=t.labelHelp)},d:function(e){e&&h(n)}}}function ln(e,t){var n,i;return{c:function(){C(n=T("p"),"padding-left",t.inline?0:t.labelWidth||an),n.className=i="mt-1 mini-help "+t.type+" svelte-1ykzs2h",U(n,"mini-help-block",!t.inline)},m:function(e,i){p(e,n,i),n.innerHTML=t.miniHelp},p:function(e,t){e.miniHelp&&(n.innerHTML=t.miniHelp),(e.inline||e.labelWidth)&&C(n,"padding-left",t.inline?0:t.labelWidth||an),e.type&&i!==(i="mt-1 mini-help "+t.type+" svelte-1ykzs2h")&&(n.className=i),(e.type||e.inline)&&U(n,"mini-help-block",!t.inline)},d:function(e){e&&h(n)}}}function cn(e){var t,n,i,a,s,r,o,l,c,d,f,v;$(this,e),this._state=u({disabled:!1,help:!1,helpClass:!1,miniHelp:!1,label:!1,labelHelp:!1,inline:!1,labelWidth:!1,type:"default",valign:"baseline"},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(t=this,n=this._state,c=t._slotted.default,d=n.help&&sn(t,n),f=n.label&&rn(t,n),v=n.miniHelp&&ln(0,n),{c:function(){d&&d.c(),i=N("\n\n"),a=T("div"),f&&f.c(),s=N("\n    "),r=T("div"),o=N("\n    "),v&&v.c(),r.className="controls svelte-1ykzs2h",C(r,"width","calc(100% - "+(n.labelWidth||an)+" - 32px)"),U(r,"form-inline",n.inline),a.className=l="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h"},m:function(e,t){d&&d.m(e,t),p(e,i,t),p(e,a,t),f&&f.m(a,null),m(a,s),m(a,r),c&&m(r,c),m(a,o),v&&v.m(a,null)},p:function(e,n){n.help?d?d.p(e,n):((d=sn(t,n)).c(),d.m(i.parentNode,i)):d&&(d.d(1),d=null),n.label?f?f.p(e,n):((f=rn(t,n)).c(),f.m(a,s)):f&&(f.d(1),f=null),e.labelWidth&&C(r,"width","calc(100% - "+(n.labelWidth||an)+" - 32px)"),e.inline&&U(r,"form-inline",n.inline),n.miniHelp?v?v.p(e,n):((v=ln(0,n)).c(),v.m(a,null)):v&&(v.d(1),v=null),(e.type||e.valign)&&l!==(l="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h")&&(a.className=l)},d:function(e){d&&d.d(e),e&&(h(i),h(a)),f&&f.d(),c&&b(r,c),v&&v.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}function un(e){var t=e.changed;e.previous&&t.value&&this.set({indeterminate:!1})}function dn(e,t,n){var i=Object.create(e);return i.opt=t[n],i}function fn(e,t){var n,i=t.opt.help;return{c:function(){(n=T("div")).className="help svelte-b3e9e4"},m:function(e,t){p(e,n,t),n.innerHTML=i},p:function(e,t){e.options&&i!==(i=t.opt.help)&&(n.innerHTML=i)},d:function(e){e&&h(n)}}}function mn(e,t){var n,i,a,s,r,o,l,c,u,d=t.opt.label;function f(){e.set({value:i.__value})}var v=t.opt.help&&fn(0,t);return{c:function(){n=T("label"),i=T("input"),s=N("\n            "),r=T("span"),o=N(" "),l=T("span"),c=N("\n            "),v&&v.c(),e._bindingGroups[0].push(i),x(i,"change",f),M(i,"type","radio"),i.__value=a=t.opt.value,i.value=i.__value,i.disabled=t.disabled,i.className="svelte-b3e9e4",r.className="css-ui svelte-b3e9e4",l.className="inner-label svelte-b3e9e4",n.title=u=t.opt.tooltip||"",n.className="svelte-b3e9e4",U(n,"disabled",t.disabled),U(n,"has-help",t.opt.help)},m:function(e,a){p(e,n,a),m(n,i),i.checked=i.__value===t.value,m(n,s),m(n,r),m(n,o),m(n,l),l.innerHTML=d,m(n,c),v&&v.m(n,null)},p:function(e,t){e.value&&(i.checked=i.__value===t.value),e.options&&a!==(a=t.opt.value)&&(i.__value=a),i.value=i.__value,e.disabled&&(i.disabled=t.disabled),e.options&&d!==(d=t.opt.label)&&(l.innerHTML=d),t.opt.help?v?v.p(e,t):((v=fn(0,t)).c(),v.m(n,null)):v&&(v.d(1),v=null),e.options&&u!==(u=t.opt.tooltip||"")&&(n.title=u),e.disabled&&U(n,"disabled",t.disabled),e.options&&U(n,"has-help",t.opt.help)},d:function(t){t&&h(n),e._bindingGroups[0].splice(e._bindingGroups[0].indexOf(i),1),H(i,"change",f),v&&v.d()}}}function pn(e,t){var n;return{c:function(){(n=T("div")).className="disabled-message svelte-b3e9e4"},m:function(e,i){p(e,n,i),n.innerHTML=t.disabledMessage},p:function(e,t){e.disabledMessage&&(n.innerHTML=t.disabledMessage)},d:function(e){e&&h(n)}}}function hn(e){var t=this;$(this,e),this._state=u({value:null,disabled:!1,disabledMessage:"",indeterminate:!1,label:"",labelWidth:"auto",help:null,miniHelp:null,valign:"top",inline:!0},e.data),this._bindingGroups=[[]],this._intro=!0,this._handlers.state=[un],this._slotted=e.slots||{},un.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(e,t){for(var n,i,a,s,r,o=e._slotted.default,l=t.options,c=[],u=0;u<l.length;u+=1)c[u]=mn(e,dn(t,l,u));var d={type:"radio",labelWidth:t.labelWidth,valign:t.valign,label:t.label,disabled:t.disabled,help:t.help,miniHelp:t.miniHelp},f=new cn({root:e.root,store:e.store,slots:{default:w()},data:d}),v=t.disabled&&t.disabledMessage&&pn(e,t);return{c:function(){n=T("div");for(var e=0;e<c.length;e+=1)c[e].c();i=N("\n    "),f._fragment.c(),s=N("\n\n"),v&&v.c(),r=k(),n.className="svelte-b3e9e4",U(n,"inline",t.inline),U(n,"indeterminate",t.indeterminate)},m:function(e,t){m(f._slotted.default,n);for(var l=0;l<c.length;l+=1)c[l].m(n,null);m(f._slotted.default,i),o&&(m(f._slotted.default,a||(a=k())),m(f._slotted.default,o)),f._mount(e,t),p(e,s,t),v&&v.m(e,t),p(e,r,t)},p:function(t,i){if(t.options||t.disabled||t.value){l=i.options;for(var a=0;a<l.length;a+=1){var s=dn(i,l,a);c[a]?c[a].p(t,s):(c[a]=mn(e,s),c[a].c(),c[a].m(n,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=l.length}t.inline&&U(n,"inline",i.inline),t.indeterminate&&U(n,"indeterminate",i.indeterminate);var o={};t.labelWidth&&(o.labelWidth=i.labelWidth),t.valign&&(o.valign=i.valign),t.label&&(o.label=i.label),t.disabled&&(o.disabled=i.disabled),t.help&&(o.help=i.help),t.miniHelp&&(o.miniHelp=i.miniHelp),f._set(o),i.disabled&&i.disabledMessage?v?v.p(t,i):((v=pn(e,i)).c(),v.m(r.parentNode,r)):v&&(v.d(1),v=null)},d:function(e){y(c,e),o&&_(a,o),f.destroy(e),e&&h(s),v&&v.d(e),e&&h(r)}}}(this,this._state),this.root._oncreate.push((function(){t.fire("update",{changed:d({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}function vn(e){var t=e.changed,n=e.current;e.previous;n.settings&&(t.settings||t.team||t.defaultTheme)&&this.fire("change",{team:n.team,settings:n.settings,defaultTheme:n.defaultTheme})}function gn(e,t){var n,i,a,s,r,o,l,c,u,d=!1,f=!1,v=!1;function g(){d=!0,t.settings.embed.custom_embed.title=a.value,e.set({settings:t.settings}),d=!1}var b={label:X("teams / custom / title"),help:""},_=new St({root:e.root,store:e.store,slots:{default:w()},data:b});function y(){f=!0,t.settings.embed.custom_embed.text=r.value,e.set({settings:t.settings}),f=!1}var k={label:X("teams / custom / help"),help:""},O=new St({root:e.root,store:e.store,slots:{default:w()},data:k});function C(){v=!0,t.settings.embed.custom_embed.template=l.value,e.set({settings:t.settings}),v=!1}var A={label:X("teams / custom / embedcode"),help:X("teams / custom / embedcode / help")},L=new St({root:e.root,store:e.store,slots:{default:w()},data:A});return{c:function(){(n=T("h3")).textContent="Custom Embed Code",i=N("\n\n        "),a=T("input"),_._fragment.c(),s=N("\n\n        "),r=T("textarea"),O._fragment.c(),o=N("\n\n        "),l=T("textarea"),L._fragment.c(),c=N("\n        "),u=T("hr"),x(a,"input",g),M(a,"type","text"),a.placeholder="e.g. Custom CMS Embed",x(r,"input",y),r.placeholder="e.g. This is a custom embed code for our CMS",x(l,"input",C),l.className="embedcode svelte-rgtu7e",l.placeholder='<iframe src="%chart_url%" width="%chart_width%" widthheight="%chart_height%"></iframe>'},m:function(e,d){p(e,n,d),p(e,i,d),m(_._slotted.default,a),a.value=t.settings.embed.custom_embed.title,_._mount(e,d),p(e,s,d),m(O._slotted.default,r),r.value=t.settings.embed.custom_embed.text,O._mount(e,d),p(e,o,d),m(L._slotted.default,l),l.value=t.settings.embed.custom_embed.template,L._mount(e,d),p(e,c,d),p(e,u,d)},p:function(e,n){t=n,!d&&e.settings&&(a.value=t.settings.embed.custom_embed.title),!f&&e.settings&&(r.value=t.settings.embed.custom_embed.text),!v&&e.settings&&(l.value=t.settings.embed.custom_embed.template)},d:function(e){e&&(h(n),h(i)),H(a,"input",g),_.destroy(e),e&&h(s),H(r,"input",y),O.destroy(e),e&&h(o),H(l,"input",C),L.destroy(e),e&&(h(c),h(u))}}}function bn(e){var t=this;$(this,e),this._state=u({embedCodes:[{value:"responsive",label:X("teams / defaults / responsive-iframe")},{value:"iframe",label:X("teams / defaults / iframe")},{value:"custom",label:X("teams / defaults / custom")}],themes:[],folders:[],locales:[],defaultTheme:"",settings:{},team:{}},e.data),this._recompute({locales:1},this._state),this._intro=!0,this._handlers.state=[vn],vn.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,a,s,r,o,l,c,u,d,f,v,g,b=X("teams / defaults / p"),_=!1,y={},k={},O={},A={},L={};function U(){_=!0,t.team.name=r.value,e.set({team:t.team}),_=!1}var P={label:X("teams / name"),help:X("teams / name / help")},j=new St({root:e.root,store:e.store,slots:{default:w()},data:P}),E={label:"",options:[{label:X("teams / defaults / expanded"),value:"expanded"},{label:X("teams / defaults / collapsed"),value:"collapsed"}]};void 0!==t.settings.folders&&(E.value=t.settings.folders,y.value=!0);var S=new hn({root:e.root,store:e.store,data:E,_bind:function(n,i){var a={};!y.value&&n.value&&(t.settings.folders=i.value,a.settings=t.settings),e._set(a),y={}}});e.root._beforecreate.push((function(){S._bind({value:1},S.get())}));var I={label:X("teams / defaults / folder-status"),help:X("teams / defaults / folder-status / p")},D=new St({root:e.root,store:e.store,slots:{default:w()},data:I}),q={options:t.themes};void 0!==t.defaultTheme&&(q.value=t.defaultTheme,k.value=!0);var R=new Oe({root:e.root,store:e.store,data:q,_bind:function(t,n){var i={};!k.value&&t.value&&(i.defaultTheme=n.value),e._set(i),k={}}});e.root._beforecreate.push((function(){R._bind({value:1},R.get())}));var W={label:X("teams / defaults / theme"),help:X("teams / defaults / theme / p")},z=new St({root:e.root,store:e.store,slots:{default:w()},data:W}),B={options:t.folders};void 0!==t.settings.default.folder&&(B.value=t.settings.default.folder,O.value=!0);var F=new Oe({root:e.root,store:e.store,data:B,_bind:function(n,i){var a={};!O.value&&n.value&&(t.settings.default.folder=i.value,a.settings=t.settings),e._set(a),O={}}});e.root._beforecreate.push((function(){F._bind({value:1},F.get())}));var $={label:X("teams / defaults / folder"),help:X("teams / defaults / folder / p")},V=new St({root:e.root,store:e.store,slots:{default:w()},data:$}),G={options:t.localeOptions};void 0!==t.settings.default.locale&&(G.value=t.settings.default.locale,A.value=!0);var J=new Oe({root:e.root,store:e.store,data:G,_bind:function(n,i){var a={};!A.value&&n.value&&(t.settings.default.locale=i.value,a.settings=t.settings),e._set(a),A={}}});e.root._beforecreate.push((function(){J._bind({value:1},J.get())}));var Z={label:X("teams / defaults / locale"),help:X("teams / defaults / locale / p")},K=new St({root:e.root,store:e.store,slots:{default:w()},data:Z}),Q={label:"",options:t.embedCodes};void 0!==t.settings.embed.preferred_embed&&(Q.value=t.settings.embed.preferred_embed,L.value=!0);var Y=new hn({root:e.root,store:e.store,data:Q,_bind:function(n,i){var a={};!L.value&&n.value&&(t.settings.embed.preferred_embed=i.value,a.settings=t.settings),e._set(a),L={}}});e.root._beforecreate.push((function(){Y._bind({value:1},Y.get())}));var ee={label:X("teams / defaults / embedcode"),help:X("teams / defaults / embedcode / p")},te=new St({root:e.root,store:e.store,slots:{default:w()},data:ee}),ne="custom"==t.settings.embed.preferred_embed&&gn(e,t);return{c:function(){n=T("div"),i=T("div"),a=T("p"),s=N("\n\n        "),r=T("input"),j._fragment.c(),o=N("\n\n        "),S._fragment.c(),D._fragment.c(),l=N("\n\n        "),(c=T("h3")).textContent="Default settings for new visualizations",u=N("\n\n        "),R._fragment.c(),z._fragment.c(),d=N("\n\n        "),F._fragment.c(),V._fragment.c(),f=N("\n\n        "),J._fragment.c(),K._fragment.c(),v=N("\n\n        "),Y._fragment.c(),te._fragment.c(),g=N("\n\n        "),ne&&ne.c(),C(a,"margin-bottom","10px"),x(r,"input",U),M(r,"type","text"),r.placeholder="",i.className="span6",n.className="row"},m:function(e,h){p(e,n,h),m(n,i),m(i,a),a.innerHTML=b,m(i,s),m(j._slotted.default,r),r.value=t.team.name,j._mount(i,null),m(i,o),S._mount(D._slotted.default,null),D._mount(i,null),m(i,l),m(i,c),m(i,u),R._mount(z._slotted.default,null),z._mount(i,null),m(i,d),F._mount(V._slotted.default,null),V._mount(i,null),m(i,f),J._mount(K._slotted.default,null),K._mount(i,null),m(i,v),Y._mount(te._slotted.default,null),te._mount(i,null),m(i,g),ne&&ne.m(i,null)},p:function(n,a){t=a,!_&&n.team&&(r.value=t.team.name);var s={};!y.value&&n.settings&&(s.value=t.settings.folders,y.value=void 0!==t.settings.folders),S._set(s),y={};var o={};n.themes&&(o.options=t.themes),!k.value&&n.defaultTheme&&(o.value=t.defaultTheme,k.value=void 0!==t.defaultTheme),R._set(o),k={};var l={};n.folders&&(l.options=t.folders),!O.value&&n.settings&&(l.value=t.settings.default.folder,O.value=void 0!==t.settings.default.folder),F._set(l),O={};var c={};n.localeOptions&&(c.options=t.localeOptions),!A.value&&n.settings&&(c.value=t.settings.default.locale,A.value=void 0!==t.settings.default.locale),J._set(c),A={};var u={};n.embedCodes&&(u.options=t.embedCodes),!L.value&&n.settings&&(u.value=t.settings.embed.preferred_embed,L.value=void 0!==t.settings.embed.preferred_embed),Y._set(u),L={},"custom"==t.settings.embed.preferred_embed?ne?ne.p(n,t):((ne=gn(e,t)).c(),ne.m(i,null)):ne&&(ne.d(1),ne=null)},d:function(e){e&&h(n),H(r,"input",U),j.destroy(),S.destroy(),D.destroy(),R.destroy(),z.destroy(),F.destroy(),V.destroy(),J.destroy(),K.destroy(),Y.destroy(),te.destroy(),ne&&ne.d()}}}(this,this._state),this.root._oncreate.push((function(){t.fire("update",{changed:d({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}function _n(e){var t=e-1;return t*t*t+1}function yn(e,t){var n=t.delay;void 0===n&&(n=0);var i=t.duration;void 0===i&&(i=400);var a=t.easing;void 0===a&&(a=_n);var s=getComputedStyle(e),r=+s.opacity,o=parseFloat(s.height),l=parseFloat(s.paddingTop),c=parseFloat(s.paddingBottom),u=parseFloat(s.marginTop),d=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),m=parseFloat(s.borderBottomWidth);return{delay:n,duration:i,easing:a,css:function(e){return"overflow: hidden;opacity: "+Math.min(20*e,1)*r+";height: "+e*o+"px;padding-top: "+e*l+"px;padding-bottom: "+e*c+"px;margin-top: "+e*u+"px;margin-bottom: "+e*d+"px;border-top-width: "+e*f+"px;border-bottom-width: "+e*m+"px;"}}}u(cn.prototype,J),u(hn.prototype,J),u(bn.prototype,J),bn.prototype._recompute=function(e,t){var n;e.locales&&this._differs(t.localeOptions,t.localeOptions=(n=t.locales,[{value:null,label:X("teams / defaults / none","organizations")}].concat(l(n))))&&(e.localeOptions=!0)};function wn(){this.set({hasSlotContent:this.options.slots&&this.options.slots.default})}function Tn(e,t){var n,i={type:t.helpType},a=new nn({root:e.root,store:e.store,slots:{default:w()},data:i});return{c:function(){n=T("div"),a._fragment.c()},m:function(e,i){m(a._slotted.default,n),n.innerHTML=t.help,a._mount(e,i)},p:function(e,t){e.help&&(n.innerHTML=t.help);var i={};e.helpType&&(i.type=t.helpType),a._set(i)},d:function(e){a.destroy(e)}}}function Nn(e,t){var n,i,a=t.hasSlotContent&&(!t.disabled||"on"==t.disabledState)&&t.value&&!t.indeterminate&&xn(e);return{c:function(){a&&a.c(),n=k()},m:function(e,t){a&&a.i(e,t),p(e,n,t),i=!0},p:function(t,i){!i.hasSlotContent||i.disabled&&"on"!=i.disabledState||!i.value||i.indeterminate?a&&(S(),a.o((function(){a.d(1),a=null}))):(a||(a=xn(e)).c(),a.i(n.parentNode,n))},i:function(e,t){i||this.m(e,t)},o:f,d:function(e){a&&a.d(e),e&&h(n)}}}function kn(e,t){var n,i,a,s;return{c:function(){n=T("div"),(i=T("div")).className="disabled-msg svelte-1cqdlwk"},m:function(e,a){p(e,n,a),m(n,i),i.innerHTML=t.disabledMessage,s=!0},p:function(e,t){s&&!e.disabledMessage||(i.innerHTML=t.disabledMessage)},i:function(t,i){s||(e.root._intro&&(a&&a.invalidate(),e.root._aftercreate.push((function(){a||(a=j(e,n,yn,{},!0)),a.run(1)}))),this.m(t,i))},o:function(t){s&&(a||(a=j(e,n,yn,{},!1)),a.run(0,(function(){t(),a=null})),s=!1)},d:function(e){e&&(h(n),a&&a.abort())}}}function xn(e,t){var n,i,a,s=e._slotted.default;return{c:function(){(n=T("div")).className="switch-content svelte-1cqdlwk"},m:function(e,t){p(e,n,t),s&&m(n,s),a=!0},i:function(t,s){a||(e.root._intro&&(i&&i.invalidate(),e.root._aftercreate.push((function(){i||(i=j(e,n,yn,{},!0)),i.run(1)}))),this.m(t,s))},o:function(t){a&&(i||(i=j(e,n,yn,{},!1)),i.run(0,(function(){t(),i=null})),a=!1)},d:function(e){e&&h(n),s&&b(n,s),e&&i&&i.abort()}}}function Hn(e){var t=this;$(this,e),this._state=u({value:!1,help:"",helpType:!1,disabledMessage:"",disabledState:"auto",disabled:!1,highlight:!1,indeterminate:!1,hasSlotContent:!1},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,a,s,r,o,l,c,u,d,f,v,b,_,y=t.help&&Tn(e,t);function w(){e.set({value:r.checked,indeterminate:r.indeterminate})}function k(t){e.toggle()}var O=[kn,Nn],C=[];function A(e){return e.disabled&&e.disabledMessage?0:1}return b=A(t),_=C[b]=O[b](e,t),{c:function(){n=T("div"),y&&y.c(),i=N("\n\n    "),a=T("label"),s=T("button"),r=T("input"),l=N("\n            "),c=T("span"),d=N("\n        "),f=T("noscript"),v=N("\n\n    "),_.c(),x(r,"change",w),"value"in t&&"indeterminate"in t||e.root._beforecreate.push(w),r.className=o=(t.disabled&&"on"==t.disabledState?"disabled-force-checked":t.disabled&&"off"==t.disabledState?"disabled-force-unchecked":"")+" svelte-1cqdlwk",r.disabled=t.disabled,M(r,"type","checkbox"),c.className=u="slider "+(t.disabled?t.disabledState:"")+" svelte-1cqdlwk",x(s,"click",k),s.className="switch svelte-1cqdlwk",a.className="switch-outer svelte-1cqdlwk",U(a,"disabled",t.disabled),n.className="vis-option-type-switch svelte-1cqdlwk"},m:function(e,o){p(e,n,o),y&&y.m(n,null),m(n,i),m(n,a),m(a,s),m(s,r),r.checked=t.value,r.indeterminate=t.indeterminate,m(s,l),m(s,c),m(a,d),m(a,f),f.insertAdjacentHTML("afterend",t.label),m(n,v),C[b].i(n,null)},p:function(t,s){s.help?y?y.p(t,s):((y=Tn(e,s)).c(),y.m(n,i)):y&&(y.d(1),y=null),t.value&&(r.checked=s.value),t.indeterminate&&(r.indeterminate=s.indeterminate),(t.disabled||t.disabledState)&&o!==(o=(s.disabled&&"on"==s.disabledState?"disabled-force-checked":s.disabled&&"off"==s.disabledState?"disabled-force-unchecked":"")+" svelte-1cqdlwk")&&(r.className=o),t.disabled&&(r.disabled=s.disabled),(t.disabled||t.disabledState)&&u!==(u="slider "+(s.disabled?s.disabledState:"")+" svelte-1cqdlwk")&&(c.className=u),t.label&&(g(f),f.insertAdjacentHTML("afterend",s.label)),t.disabled&&U(a,"disabled",s.disabled);var l=b;(b=A(s))===l?C[b].p(t,s):(S(),_.o((function(){C[l].d(1),C[l]=null})),(_=C[b])||(_=C[b]=O[b](e,s)).c(),_.i(n,null))},d:function(e){e&&h(n),y&&y.d(),H(r,"change",w),H(s,"click",k),C[b].d()}}}(this,this._state),this.root._oncreate.push((function(){wn.call(t),t.fire("update",{changed:d({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}function Mn(e,t){var n,i=new nn({root:e.root,store:e.store,slots:{default:w()}});return{c:function(){n=T("div"),i._fragment.c()},m:function(e,a){m(i._slotted.default,n),n.innerHTML=t.help,i._mount(e,a)},p:function(e,t){e.help&&(n.innerHTML=t.help)},d:function(e){i.destroy(e)}}}function On(e,t){var n,i,a,s;return{c:function(){n=T("div"),(i=T("div")).className="disabled-msg svelte-1rmafvf"},m:function(e,a){p(e,n,a),m(n,i),i.innerHTML=t.disabledMessage,s=!0},p:function(e,t){s&&!e.disabledMessage||(i.innerHTML=t.disabledMessage)},i:function(t,i){s||(e.root._intro&&(a&&a.invalidate(),e.root._aftercreate.push((function(){a||(a=j(e,n,yn,{},!0)),a.run(1)}))),this.m(t,i))},o:function(t){s&&(a||(a=j(e,n,yn,{},!1)),a.run(0,(function(){t(),a=null})),s=!1)},d:function(e){e&&(h(n),a&&a.abort())}}}function Cn(e){$(this,e),this._state=u({value:!1,disabled:!1,faded:!1,compact:!1,indeterminate:!1,disabledMessage:"",help:!1},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,a,s,r,o,l,c,u,d=t.help&&Mn(e,t);function f(){e.set({value:s.checked,indeterminate:s.indeterminate})}var v=t.disabled&&t.disabledMessage&&On(e,t);return{c:function(){d&&d.c(),n=N("\n"),i=T("div"),a=T("label"),s=T("input"),r=T("span"),o=N("\n        "),l=N(t.label),u=N("\n    "),v&&v.c(),x(s,"change",f),"value"in t&&"indeterminate"in t||e.root._beforecreate.push(f),M(s,"type","checkbox"),s.disabled=t.disabled,s.className="svelte-1rmafvf",r.className="css-ui svelte-1rmafvf",a.className=c="checkbox "+(t.disabled?"disabled":"")+" "+(t.faded?"faded":"")+" svelte-1rmafvf",i.className="control-group vis-option-group vis-option-type-checkbox svelte-1rmafvf",U(i,"is-compact",t.compact)},m:function(e,c){d&&d.m(e,c),p(e,n,c),p(e,i,c),m(i,a),m(a,s),s.checked=t.value,s.indeterminate=t.indeterminate,m(a,r),m(a,o),m(a,l),m(i,u),v&&v.i(i,null)},p:function(t,r){r.help?d?d.p(t,r):((d=Mn(e,r)).c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null),t.value&&(s.checked=r.value),t.indeterminate&&(s.indeterminate=r.indeterminate),t.disabled&&(s.disabled=r.disabled),t.label&&O(l,r.label),(t.disabled||t.faded)&&c!==(c="checkbox "+(r.disabled?"disabled":"")+" "+(r.faded?"faded":"")+" svelte-1rmafvf")&&(a.className=c),r.disabled&&r.disabledMessage?(v?v.p(t,r):(v=On(e,r))&&v.c(),v.i(i,null)):v&&(S(),v.o((function(){v.d(1),v=null}))),t.compact&&U(i,"is-compact",r.compact)},d:function(e){d&&d.d(e),e&&(h(n),h(i)),H(s,"change",f),v&&v.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}u(Hn.prototype,J),u(Hn.prototype,{toggle:function(){var e=this.get(),t=e.disabled,n=e.indeterminate,i=e.value,a={value:!!n||!i,indeterminate:!1};t||(this.set(a),this.fire("change",a))}}),u(Cn.prototype,J);var An={deleteTeam:function(){try{return this.set({deleting:!0}),e=Ve.delete("/v3/teams/".concat(this.get().team.id)),t=function(){window.location="/"},n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}catch(e){return Promise.reject(e)}var e,t,n}};function Ln(e,t){var n,i,a,s,r=X("teams / delete / really"),o={},l={label:X("teams / delete / really-yes")};void 0!==t.deleteTeam2&&(l.value=t.deleteTeam2,o.value=!0);var c=new Cn({root:e.root,store:e.store,data:l,_bind:function(t,n){var i={};!o.value&&t.value&&(i.deleteTeam2=n.value),e._set(i),o={}}});e.root._beforecreate.push((function(){c._bind({value:1},c.get())}));var u=t.deleteTeam2&&Un(e,t);return{c:function(){n=T("p"),i=N("\n\n    "),c._fragment.c(),a=N("\n\n    "),u&&u.c(),s=k()},m:function(e,t){p(e,n,t),n.innerHTML=r,p(e,i,t),c._mount(e,t),p(e,a,t),u&&u.m(e,t),p(e,s,t)},p:function(n,i){t=i;var a={};!o.value&&n.deleteTeam2&&(a.value=t.deleteTeam2,o.value=void 0!==t.deleteTeam2),c._set(a),o={},t.deleteTeam2?u?u.p(n,t):((u=Un(e,t)).c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},d:function(e){e&&(h(n),h(i)),c.destroy(e),e&&h(a),u&&u.d(e),e&&h(s)}}}function Un(e,t){var n,i,a,s,r,o=X("teams / delete / action");function l(t){e.deleteTeam()}return{c:function(){n=T("button"),i=T("i"),s=N("  "),r=T("noscript"),i.className=a="fa "+(t.deleting?"fa-spin fa-circle-o-notch":"fa-times"),x(n,"click",l),n.className="btn btn-danger"},m:function(e,t){p(e,n,t),m(n,i),m(n,s),m(n,r),r.insertAdjacentHTML("afterend",o)},p:function(e,t){e.deleting&&a!==(a="fa "+(t.deleting?"fa-spin fa-circle-o-notch":"fa-times"))&&(i.className=a)},d:function(e){e&&h(n),H(n,"click",l)}}}function Pn(e){$(this,e),this._state=u({deleteTeam:!1,deleteTeam2:!1,deleting:!1},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,a,s=X("teams / delete / p"),r={},o=t.deleteTeam&&Ln(e,t),l={label:X("teams / delete / yes")};void 0!==t.deleteTeam&&(l.value=t.deleteTeam,r.value=!0);var c=new Hn({root:e.root,store:e.store,slots:{default:w()},data:l,_bind:function(t,n){var i={};!r.value&&t.value&&(i.deleteTeam=n.value),e._set(i),r={}}});return e.root._beforecreate.push((function(){c._bind({value:1},c.get())})),{c:function(){n=T("p"),i=N("\n\n"),o&&o.c(),a=k(),c._fragment.c()},m:function(e,t){p(e,n,t),n.innerHTML=s,p(e,i,t),o&&o.m(c._slotted.default,null),m(c._slotted.default,a),c._mount(e,t)},p:function(n,i){(t=i).deleteTeam?o?o.p(n,t):((o=Ln(e,t)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null);var s={};!r.value&&n.deleteTeam&&(s.value=t.deleteTeam,r.value=void 0!==t.deleteTeam),c._set(s),r={}},d:function(e){e&&(h(n),h(i)),o&&o.d(),c.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}function jn(e){$(this,e),this._state=u({disabled:!1,width:null,labelWidth:null,options:[],optgroups:[],valign:"middle",inline:!1,help:null,miniHelp:null},e.data),this._recompute({inline:1,width:1,labelWidth:1},this._state),this._intro=!0,this._fragment=function(e,t){var n={},i={width:t.controlWidth,class:"mt-1"};void 0!==t.value&&(i.value=t.value,n.value=!0),void 0!==t.disabled&&(i.disabled=t.disabled,n.disabled=!0),void 0!==t.options&&(i.options=t.options,n.options=!0),void 0!==t.optgroups&&(i.optgroups=t.optgroups,n.optgroups=!0);var a=new Oe({root:e.root,store:e.store,data:i,_bind:function(t,i){var a={};!n.value&&t.value&&(a.value=i.value),!n.disabled&&t.disabled&&(a.disabled=i.disabled),!n.options&&t.options&&(a.options=i.options),!n.optgroups&&t.optgroups&&(a.optgroups=i.optgroups),e._set(a),n={}}});e.root._beforecreate.push((function(){a._bind({value:1,disabled:1,options:1,optgroups:1},a.get())})),a.on("change",(function(t){e.fire("change",t)}));var s={type:"select",label:t.label,labelWidth:t.labelWidth,valign:t.valign,disabled:t.disabled,inline:t.inline,miniHelp:t.miniHelp,help:t.help,helpClass:"mt-1"},r=new cn({root:e.root,store:e.store,slots:{default:w()},data:s});return{c:function(){a._fragment.c(),r._fragment.c()},m:function(e,t){a._mount(r._slotted.default,null),r._mount(e,t)},p:function(e,i){t=i;var s={};e.controlWidth&&(s.width=t.controlWidth),!n.value&&e.value&&(s.value=t.value,n.value=void 0!==t.value),!n.disabled&&e.disabled&&(s.disabled=t.disabled,n.disabled=void 0!==t.disabled),!n.options&&e.options&&(s.options=t.options,n.options=void 0!==t.options),!n.optgroups&&e.optgroups&&(s.optgroups=t.optgroups,n.optgroups=void 0!==t.optgroups),a._set(s),n={};var o={};e.label&&(o.label=t.label),e.labelWidth&&(o.labelWidth=t.labelWidth),e.valign&&(o.valign=t.valign),e.disabled&&(o.disabled=t.disabled),e.inline&&(o.inline=t.inline),e.miniHelp&&(o.miniHelp=t.miniHelp),e.help&&(o.help=t.help),r._set(o)},d:function(e){a.destroy(),r.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}function En(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}u(Pn.prototype,J),u(Pn.prototype,An),u(jn.prototype,J),jn.prototype._recompute=function(e,t){var n,i,a;(e.inline||e.width)&&this._differs(t.controlWidth,t.controlWidth=(i=(n=t).inline,a=n.width,i?a||"auto":a))&&(e.controlWidth=!0),(e.inline||e.labelWidth)&&this._differs(t.labelWidth,t.labelWidth=function(e){var t=e.inline,n=e.labelWidth;return t?n||"auto":n}(t))&&(e.labelWidth=!0)};var Sn={edit:function(e){this.get().editId===e?(this.set({editId:!1}),this.update(e)):this.set({editId:e})},addProduct:function(){try{var e=this,t=e.get(),n=t.team,i=t.addProduct;return e.set({addingProduct:!0}),En(Ve("/v3/teams/".concat(n.id,"/products"),{method:"post",payload:{productId:i}}),(function(){return En(Ve("/v3/teams/".concat(n.id,"/products")),(function(t){e.set({products:t.list,addingProduct:!1})}))}))}catch(e){return Promise.reject(e)}},remove:function(e){try{var t=this;if(!window.confirm("Are you sure you want to remove this product?"))return;return En(Ve("/v3/teams/".concat(t.get().team.id,"/products/").concat(e.id),{method:"delete"}),(function(){var n=t.get().products;n=n.filter((function(t){return t.id!==e.id})),t.set({products:n})}))}catch(e){return Promise.reject(e)}},update:function(e){try{var t=this,n=t.get(),i=n.updating,a=n.products.filter((function(t){return t.id===e}))[0];return i[a.id]=!0,t.set({updating:i}),En(Ve("/v3/teams/".concat(t.get().team.id,"/products/").concat(a.id),{method:"put",payload:{expires:a.expires}}),(function(){(i=t.get().updating)[a.id]=!1,t.set({updating:i})}))}catch(e){return Promise.reject(e)}}};function In(){var e=this,t=this.get();Ve("/v3/teams/".concat(t.team.id,"/products")).then((function(t){return e.set({loadingTeamProducts:!1,products:t.list})})),Ve("/v3/products").then((function(t){return e.set({loadingAllProducts:!1,allProducts:t.list})}))}function Dn(e){var t=this._svelte,n=t.component,i=t.ctx;n.remove(i.product)}function qn(e){var t=this._svelte,n=t.component,i=t.ctx;n.edit(i.product.id)}function Rn(e){var t=this._svelte,n=t.component,i=t.ctx;n.edit(i.product.id)}function Wn(e,t,n){var i=Object.create(e);return i.product=t[n],i.each_value=t,i.i=n,i}function zn(e,t){var n;function i(e){return e.loadingTeamProducts||e.loadingAllProducts?Fn:Bn}var a=i(t),s=a(e,t);return{c:function(){s.c(),n=k()},m:function(e,t){s.m(e,t),p(e,n,t)},p:function(t,r){a===(a=i(r))&&s?s.p(t,r):(s.d(1),(s=a(e,r)).c(),s.m(n.parentNode,n))},d:function(e){s.d(e),e&&h(n)}}}function Bn(e,t){var n,i,a=t.products.length>0&&$n(e,t),s=t.addableProducts.length&&Qn(e,t);return{c:function(){a&&a.c(),n=N("\n\n\n"),s&&s.c(),i=k()},m:function(e,t){a&&a.m(e,t),p(e,n,t),s&&s.m(e,t),p(e,i,t)},p:function(t,r){r.products.length>0?a?a.p(t,r):((a=$n(e,r)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),r.addableProducts.length?s?s.p(t,r):((s=Qn(e,r)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d:function(e){a&&a.d(e),e&&h(n),s&&s.d(e),e&&h(i)}}}function Fn(e,t){var n,i,a,s,r=X("teams / products / loading");return{c:function(){n=T("p"),i=T("i"),a=N("   "),s=T("noscript"),i.className="fa fa-spin fa-circle-o-notch"},m:function(e,t){p(e,n,t),m(n,i),m(n,a),m(n,s),s.insertAdjacentHTML("afterend",r)},p:c,d:function(e){e&&h(n)}}}function $n(e,t){for(var n,i=t.products,a=[],s=0;s<i.length;s+=1)a[s]=Xn(e,Wn(t,i,s));var r={columnHeaders:t.productHeaders},o=new _e({root:e.root,store:e.store,slots:{default:w()},data:r});return{c:function(){for(var e=0;e<a.length;e+=1)a[e].c();n=k(),o._fragment.c()},m:function(e,t){for(var i=0;i<a.length;i+=1)a[i].m(o._slotted.default,null);m(o._slotted.default,n),o._mount(e,t)},p:function(t,s){if(t.editId||t.products||t.updating){i=s.products;for(var r=0;r<i.length;r+=1){var l=Wn(s,i,r);a[r]?a[r].p(t,l):(a[r]=Xn(e,l),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}var c={};t.productHeaders&&(c.columnHeaders=s.productHeaders),o._set(c)},d:function(e){y(a,e),o.destroy(e)}}}function Vn(e,t){var n,i=t.product.expires||X("teams / products / never");return{c:function(){n=N(i)},m:function(e,t){p(e,n,t)},p:function(e,t){e.products&&i!==(i=t.product.expires||X("teams / products / never"))&&O(n,i)},d:function(e){e&&h(n)}}}function Gn(e,t){var n,i=!1;function a(){i=!0,t.each_value[t.i].expires=n.value,e.set({products:t.products}),i=!1}return{c:function(){x(n=T("input"),"input",a),M(n,"type","text")},m:function(e,i){p(e,n,i),n.value=t.product.expires},p:function(e,a){t=a,!i&&e.products&&(n.value=t.product.expires)},d:function(e){e&&h(n),H(n,"input",a)}}}function Jn(e,t){var n,i,a,s,r,o,l,c,u,d=X("teams / edit"),f=X("teams / remove");return{c:function(){n=T("button"),i=T("i"),a=N("  "),s=N(d),r=N("\n\n            "),o=T("button"),l=T("i"),c=N("  "),u=N(f),i.className="fa fa-edit",n._svelte={component:e,ctx:t},x(n,"click",qn),n.className="btn",l.className="fa fa-times",o._svelte={component:e,ctx:t},x(o,"click",Dn),o.className="btn"},m:function(e,t){p(e,n,t),m(n,i),m(n,a),m(n,s),p(e,r,t),p(e,o,t),m(o,l),m(o,c),m(o,u)},p:function(e,i){t=i,n._svelte.ctx=t,o._svelte.ctx=t},d:function(e){e&&h(n),H(n,"click",qn),e&&(h(r),h(o)),H(o,"click",Dn)}}}function Zn(e,t){var n,i,a,s,r=X("teams / save");return{c:function(){n=T("button"),i=T("i"),a=N("  "),s=N(r),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(e,t){p(e,n,t),m(n,i),m(n,a),m(n,s)},p:c,d:function(e){e&&h(n)}}}function Kn(e,t){var n,i,a,s,r=X("teams / save");return{c:function(){n=T("button"),i=T("i"),a=N("  "),s=N(r),i.className="fa fa-check",n._svelte={component:e,ctx:t},x(n,"click",Rn),n.className="btn btn-primary"},m:function(e,t){p(e,n,t),m(n,i),m(n,a),m(n,s)},p:function(e,i){t=i,n._svelte.ctx=t},d:function(e){e&&h(n),H(n,"click",Rn)}}}function Xn(e,t){var n,i,a,s,r,o,l,c,u,d,f=t.product.id,v=t.product.name;function g(e){return e.editId===e.product.id?Gn:Vn}var b=g(t),_=b(e,t);function y(e){return e.editId===e.product.id?Kn:e.updating[e.product.id]?Zn:Jn}var w=y(t),k=w(e,t);return{c:function(){n=T("tr"),i=T("td"),a=N(f),s=N("\n        "),r=T("td"),o=N(v),l=N("\n        "),c=T("td"),_.c(),u=N("\n        "),d=T("td"),k.c()},m:function(e,t){p(e,n,t),m(n,i),m(i,a),m(n,s),m(n,r),m(r,o),m(n,l),m(n,c),_.m(c,null),m(n,u),m(n,d),k.m(d,null)},p:function(t,n){t.products&&f!==(f=n.product.id)&&O(a,f),t.products&&v!==(v=n.product.name)&&O(o,v),b===(b=g(n))&&_?_.p(t,n):(_.d(1),(_=b(e,n)).c(),_.m(c,null)),w===(w=y(n))&&k?k.p(t,n):(k.d(1),(k=w(e,n)).c(),k.m(d,null))},d:function(e){e&&h(n),_.d(),k.d()}}}function Qn(e,t){var n,i,a,s={},r={label:X("teams / products / add-product"),options:t.addableProducts};void 0!==t.addProduct&&(r.value=t.addProduct,s.value=!0);var o=new jn({root:e.root,store:e.store,data:r,_bind:function(t,n){var i={};!s.value&&t.value&&(i.addProduct=n.value),e._set(i),s={}}});e.root._beforecreate.push((function(){o._bind({value:1},o.get())}));var l=t.addProduct&&Yn(e,t);return{c:function(){n=T("div"),i=T("div"),o._fragment.c(),a=N("\n\n    "),l&&l.c(),C(i,"display","block"),C(n,"display","flex")},m:function(e,t){p(e,n,t),m(n,i),o._mount(i,null),m(n,a),l&&l.m(n,null)},p:function(i,a){t=a;var r={};i.addableProducts&&(r.options=t.addableProducts),!s.value&&i.addProduct&&(r.value=t.addProduct,s.value=void 0!==t.addProduct),o._set(r),s={},t.addProduct?l?l.p(i,t):((l=Yn(e,t)).c(),l.m(n,null)):l&&(l.d(1),l=null)},d:function(e){e&&h(n),o.destroy(),l&&l.d()}}}function Yn(e,t){var n,i,a,s,r,o,l=X("teams / products / add");function c(t){e.addProduct()}return{c:function(){n=T("div"),i=T("button"),a=T("i"),r=N("\n            "),o=T("noscript"),a.className=s="fa "+(t.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"),x(i,"click",c),i.className="btn btn-primary",C(i,"margin-left","10px"),C(n,"display","block")},m:function(e,t){p(e,n,t),m(n,i),m(i,a),m(i,r),m(i,o),o.insertAdjacentHTML("afterend",l)},p:function(e,t){e.addingProduct&&s!==(s="fa "+(t.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"))&&(a.className=s)},d:function(e){e&&h(n),H(i,"click",c)}}}function ei(e){var t,n,i,a,s,r,o,l=this;$(this,e),this._state=u({productHeaders:[{title:X("teams / products / id"),width:"10%"},{title:X("teams / products / name"),width:"30%"},{title:X("teams / products / expires"),width:"30%"},{title:X("teams / products / actions"),width:"30%"}],editId:!1,updating:{},loadingTeamProducts:!0,loadingAllProducts:!0},e.data),this._recompute({products:1,allProducts:1},this._state),this._intro=!0,this._fragment=(t=this,n=this._state,r=X("teams / products / p"),o=n.isAdmin&&zn(t,n),{c:function(){i=T("p"),a=N("\n\n"),o&&o.c(),s=k(),C(i,"margin-bottom","10px")},m:function(e,t){p(e,i,t),i.innerHTML=r,p(e,a,t),o&&o.m(e,t),p(e,s,t)},p:function(e,n){n.isAdmin?o?o.p(e,n):((o=zn(t,n)).c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d:function(e){e&&(h(i),h(a)),o&&o.d(e),e&&h(s)}}),this.root._oncreate.push((function(){In.call(l),l.fire("update",{changed:d({},l._state),current:l._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}u(ei.prototype,J),u(ei.prototype,Sn),ei.prototype._recompute=function(e,t){var n,i,a;(e.products||e.allProducts)&&this._differs(t.addableProducts,t.addableProducts=(i=(n=t).products,(a=n.allProducts)&&i?a.filter((function(e){return!i.filter((function(t){return t.id===e.id})).length})).map((function(e){return{value:e.id,label:e.name}})):[]))&&(e.addableProducts=!0)};function ti(e){return"function"==typeof e?e():e}function ni(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var ii={},ai=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,a=void 0,s=void 0,r=[];return function(){var l=ti(t),c=(new Date).getTime(),u=!i||c-i>l;i=c;for(var d=arguments.length,f=Array(d),m=0;m<d;m++)f[m]=arguments[m];if(u&&n.leading)return n.accumulate?Promise.resolve(e.call(this,[f])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(f)));if(a?clearTimeout(s):a=ni(),r.push(f),s=setTimeout(o.bind(this),l),n.accumulate){var p=r.length-1;return a.promise.then((function(e){return e[p]}))}return a.promise};function o(){var t=a;clearTimeout(s),Promise.resolve(n.accumulate?e.call(this,r):e.apply(this,r[r.length-1])).then(t.resolve,t.reject),r=[],a=null}}((function(e,t,n){var i=JSON.stringify({team:e,settings:t,defaultTheme:n});return ii[e.id]===i?(ii[e.id]=i,new Promise((function(e,t){e()}))):(ii[e.id]=i,Je("/v3/teams/".concat(e.id),{payload:{name:e.name,defaultTheme:n,settings:t}}))}),500);function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ri(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?si(Object(i),!0).forEach((function(n){e(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):si(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var oi,li={id:"settings",title:X("teams / tab / settings"),icon:"fa fa-gears",group:X("teams / group / users"),order:10,h1:X("teams / defaults / h1"),ui:bn,data:{}},ci={id:"members",title:X("teams / tab / members"),icon:"im im-users",group:X("teams / group / users"),order:20,h1:X("teams / h1"),ui:Jt},ui=!1;var di={onTabChange:function(e,t){var n=this,i=e.team,a=e.settings,s=e.defaultTheme;ai(i,a,s).then((function(){n.set({team:i,settings:a,defaultTheme:s}),t&&t.saved&&t.saved()}))},setTab:function(e){var t=this,n=this.get().groups,i=!1;n.forEach((function(n){n.tabs.forEach((function(n){n.id===e&&(t.refs.navTabs.activateTab(n),i=!0)}))})),i||this.set({activeTab:li})}};function fi(){var e=this;oi=this;var t=window.location.pathname.split("/").slice(-1)[0]||"settings";this.setTab(t),window.addEventListener("popstate",(function(t){var n=t.state;ui=!0,setTimeout((function(){return ui=!1}),100),e.setTab(n.id)}))}function mi(e){var t=e.changed,n=e.current;e.previous;t.activeTab&&n.activeTab&&!ui&&window.history.pushState({id:n.activeTab.id},"","/team/".concat(n.team.id,"/").concat(n.activeTab.id))}function pi(e,t){var n,i=t.activeTab.h1;return{c:function(){(n=T("h2")).className="svelte-kailtr"},m:function(e,t){p(e,n,t),n.innerHTML=i},p:function(e,t){e.activeTab&&i!==(i=t.activeTab.h1)&&(n.innerHTML=i)},d:function(e){e&&h(n)}}}function hi(e){var t=this;$(this,e),this.refs={},this._state=u({allTabs:[li,ci,{id:"delete",title:X("teams / tab / deleteTeam"),icon:"fa fa-times",group:X("teams / group / advanced"),order:80,h1:X("teams / delete / h1"),ui:Pn,ownerOnly:!0},{id:"products",title:X("teams / tab / adminProducts"),icon:"fa fa-list-alt",group:X("teams / group / internal"),order:90,h1:X("teams / products / h1"),ui:ei,adminOnly:!0}],pluginTabs:[],activeTab:null,ui:bn,team:{name:""},settings:{},users:[],userId:null,visualizations:[],visualizationsArchive:[]},e.data),this._recompute({team:1,activeTab:1,allTabs:1,pluginTabs:1,isAdmin:1,role:1,tabs:1,users:1,userId:1,settings:1,defaultTheme:1,themes:1,folders:1,locales:1,visualizations:1,visualizationsArchive:1},this._state),this._intro=!0,this._handlers.state=[mi],mi.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,a,s,r,o,l,c,u,d,f,v,g,b,_,y,k,x,H,A,L,U,P,j,E,S,I,D=X("account / my-teams"),q=X("nav / team / charts"),R={};document.title=n=t.pageTitle+" | Datawrapper";var W=t.activeTab&&t.activeTab.h1&&pi(e,t),z={basePath:"team/"+t.team.id,groups:t.groups};void 0!==t.activeTab&&(z.activeTab=t.activeTab,R.activeTab=!0);var B=new le({root:e.root,store:e.store,slots:{default:w(),belowMenu:w(),aboveContent:w()},data:z,_bind:function(t,n){var i={};!R.activeTab&&t.activeTab&&(i.activeTab=n.activeTab),e._set(i),R={}}});return e.root._beforecreate.push((function(){B._bind({activeTab:1},B.get())})),e.refs.navTabs=B,{c:function(){i=N("\n\n"),a=T("div"),s=T("div"),r=T("h1"),o=N(t.title),l=N("\n\n"),c=T("div"),u=T("div"),d=T("div"),W&&W.c(),f=N("\n            "),v=T("div"),g=T("hr"),b=N("\n                "),_=T("ul"),y=T("li"),k=T("a"),x=T("i"),H=N(" "),A=N(D),L=N("\n                    "),U=T("li"),P=T("a"),j=T("i"),E=N(" "),S=N(q),B._fragment.c(),r.className="title",C(r,"margin-bottom","18px"),s.className="span12 admin svelte-kailtr",a.className="row",M(d,"slot","aboveContent"),x.className="fa fa-fw fa-arrow-left",k.href="/account/teams",y.className="svelte-kailtr",j.className="fa fa-fw fa-arrow-left",P.href=I="/team/"+t.team.id,U.className="svelte-kailtr",_.className="unstyled svelte-kailtr",M(v,"slot","belowMenu"),u.className="visconfig",c.className="settings-section dw-create-visualize chart-editor chart-editor-web admin svelte-kailtr"},m:function(e,t){p(e,i,t),p(e,a,t),m(a,s),m(s,r),m(r,o),p(e,l,t),p(e,c,t),m(c,u),m(B._slotted.aboveContent,d),W&&W.m(d,null),m(B._slotted.default,f),m(B._slotted.belowMenu,v),m(v,g),m(v,b),m(v,_),m(_,y),m(y,k),m(k,x),m(k,H),m(k,A),m(_,L),m(_,U),m(U,P),m(P,j),m(P,E),m(P,S),B._mount(u,null)},p:function(i,a){t=a,i.pageTitle&&n!==(n=t.pageTitle+" | Datawrapper")&&(document.title=n),i.title&&O(o,t.title),t.activeTab&&t.activeTab.h1?W?W.p(i,t):((W=pi(e,t)).c(),W.m(d,null)):W&&(W.d(1),W=null),i.team&&I!==(I="/team/"+t.team.id)&&(P.href=I);var s={};i.team&&(s.basePath="team/"+t.team.id),i.groups&&(s.groups=t.groups),!R.activeTab&&i.activeTab&&(s.activeTab=t.activeTab,R.activeTab=void 0!==t.activeTab),B._set(s),R={}},d:function(t){t&&(h(i),h(a),h(l),h(c)),W&&W.d(),B.destroy(),e.refs.navTabs===B&&(e.refs.navTabs=null)}}}(this,this._state),this.root._oncreate.push((function(){fi.call(t),t.fire("update",{changed:d({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),B(this))}function vi(e,t){this._handlers={},this._dependents=[],this._computed=q(),this._sortedComputedProperties=[],this._state=u({},e),this._differs=t&&t.immutable?W:R}return u(hi.prototype,J),u(hi.prototype,di),hi.prototype._recompute=function(e,t){var n,i,a;(e.team||e.activeTab)&&this._differs(t.pageTitle,t.pageTitle=(i=(n=t).team,a=n.activeTab,"".concat(a?a.h1:""," | ").concat(Q(i.name,17,8))))&&(e.pageTitle=!0),e.team&&this._differs(t.title,t.title=function(e){var t=e.team;return"".concat(Q(t.name,17,8)," » ").concat(X("nav / team / settings"))}(t))&&(e.title=!0),(e.allTabs||e.team||e.pluginTabs||e.isAdmin||e.role)&&this._differs(t.tabs,t.tabs=function(e){var t=e.allTabs,n=e.team,i=e.pluginTabs,a=e.isAdmin,s=e.role;return[].concat(t,i).filter((function(e){return!(e.adminOnly&&!a)&&!(e.ownerOnly&&!a&&"owner"!==s)})).map((function(e){return ri(ri({},e),{},{h1:e.h1.replace("%team%",n.name)})}))}(t))&&(e.tabs=!0),(e.tabs||e.isAdmin||e.role||e.team||e.users||e.userId||e.settings||e.defaultTheme||e.themes||e.folders||e.locales||e.visualizations||e.visualizationsArchive)&&this._differs(t.groups,t.groups=function(e){var t=e.tabs,n=e.isAdmin,i=e.role,a=e.team,s=e.users,r=e.userId,o=e.settings,l=e.defaultTheme,c=e.themes,u=e.folders,d=e.locales,f=e.visualizations,m=e.visualizationsArchive,p=[];return t.forEach((function(e){e.data=ri({isAdmin:n,isTeamOwner:"owner"===i,team:a,users:s,userId:r,settings:o,defaultTheme:l,themes:c,folders:u,locales:d,visualizations:f,visualizationsArchive:m},e.data),e.onchange=function(e,t){oi.onTabChange(e,t)},function(e,t){var n=e.filter((function(e){return e.title===t}));return n.length?n[0]:(e.push({title:t,tabs:[]}),e[e.length-1])}(p,e.group).tabs.push(e)})),p.forEach((function(e){e.tabs.sort((function(e,t){return e.order-t.order}))})),p}(t))&&(e.groups=!0)},u(vi.prototype,{_add:function(e,t){this._dependents.push({component:e,props:t})},_init:function(e){for(var t={},n=0;n<e.length;n+=1){var i=e[n];t["$"+i]=this._state[i]}return t},_remove:function(e){for(var t=this._dependents.length;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set:function(e,t){var n=this,i=this._state;this._state=u(u({},i),e);for(var a=0;a<this._sortedComputedProperties.length;a+=1)this._sortedComputedProperties[a].update(this._state,t);this.fire("state",{changed:t,previous:i,current:this._state}),this._dependents.filter((function(e){for(var i={},a=!1,s=0;s<e.props.length;s+=1){var r=e.props[s];r in t&&(i["$"+r]=n._state[r],a=!0)}if(a)return e.component._stage(i),!0})).forEach((function(e){e.component.set({})})),this.fire("update",{changed:t,previous:i,current:this._state})},_sortComputedProperties:function(){var e,t=this._computed,n=this._sortedComputedProperties=[],i=q();function a(s){var r=t[s];r&&(r.deps.forEach((function(t){if(t===e)throw new Error("Cyclical dependency detected between ".concat(t," <-> ").concat(s));a(t)})),i[s]||(i[s]=!0,n.push(r)))}for(var s in this._computed)a(e=s)},compute:function(e,t,n){var i,a=this,s={deps:t,update:function(s,r,o){var l=t.map((function(e){return e in r&&(o=!0),s[e]}));if(o){var c=n.apply(null,l);a._differs(c,i)&&(i=c,r[e]=!0,s[e]=i)}}};this._computed[e]=s,this._sortComputedProperties();var r=u({},this._state),o={};s.update(r,o,!0),this._set(r,o)},fire:z,get:F,on:V,set:function(e){var t=this._state,n=this._changed={},i=!1;for(var a in e){if(this._computed[a])throw new Error("'".concat(a,"' is a read-only computed property"));this._differs(e[a],t[a])&&(n[a]=i=!0)}i&&this._set(e,n)}}),{App:hi,store:new vi({})}}));
