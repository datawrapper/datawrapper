!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/team-settings",t):(e=e||self)["team-settings"]=t()}(this,(function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var n=e(t((function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}))),i=t((function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),s=e(i),a=t((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.default=e.exports,e.exports.__esModule=!0}));e(a);var r=t((function(e){e.exports=function(e){if(Array.isArray(e))return a(e)},e.exports.default=e.exports,e.exports.__esModule=!0}));e(r);var o=t((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0}));e(o);var l=t((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0}));e(l);var c=t((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}));e(c);var u=e(t((function(e){e.exports=function(e){return r(e)||o(e)||l(e)||c()},e.exports.default=e.exports,e.exports.__esModule=!0})));function d(){}function f(e,t){for(var n in t)e[n]=t[n];return e}function m(e,t){for(var n in t)e[n]=1;return e}function p(e){e()}function h(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n)}function g(e){e.parentNode.removeChild(e)}function b(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function _(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function y(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function w(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}function x(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function T(){return document.createDocumentFragment()}function N(e){return document.createElement(e)}function k(e){return document.createTextNode(e)}function M(){return document.createComment("")}function H(e,t,n,i){e.addEventListener(t,n,i)}function O(e,t,n,i){e.removeEventListener(t,n,i)}function C(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function A(e,t){e.data=""+t}function L(e,t,n){e.style.setProperty(t,n)}function E(e,t){for(var n=0;n<e.options.length;n+=1){var i=e.options[n];if(i.__value===t)return void(i.selected=!0)}}function P(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function U(e,t,n){e.classList[n?"add":"remove"](t)}function j(e){return e}function I(e,t,n,i,s){var a,r,o,l=n.call(e,t,i),c=!1;return{t:s?0:1,running:!1,program:null,pending:null,run:function(e,t){var n=this;"function"==typeof l?D.wait().then((function(){l=l(),n._run(e,t)})):this._run(e,t)},_run:function(e,n){a=l.duration||300,r=l.easing||j;var i={start:window.performance.now()+(l.delay||0),b:e,callback:n||d};s&&!c&&(l.css&&l.delay&&(o=t.style.cssText,t.style.cssText+=l.css(0,1)),l.tick&&l.tick(0,1),c=!0),e||(i.group=S.current,S.current.remaining+=1),l.delay?this.pending=i:this.start(i),this.running||(this.running=!0,D.add(this))},start:function(n){if(e.fire("".concat(n.b?"intro":"outro",".start"),{node:t}),n.a=this.t,n.delta=n.b-n.a,n.duration=a*Math.abs(n.b-n.a),n.end=n.start+n.duration,l.css){l.delay&&(t.style.cssText=o);var i=function(e,t,n){for(var i=e.a,s=e.b,a=e.delta,r=16.666/e.duration,o="{\n",l=0;l<=1;l+=r){var c=i+a*t(l);o+=100*l+"%{".concat(n(c,1-c),"}\n")}return o+"100% {".concat(n(s,1-s),"}\n}")}(n,r,l.css);D.addRule(i,n.name="__svelte_"+function(e){for(var t=5381,n=e.length;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(i)),t.style.animation=(t.style.animation||"").split(", ").filter((function(e){return e&&(n.delta<0||!/__svelte/.test(e))})).concat("".concat(n.name," ").concat(n.duration,"ms linear 1 forwards")).join(", ")}this.program=n,this.pending=null},update:function(e){var t=this.program;if(t){var n=e-t.start;this.t=t.a+t.delta*r(n/t.duration),l.tick&&l.tick(this.t,1-this.t)}},done:function(){var n=this.program;this.t=n.b,l.tick&&l.tick(this.t,1-this.t),e.fire("".concat(n.b?"intro":"outro",".end"),{node:t}),n.b||n.invalidated?l.css&&D.deleteRule(t,n.name):(n.group.callbacks.push((function(){n.callback(),l.css&&D.deleteRule(t,n.name)})),0==--n.group.remaining&&n.group.callbacks.forEach(p)),this.running=!!this.pending},abort:function(e){this.program&&(e&&l.tick&&l.tick(1,0),l.css&&D.deleteRule(t,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate:function(){this.program&&(this.program.invalidated=!0)}}}var S={};function q(){S.current={remaining:0,callbacks:[]}}var D={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add:function(e){this.transitions.push(e),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(e,t){if(!this.stylesheet){var n=N("style");document.head.appendChild(n),D.stylesheet=n.sheet}this.activeRules[t]||(this.activeRules[t]=!0,this.stylesheet.insertRule("@keyframes ".concat(t," ").concat(e),this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var e=window.performance.now(),t=this.transitions.length;t--;){var n=this.transitions[t];n.program&&e>=n.program.end&&n.done(),n.pending&&e>=n.pending.start&&n.start(n.pending),n.running?(n.update(e),this.running=!0):n.pending||this.transitions.splice(t,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(var i=this.stylesheet.cssRules.length;i--;)this.stylesheet.deleteRule(i);this.activeRules={}}},deleteRule:function(e,t){e.style.animation=e.style.animation.split(", ").filter((function(e){return e&&-1===e.indexOf(t)})).join(", ")},wait:function(){return D.promise||(D.promise=Promise.resolve(),D.promise.then((function(){D.promise=null}))),D.promise}};function R(e,t){var i,s=t.token={};function a(e,i,a,r){if(t.token===s){t.resolved=a&&n({},a,r);var o=f(f({},t.ctx),t.resolved),l=e&&(t.current=e)(t.component,o);t.block&&(t.blocks?t.blocks.forEach((function(e,n){n!==i&&e&&(q(),e.o((function(){e.d(1),t.blocks[n]=null})))})):t.block.d(1),l.c(),l[l.i?"i":"m"](t.mount(),t.anchor),t.component.root.set({})),t.block=l,t.blocks&&(t.blocks[i]=l)}}if((i=e)&&"function"==typeof i.then){if(e.then((function(e){a(t.then,1,t.value,e)}),(function(e){a(t.catch,2,t.error,e)})),t.current!==t.pending)return a(t.pending,0),!0}else{if(t.current!==t.then)return a(t.then,1,t.value,e),!0;t.resolved=n({},t.value,e)}}function W(){return Object.create(null)}function z(e,t){return e!=e?t==t:e!==t||e&&"object"===s(e)||"function"==typeof e}function B(e,t){return e!=e?t==t:e!==t}function F(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var s=n[i];if(!s.__calling)try{s.__calling=!0,s.call(this,t)}finally{s.__calling=!1}}}function $(e){e._lock=!0,Z(e._beforecreate),Z(e._oncreate),Z(e._aftercreate),e._lock=!1}function V(){return this._state}function G(e,t){e._handlers=W(),e._slots=W(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function J(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function Z(e){for(;e&&e.length;)e.shift()()}var X={destroy:function(e){this.destroy=d,this.fire("destroy"),this.set=d,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:V,fire:F,on:J,set:function(e){this._set(f({},e)),this.root._lock||$(this.root)},_recompute:d,_set:function(e){var t=this._state,n={},i=!1;for(var s in e=f(this._staged,e),this._staged={},e)this._differs(e[s],t[s])&&(n[s]=i=!0);i&&(this._state=f(f({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))},_stage:function(e){f(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:z},K={};function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(K[e]=window.__dw.vis.meta.locale||{}):K[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function Y(e){var t=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(e=e.trim(),K[n]||Q(n),!K[n][e])return"MISSING:"+e;var i=K[n][e];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(e,n){return n=2+Number(n),void 0===t[n]?e:t[n]}))),i}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"!=typeof e||e.length<t+n+3?e:e.substr(0,t).trim()+"…"+e.substr(e.length-n).trim()}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,i){var s=document.createElement("script");s.src=e,s.onload=function(){t&&t(),n()},s.onerror=i,document.body.appendChild(s)}))}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof e&&(e={src:e}),e.parentElement&&"function"==typeof e.parentElement.appendChild||(e.parentElement=document.head),new Promise((function(n,i){var s=document.createElement("link");s.rel="stylesheet",s.href=e.src,s.onload=function(){t&&t(),n()},s.onerror=i,e.parentElement.appendChild(s)}))}var ie={activateTab:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.module)return n&&n.preventDefault(),void Promise.all([ne(e.css),te(e.js||e.src)]).then((function(){require([e.module],(function(n){e.ui=n.App,e.module=null;var i=t.get().groups;t.set({groups:i,activeTab:e})}))}));e.ui&&(n&&n.preventDefault(),this.set({activeTab:e}))},onTabChange:function(e,t){e.onchange&&e.onchange(t,this.refs.currentTabUi)}};function se(e){var t=this._svelte,n=t.component,i=t.ctx;n.activateTab(i.tab,e)}function ae(e,t,n){var i=Object.create(e);return i.tab=t[n],i}function re(e,t,n){var i=Object.create(e);return i.group=t[n],i}function oe(e,t){var n,i,s,a,r,o,l,c=t.tab.title;return{c:function(){n=N("li"),i=N("a"),s=N("i"),r=k("   "),o=k(c),s.className=a=t.tab.icon+" svelte-5we305",i._svelte={component:e,ctx:t},H(i,"click",se),i.href=l=t.tab.url||"/".concat(t.basePath,"/").concat(t.tab.id),i.className="svelte-5we305",n.className="svelte-5we305",U(n,"active",t.activeTab&&t.activeTab.id===t.tab.id)},m:function(e,t){v(e,n,t),h(n,i),h(i,s),h(i,r),h(i,o)},p:function(e,r){t=r,e.groups&&a!==(a=t.tab.icon+" svelte-5we305")&&(s.className=a),e.groups&&c!==(c=t.tab.title)&&A(o,c),i._svelte.ctx=t,(e.groups||e.basePath)&&l!==(l=t.tab.url||"/".concat(t.basePath,"/").concat(t.tab.id))&&(i.href=l),(e.activeTab||e.groups)&&U(n,"active",t.activeTab&&t.activeTab.id===t.tab.id)},d:function(e){e&&g(n),O(i,"click",se)}}}function le(e,t){for(var n,i,s,a,r=t.group.title,o=t.group.tabs,l=[],c=0;c<o.length;c+=1)l[c]=oe(e,ae(t,o,c));return{c:function(){n=N("div"),i=k(r),s=k("\n\n        "),a=N("ul");for(var e=0;e<l.length;e+=1)l[e].c();n.className="group svelte-5we305",a.className="nav nav-stacked nav-tabs"},m:function(e,t){v(e,n,t),h(n,i),v(e,s,t),v(e,a,t);for(var r=0;r<l.length;r+=1)l[r].m(a,null)},p:function(t,n){if(t.groups&&r!==(r=n.group.title)&&A(i,r),t.activeTab||t.groups||t.basePath){o=n.group.tabs;for(var s=0;s<o.length;s+=1){var c=ae(n,o,s);l[s]?l[s].p(t,c):(l[s]=oe(e,c),l[s].c(),l[s].m(a,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=o.length}},d:function(e){e&&(g(n),g(s),g(a)),x(l,e)}}}function ce(e,t){var n,i,s,a,r,o,l=e._slotted.aboveContent,c=e._slotted.belowContent,u=[t.activeTab.data],d=t.activeTab.ui;function m(t){for(var n={},i=0;i<u.length;i+=1)n=f(n,u[i]);return{root:e.root,store:e.store,data:n}}if(d)var p=new d(m());function b(n){e.onTabChange(t.activeTab,n)}return p&&p.on("change",b),{c:function(){n=N("div"),s=k("\n        "),p&&p._fragment.c(),a=k("\n        "),n.className=o="span10 account-page-content tab-"+t.activeTab.id+" svelte-5we305"},m:function(t,o){v(t,n,o),l&&(h(n,l),h(n,i||(i=M()))),h(n,s),p&&(p._mount(n,null),e.refs.currentTabUi=p),h(n,a),c&&(h(n,r||(r=M())),h(n,c))},p:function(i,s){t=s;var r=i.activeTab?function(e,t){for(var n={},i={},s={},a=e.length;a--;){var r=e[a],o=t[a];if(o){for(var l in r)l in o||(i[l]=1);for(var l in o)s[l]||(n[l]=o[l],s[l]=1);e[a]=o}else for(var l in r)s[l]=1}for(var l in i)l in n||(n[l]=void 0);return n}(u,[t.activeTab.data]):{};d!==(d=t.activeTab.ui)?(p&&p.destroy(),d?((p=new d(m()))._fragment.c(),p._mount(n,a),p.on("change",b),e.refs.currentTabUi=p):(p=null,e.refs.currentTabUi===p&&(e.refs.currentTabUi=null))):d&&p._set(r),i.activeTab&&o!==(o="span10 account-page-content tab-"+t.activeTab.id+" svelte-5we305")&&(n.className=o)},d:function(e){e&&g(n),l&&function(e,t){for(var n=e.parentNode;n.firstChild!==e;)t.appendChild(n.firstChild)}(i,l),p&&p.destroy(),c&&w(r,c)}}}function ue(e){G(this,e),this.refs={},this._state=f({groups:[],basePath:"",activeTab:null},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){for(var n,i,s,a,r,o=e._slotted.belowMenu,l=t.groups,c=[],u=0;u<l.length;u+=1)c[u]=le(e,re(t,l,u));var d=t.activeTab&&ce(e,t);return{c:function(){n=N("div"),i=N("div");for(var e=0;e<c.length;e+=1)c[e].c();s=k("\n        "),r=k("\n    "),d&&d.c(),i.className="span2 svelte-5we305",n.className="row"},m:function(e,t){v(e,n,t),h(n,i);for(var l=0;l<c.length;l+=1)c[l].m(i,null);h(i,s),o&&(h(i,a||(a=M())),h(i,o)),h(n,r),d&&d.m(n,null)},p:function(t,a){if(t.groups||t.activeTab||t.basePath){l=a.groups;for(var r=0;r<l.length;r+=1){var o=re(a,l,r);c[r]?c[r].p(t,o):(c[r]=le(e,o),c[r].c(),c[r].m(i,s))}for(;r<c.length;r+=1)c[r].d(1);c.length=l.length}a.activeTab?d?d.p(t,a):((d=ce(e,a)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(e){e&&g(n),x(c,e),o&&w(a,o),d&&d.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}f(ue.prototype,X),f(ue.prototype,ie);var de={true:"ASC",false:"DESC"},fe=de.true;var me={sort:function(e,t){e.preventDefault();var n,i=(n=this.get(),t===n.orderBy?de[n.order!==fe]:fe);this.set({orderBy:t,order:i}),this.fire("sort",{orderBy:t,order:i})}};function pe(e){var t=this._svelte,n=t.component,i=t.ctx;n.sort(e,i.item.orderBy)}function he(e,t,n){var i=Object.create(e);return i.item=t[n],i}function ve(e,t,n){var i=Object.create(e);return i.item=t[n],i}function ge(e,t){var n;return{c:function(){L(n=N("col"),"width",t.item.width)},m:function(e,t){v(e,n,t)},p:function(e,t){e.columnHeaders&&L(n,"width",t.item.width)},d:function(e){e&&g(n)}}}function be(e,t){var n,i,s=t.item.title;return{c:function(){n=N("span"),i=k(s),n.className="col"},m:function(e,t){v(e,n,t),h(n,i)},p:function(e,t){e.columnHeaders&&s!==(s=t.item.title)&&A(i,s)},d:function(e){e&&g(n)}}}function _e(e,t){var n,i,s,a,r=t.item.title;return{c:function(){n=N("a"),i=k(r),n._svelte={component:e,ctx:t},H(n,"click",pe),n.className=s="sortable "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+" svelte-l1s1ms",n.href=a="?orderBy=".concat(t.item.orderBy)},m:function(e,t){v(e,n,t),h(n,i)},p:function(e,o){t=o,e.columnHeaders&&r!==(r=t.item.title)&&A(i,r),n._svelte.ctx=t,(e.isActive||e.columnHeaders||e.isAscending)&&s!==(s="sortable "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+" svelte-l1s1ms")&&(n.className=s),e.columnHeaders&&a!==(a="?orderBy=".concat(t.item.orderBy))&&(n.href=a)},d:function(e){e&&g(n),O(n,"click",pe)}}}function ye(e,t){var n,i;function s(e){return e.item.orderBy?_e:be}var a=s(t),r=a(e,t);return{c:function(){n=N("th"),r.c(),n.className=i=(t.item.className?t.item.className:"")+" svelte-l1s1ms"},m:function(e,t){v(e,n,t),r.m(n,null)},p:function(t,o){a===(a=s(o))&&r?r.p(t,o):(r.d(1),(r=a(e,o)).c(),r.m(n,null)),t.columnHeaders&&i!==(i=(o.item.className?o.item.className:"")+" svelte-l1s1ms")&&(n.className=i)},d:function(e){e&&g(n),r.d()}}}function we(e){G(this,e),this._state=f({order:fe,orderBy:""},e.data),this._recompute({orderBy:1,order:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){for(var n,i,s,a,r,o,l,c,u=e._slotted.default,d=t.columnHeaders,f=[],m=0;m<d.length;m+=1)f[m]=ge(e,ve(t,d,m));var p=t.columnHeaders,b=[];for(m=0;m<p.length;m+=1)b[m]=ye(e,he(t,p,m));return{c:function(){n=N("div"),i=N("table"),s=N("colgroup");for(var e=0;e<f.length;e+=1)f[e].c();a=k("\n\n        "),r=N("thead"),o=N("tr");for(e=0;e<b.length;e+=1)b[e].c();l=k("\n\n        "),c=N("tbody"),i.className="table svelte-l1s1ms",n.className="table-container svelte-l1s1ms"},m:function(e,t){v(e,n,t),h(n,i),h(i,s);for(var d=0;d<f.length;d+=1)f[d].m(s,null);h(i,a),h(i,r),h(r,o);for(d=0;d<b.length;d+=1)b[d].m(o,null);h(i,l),h(i,c),u&&h(c,u)},p:function(t,n){if(t.columnHeaders){d=n.columnHeaders;for(var i=0;i<d.length;i+=1){var a=ve(n,d,i);f[i]?f[i].p(t,a):(f[i]=ge(e,a),f[i].c(),f[i].m(s,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=d.length}if(t.columnHeaders||t.isActive||t.isAscending){p=n.columnHeaders;for(i=0;i<p.length;i+=1){var r=he(n,p,i);b[i]?b[i].p(t,r):(b[i]=ye(e,r),b[i].c(),b[i].m(o,null))}for(;i<b.length;i+=1)b[i].d(1);b.length=p.length}},d:function(e){e&&g(n),x(f,e),x(b,e),u&&y(c,u)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function xe(e,t,n){var i=Object.create(e);return i.opt=t[n],i}function Te(e,t,n){var i=Object.create(e);return i.optgroup=t[n],i}function Ne(e,t,n){var i=Object.create(e);return i.opt=t[n],i}function ke(e,t){for(var n,i=t.options,s=[],a=0;a<i.length;a+=1)s[a]=Me(e,Ne(t,i,a));return{c:function(){for(var e=0;e<s.length;e+=1)s[e].c();n=M()},m:function(e,t){for(var i=0;i<s.length;i+=1)s[i].m(e,t);v(e,n,t)},p:function(t,a){if(t.options||t.value){i=a.options;for(var r=0;r<i.length;r+=1){var o=Ne(a,i,r);s[r]?s[r].p(t,o):(s[r]=Me(e,o),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d:function(e){x(s,e),e&&g(n)}}}function Me(e,t){var n,i,s,a,r=t.opt.label;return{c:function(){n=N("option"),i=k(r),n.__value=s=t.opt.value,n.value=n.__value,n.selected=a=t.opt.value===t.value},m:function(e,t){v(e,n,t),h(n,i)},p:function(e,t){e.options&&r!==(r=t.opt.label)&&A(i,r),e.options&&s!==(s=t.opt.value)&&(n.__value=s),n.value=n.__value,(e.options||e.value)&&a!==(a=t.opt.value===t.value)&&(n.selected=a)},d:function(e){e&&g(n)}}}function He(e,t){for(var n,i=t.optgroups,s=[],a=0;a<i.length;a+=1)s[a]=Ce(e,Te(t,i,a));return{c:function(){for(var e=0;e<s.length;e+=1)s[e].c();n=M()},m:function(e,t){for(var i=0;i<s.length;i+=1)s[i].m(e,t);v(e,n,t)},p:function(t,a){if(t.optgroups||t.value){i=a.optgroups;for(var r=0;r<i.length;r+=1){var o=Te(a,i,r);s[r]?s[r].p(t,o):(s[r]=Ce(e,o),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d:function(e){x(s,e),e&&g(n)}}}function Oe(e,t){var n,i,s,a,r=t.opt.label;return{c:function(){n=N("option"),i=k(r),n.__value=s=t.opt.value,n.value=n.__value,n.selected=a=t.opt.value===t.value},m:function(e,t){v(e,n,t),h(n,i)},p:function(e,t){e.optgroups&&r!==(r=t.opt.label)&&A(i,r),e.optgroups&&s!==(s=t.opt.value)&&(n.__value=s),n.value=n.__value,(e.optgroups||e.value)&&a!==(a=t.opt.value===t.value)&&(n.selected=a)},d:function(e){e&&g(n)}}}function Ce(e,t){for(var n,i,s=t.optgroup.options,a=[],r=0;r<s.length;r+=1)a[r]=Oe(0,xe(t,s,r));return{c:function(){n=N("optgroup");for(var e=0;e<a.length;e+=1)a[e].c();C(n,"label",i=t.optgroup.label)},m:function(e,t){v(e,n,t);for(var i=0;i<a.length;i+=1)a[i].m(n,null)},p:function(e,t){if(e.optgroups||e.value){s=t.optgroup.options;for(var r=0;r<s.length;r+=1){var o=xe(t,s,r);a[r]?a[r].p(e,o):(a[r]=Oe(0,o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}e.optgroups&&i!==(i=t.optgroup.label)&&C(n,"label",i)},d:function(e){e&&g(n),x(a,e)}}}function Ae(e){G(this,e),this._state=f({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[],value:null,class:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,s,a=!1,r=t.options.length&&ke(e,t),o=t.optgroups.length&&He(e,t);function l(){a=!0,e.set({value:P(n)}),a=!1}function c(t){e.fire("change",t)}return{c:function(){n=N("select"),r&&r.c(),i=M(),o&&o.c(),H(n,"change",l),"value"in t||e.root._beforecreate.push(l),H(n,"change",c),n.className=s="select-css "+t.class+" svelte-v0oq4b",n.disabled=t.disabled,L(n,"width",t.width)},m:function(e,s){v(e,n,s),r&&r.m(n,null),h(n,i),o&&o.m(n,null),E(n,t.value)},p:function(t,l){l.options.length?r?r.p(t,l):((r=ke(e,l)).c(),r.m(n,i)):r&&(r.d(1),r=null),l.optgroups.length?o?o.p(t,l):((o=He(e,l)).c(),o.m(n,null)):o&&(o.d(1),o=null),!a&&t.value&&E(n,l.value),t.class&&s!==(s="select-css "+l.class+" svelte-v0oq4b")&&(n.className=s),t.disabled&&(n.disabled=l.disabled),t.width&&L(n,"width",l.width)},d:function(e){e&&g(n),r&&r.d(),o&&o.d(),O(n,"change",l),O(n,"change",c)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}f(we.prototype,X),f(we.prototype,me),we.prototype._recompute=function(e,t){var n;e.orderBy&&this._differs(t.isActive,t.isActive=(n=t.orderBy,function(e){return n===e.orderBy}))&&(e.isActive=!0),e.order&&this._differs(t.isAscending,t.isAscending=t.order===fe)&&(e.isAscending=!0)},f(Ae.prototype,X);var Le=e(t((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0}))),Ee=t((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,i)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}));e(Ee);var Pe=e(t((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0}))),Ue=t((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0}));e(Ue);var je=e(t((function(e){var t=i.default;e.exports=function(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?Ue(e):n},e.exports.default=e.exports,e.exports.__esModule=!0}))),Ie=t((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),Se=e(Ie),qe=t((function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=!0}));e(qe);var De=t((function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0}));e(De);var Re=t((function(e){function t(n,i,s){return De()?(e.exports=t=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e,t,n){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return n&&Ee(s,n.prototype),s},e.exports.default=e.exports,e.exports.__esModule=!0),t.apply(null,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}));e(Re);var We=e(t((function(e){function t(n){var i="function"==typeof Map?new Map:void 0;return e.exports=t=function(e){if(null===e||!qe(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return Re(e,arguments,Ie(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Ee(t,e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}))),ze=t((function(e){e.exports=function(e,t){if(null==e)return{};var n,i,s={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(s[n]=e[n]);return s},e.exports.default=e.exports,e.exports.__esModule=!0}));e(ze);var Be=e(t((function(e){e.exports=function(e,t){if(null==e)return{};var n,i,s=ze(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.default=e.exports,e.exports.__esModule=!0}))),Fe=t((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function s(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},s.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in a)a[l]&&(o+="; "+l,!0!==a[l]&&(o+="="+a[l].split(";")[0]));return document.cookie=t+"="+n+o}}function r(e,n){if("undefined"!=typeof document){for(var s={},a=document.cookie?document.cookie.split("; "):[],r=0;r<a.length;r++){var o=a[r].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(o[0]);if(l=(i.read||i)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(s[c]=l,e===c)break}catch(e){}}return e?s[e]:s}}return s.set=a,s.get=function(e){return r(e,!1)},s.getJSON=function(e){return r(e,!0)},s.remove=function(t,n){a(t,"",e(n,{expires:-1}))},s.defaults={},s.withConverter=n,s}((function(){}))},e.exports=n()}));function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Se(e);if(t){var s=Se(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return je(this,n)}}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ve(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Je=new Set(["get","head","options","trace"]);function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,i=Ge(Ge({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},t),{},{headers:Ge({"Content-Type":"application/json"},t.headers)}),s=i.payload,a=i.baseUrl,r=i.fetch,o=i.raw,l=Be(i,["payload","baseUrl","fetch","raw"]),c="".concat(a.replace(/\/$/,""),"/").concat(e.replace(/^\//,""));if(s&&(l.body=JSON.stringify(s)),Je.has(l.method.toLowerCase()))n=r(c,l);else{var u=Fe.get("crumb");u?(l.headers["X-CSRF-Token"]=u,n=r(c,l)):n=Ze("/v3/me",{fetch:r,baseUrl:a}).then((function(){var e=Fe.get("crumb");e&&(l.headers["X-CSRF-Token"]=e)})).catch((function(){})).then((function(){return r(c,l)}))}return n.then((function(e){if(o)return e;if(!e.ok)throw new et(e);if(204===e.status||!e.headers.get("content-type"))return e;var t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()}))}var Xe=Ze.get=Ye("GET"),Ke=Ze.patch=Ye("PATCH"),Qe=(Ze.put=Ye("PUT"),Ze.post=Ye("POST"));Ze.head=Ye("HEAD");function Ye(e){return function(t,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(e.toLowerCase(),"()"));return Ze(t,Ge(Ge({},n),{},{method:e}))}}Ze.delete=Ye("DELETE");var et=function(e){Pe(n,e);var t=$e(n);function n(e){var i;return Le(this,n),(i=t.call(this)).name="HttpReqError",i.status=e.status,i.statusText=e.statusText,i.message="[".concat(e.status,"] ").concat(e.statusText),i.response=e,i}return n}(We(Error));function tt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var nt=[{value:"owner",label:Y("teams / role / owner").replace("&shy;","")},{value:"admin",label:Y("teams / role / admin").replace("&shy;","")},{value:"member",label:Y("teams / role / member").replace("&shy;","")}];function it(e){return{member:Y("teams / role / member"),admin:Y("teams / role / admin"),owner:Y("teams / role / owner")}[e]}var st={toggleEdit:function(e){this.get().editId===e?(this.set({editId:!1}),this.updateRole(e)):this.set({editId:e})},removeUser:function(e){try{var t=this;if(!window.confirm(Y("teams / remove / alert")))return;return tt(Ze.delete("/v3/teams/".concat(t.get().team.id,"/members/").concat(e.id)),(function(){var n=t.get().users;n=n.filter((function(t){return t.id!==e.id})),t.set({users:n})}))}catch(e){return Promise.reject(e)}},updateRole:function(e){try{var t=this,n=t.get(),i=n.updating,s=n.users.filter((function(t){return t.id===e}))[0];return i[s.id]=!0,t.set({updating:i}),tt(Ze.put("/v3/teams/".concat(t.get().team.id,"/members/").concat(s.id,"/status"),{payload:{status:s.role}}),(function(){(i=t.get().updating)[s.id]=!1,t.set({updating:i})}))}catch(e){return Promise.reject(e)}}};function at(e){var t=this._svelte,n=t.component,i=t.ctx;n.removeUser(i.user)}function rt(e){var t=this._svelte,n=t.component,i=t.ctx;n.toggleEdit(i.user.id)}function ot(e){var t=this._svelte,n=t.component,i=t.ctx;n.toggleEdit(i.user.id)}function lt(e,t,n){var i=Object.create(e);return i.user=t[n],i.each_value=t,i.i=n,i}function ct(e,t){var n,i=Y("teams / total").replace("%i%",t.numUsers);return{c:function(){n=k(i)},m:function(e,t){v(e,n,t)},p:function(e,t){e.numUsers&&i!==(i=Y("teams / total").replace("%i%",t.numUsers))&&A(n,i)},d:function(e){e&&g(n)}}}function ut(e,t){var n,i=Y("teams / total / 1");return{c:function(){n=k(i)},m:function(e,t){v(e,n,t)},p:d,d:function(e){e&&g(n)}}}function dt(e,t){for(var n,i=t.sortedUsers,s=[],a=0;a<i.length;a+=1)s[a]=yt(e,lt(t,i,a));var r={columnHeaders:t.userHeaders},o=new we({root:e.root,store:e.store,slots:{default:T()},data:r});return{c:function(){for(var e=0;e<s.length;e+=1)s[e].c();n=M(),o._fragment.c()},m:function(e,t){for(var i=0;i<s.length;i+=1)s[i].m(o._slotted.default,null);h(o._slotted.default,n),o._mount(e,t)},p:function(t,a){if(t.isAdmin||t.isTeamOwner||t.sortedUsers||t.editId||t.updating||t.roles){i=a.sortedUsers;for(var r=0;r<i.length;r+=1){var l=lt(a,i,r);s[r]?s[r].p(t,l):(s[r]=yt(e,l),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}var c={};t.userHeaders&&(c.columnHeaders=a.userHeaders),o._set(c)},d:function(e){x(s,e),o.destroy(e)}}}function ft(e,t){var n,i,s,a,r=t.user.id;return{c:function(){n=N("td"),i=N("a"),s=k(r),i.href=a="/admin/users/"+t.user.id},m:function(e,t){v(e,n,t),h(n,i),h(i,s)},p:function(e,t){e.sortedUsers&&r!==(r=t.user.id)&&A(s,r),e.sortedUsers&&a!==(a="/admin/users/"+t.user.id)&&(i.href=a)},d:function(e){e&&g(n)}}}function mt(e,t){var n,i,s,a,r=it(t.user.role),o=t.user.token&&ht();return{c:function(){n=N("noscript"),i=N("noscript"),s=k(" "),o&&o.c(),a=M()},m:function(e,t){v(e,n,t),n.insertAdjacentHTML("afterend",r),v(e,i,t),v(e,s,t),o&&o.m(e,t),v(e,a,t)},p:function(e,t){e.sortedUsers&&r!==(r=it(t.user.role))&&(b(n,i),n.insertAdjacentHTML("afterend",r)),t.user.token?o||((o=ht()).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d:function(e){e&&(b(n,i),g(n),g(i),g(s)),o&&o.d(e),e&&g(a)}}}function pt(e,t){var n,i,s,a={},r=Y("teams / role / p"),o={width:"200px",options:t.roles};void 0!==t.user.role&&(o.value=t.user.role,a.value=!0);var l=new Ae({root:e.root,store:e.store,data:o,_bind:function(n,i){var s={};!a.value&&n.value&&(t.user.role=i.value,s.sortedUsers=t.sortedUsers),e._set(s),a={}}});return e.root._beforecreate.push((function(){l._bind({value:1},l.get())})),{c:function(){l._fragment.c(),n=k("\n            "),i=N("p"),s=k(r),i.className="mini-help"},m:function(e,t){l._mount(e,t),v(e,n,t),v(e,i,t),h(i,s)},p:function(e,n){t=n;var i={};e.roles&&(i.options=t.roles),!a.value&&e.sortedUsers&&(i.value=t.user.role,a.value=void 0!==t.user.role),l._set(i),a={}},d:function(e){l.destroy(e),e&&(g(n),g(i))}}}function ht(e,t){var n,i,s=Y("teams / invite-pending");return{c:function(){n=N("i"),i=k(s)},m:function(e,t){v(e,n,t),h(n,i)},d:function(e){e&&g(n)}}}function vt(e,t){var n;function i(e){return e.editId===e.user.id?_t:e.updating[e.user.id]?bt:gt}var s=i(t),a=s(e,t);return{c:function(){a.c(),n=M()},m:function(e,t){a.m(e,t),v(e,n,t)},p:function(t,r){s===(s=i(r))&&a?a.p(t,r):(a.d(1),(a=s(e,r)).c(),a.m(n.parentNode,n))},d:function(e){a.d(e),e&&g(n)}}}function gt(e,t){var n,i,s,a,r,o,l,c,u,d=Y("teams / edit"),f=Y("teams / remove");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(d),r=k("\n\n            "),o=N("button"),l=N("i"),c=k("  "),u=k(f),i.className="fa fa-edit",n._svelte={component:e,ctx:t},H(n,"click",rt),n.className="btn",l.className="fa fa-times",o._svelte={component:e,ctx:t},H(o,"click",at),o.className="btn"},m:function(e,t){v(e,n,t),h(n,i),h(n,s),h(n,a),v(e,r,t),v(e,o,t),h(o,l),h(o,c),h(o,u)},p:function(e,i){t=i,n._svelte.ctx=t,o._svelte.ctx=t},d:function(e){e&&g(n),O(n,"click",rt),e&&(g(r),g(o)),O(o,"click",at)}}}function bt(e,t){var n,i,s,a,r=Y("teams / save");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(r),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(e,t){v(e,n,t),h(n,i),h(n,s),h(n,a)},p:d,d:function(e){e&&g(n)}}}function _t(e,t){var n,i,s,a,r=Y("teams / save");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(r),i.className="fa fa-check",n._svelte={component:e,ctx:t},H(n,"click",ot),n.className="btn btn-primary"},m:function(e,t){v(e,n,t),h(n,i),h(n,s),h(n,a)},p:function(e,i){t=i,n._svelte.ctx=t},d:function(e){e&&g(n),O(n,"click",ot)}}}function yt(e,t){var n,i,s,a,r,o,l,c,u,d,f,m,p=t.user.email,b=t.user.charts,_=t.isAdmin&&ft(0,t);function y(e){return e.editId===e.user.id?pt:mt}var w=y(t),x=w(e,t),T=(t.isAdmin||t.isTeamOwner||!t.isTeamOwner&&"owner"!=t.user.role)&&vt(e,t);return{c:function(){n=N("tr"),i=N("td"),s=k(p),a=k("\n        "),_&&_.c(),r=k("\n        "),o=N("td"),l=k(b),c=k("\n        "),u=N("td"),x.c(),d=k("\n        "),f=N("td"),T&&T.c(),m=k("\n    ")},m:function(e,t){v(e,n,t),h(n,i),h(i,s),h(n,a),_&&_.m(n,null),h(n,r),h(n,o),h(o,l),h(n,c),h(n,u),x.m(u,null),h(n,d),h(n,f),T&&T.m(f,null),h(n,m)},p:function(t,i){t.sortedUsers&&p!==(p=i.user.email)&&A(s,p),i.isAdmin?_?_.p(t,i):((_=ft(0,i)).c(),_.m(n,r)):_&&(_.d(1),_=null),t.sortedUsers&&b!==(b=i.user.charts)&&A(l,b),w===(w=y(i))&&x?x.p(t,i):(x.d(1),(x=w(e,i)).c(),x.m(u,null)),i.isAdmin||i.isTeamOwner||!i.isTeamOwner&&"owner"!=i.user.role?T?T.p(t,i):((T=vt(e,i)).c(),T.m(f,null)):T&&(T.d(1),T=null)},d:function(e){e&&g(n),_&&_.d(),x.d(),T&&T.d()}}}function wt(e){G(this,e),this._state=f({editId:!1,updating:{},users:[]},e.data),this._recompute({isAdmin:1,isTeamOwner:1,users:1,sortedUsers:1,numCharts:1,team:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,i,s,a,r;function o(e){return 1===e.numUsers?ut:e.numUsers>1?ct:void 0}var l=o(t),c=l&&l(e,t),u=t.sortedUsers.length&&dt(e,t);return{c:function(){n=N("p"),c&&c.c(),i=k(" "),s=N("noscript"),a=k("\n\n"),u&&u.c(),r=M()},m:function(e,o){v(e,n,o),c&&c.m(n,null),h(n,i),h(n,s),s.insertAdjacentHTML("afterend",t.numChartsCaption),v(e,a,o),u&&u.m(e,o),v(e,r,o)},p:function(t,a){l===(l=o(a))&&c?c.p(t,a):(c&&c.d(1),(c=l&&l(e,a))&&c.c(),c&&c.m(n,i)),t.numChartsCaption&&(_(s),s.insertAdjacentHTML("afterend",a.numChartsCaption)),a.sortedUsers.length?u?u.p(t,a):((u=dt(e,a)).c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d:function(e){e&&g(n),c&&c.d(),e&&g(a),u&&u.d(e),e&&g(r)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}f(wt.prototype,X),f(wt.prototype,st),wt.prototype._recompute=function(e,t){var n,i,s,a,r;(e.isAdmin||e.isTeamOwner)&&this._differs(t.roles,t.roles=(i=(n=t).isAdmin,s=n.isTeamOwner,i||s?nt:nt.slice(1)))&&(e.roles=!0),(e.users||e.isAdmin)&&this._differs(t.sortedUsers,t.sortedUsers=function(e){var t=e.users,n=e.isAdmin;return t.sort((function(e,t){var n=["owner","admin","member"];return n.indexOf(e.role)>n.indexOf(t.role)?1:n.indexOf(e.role)<n.indexOf(t.role)?-1:e.email>t.email?1:e.email<t.email?-1:0})).filter((function(e){return n||!e.isAdmin}))}(t))&&(e.sortedUsers=!0),e.isAdmin&&this._differs(t.userHeaders,t.userHeaders=function(e){var t=e.isAdmin,n=[{title:Y("teams / user"),width:"25%"},{title:"ID",width:"10%"},{title:"Charts",width:"15%"},{title:Y("teams / status"),width:"15%"},{title:Y("teams / actions"),width:"30%"}];return t||n.splice(1,1),n}(t))&&(e.userHeaders=!0),e.sortedUsers&&this._differs(t.numUsers,t.numUsers=t.sortedUsers.length)&&(e.numUsers=!0),e.users&&this._differs(t.numCharts,t.numCharts=(a=t.users,r=0,a.forEach((function(e){r+=e.charts})),r))&&(e.numCharts=!0),(e.numCharts||e.isAdmin||e.team)&&this._differs(t.numChartsCaption,t.numChartsCaption=function(e){var t=e.numCharts,n=e.isAdmin,i=e.team;return 1===t?Y("teams / charts-total / 1"):t>1?n?Y("teams / charts-total-admin").replace("%i%",t).replace("%link%","/admin/chart/by/".concat(i.id)):Y("teams / charts-total").replace("%i%",t):""}(t))&&(e.numChartsCaption=!0)};function xt(e,t){var n,i,s=e._slotted.content;return{c:function(){n=N("div"),s||((i=N("div")).textContent="DropdownControl content"),s||(i.className="base-dropdown-inner svelte-1jdtmzv"),L(n,"width",t.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m:function(e,t){v(e,n,t),h(n,s||i)},p:function(e,t){e.width&&L(n,"width",t.width)},d:function(e){e&&g(n),s&&y(n,s)}}}function Tt(e){G(this,e),this.refs={},this._state=f({visible:!1,disabled:!1,width:"auto"},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,s,a,r,o,l=e._slotted.button;function c(t){e.windowClick(t)}function u(t){e.toggle(t)}window.addEventListener("click",c);var d=t.visible&&xt(e,t);return{c:function(){n=N("div"),i=N("a"),l||(s=N("button"),a=N("i")),o=k("\n    "),d&&d.c(),l||(a.className=r="fa fa-chevron-"+(t.visible?"up":"down")+" svelte-1jdtmzv",s.className="btn btn-small"),H(i,"click",u),i.href="#dropdown-btn",i.className="base-drop-btn svelte-1jdtmzv",L(n,"position","relative"),L(n,"display","inline-block")},m:function(t,r){v(t,n,r),h(n,i),l?h(i,l):(h(i,s),h(s,a)),e.refs.button=i,h(n,o),d&&d.m(n,null)},p:function(t,i){l||t.visible&&r!==(r="fa fa-chevron-"+(i.visible?"up":"down")+" svelte-1jdtmzv")&&(a.className=r),i.visible?d?d.p(t,i):((d=xt(e,i)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(t){window.removeEventListener("click",c),t&&g(n),l&&y(i,l),O(i,"click",u),e.refs.button===i&&(e.refs.button=null),d&&d.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}f(Tt.prototype,X),f(Tt.prototype,{toggle:function(e){e.preventDefault();var t=this.get(),n=t.visible;t.disabled||this.set({visible:!n})},windowClick:function(e){!e.target||this.refs&&this.refs.button&&(e.target===this.refs.button||this.refs.button.contains(e.target))||e.target.classList.contains("hex")||this.set({visible:!1})}});function Nt(e){e.preventDefault();var t=this._svelte,n=t.component,i=t.ctx;n.action(i.item)}function kt(e,t,n){var i=Object.create(e);return i.item=t[n],i}function Mt(e,t){var n,i,s,a,r=t.icon&&Ht(e,t);function o(t){t.preventDefault(),t.stopPropagation(),e.fireClick()}return{c:function(){n=N("button"),r&&r.c(),i=k(" "),s=N("noscript"),H(n,"click",o),n.disabled=t.disabled,n.className=a="split-button-label "+t.btnClass+" svelte-1qu0vk"},m:function(e,a){v(e,n,a),r&&r.m(n,null),h(n,i),h(n,s),s.insertAdjacentHTML("afterend",t.label)},p:function(t,o){o.icon?r?r.p(t,o):((r=Ht(e,o)).c(),r.m(n,i)):r&&(r.d(1),r=null),t.label&&(_(s),s.insertAdjacentHTML("afterend",o.label)),t.disabled&&(n.disabled=o.disabled),t.btnClass&&a!==(a="split-button-label "+o.btnClass+" svelte-1qu0vk")&&(n.className=a)},d:function(e){e&&g(n),r&&r.d(),O(n,"click",o)}}}function Ht(e,t){var n;return{c:function(){(n=N("i")).className=t.icon+" svelte-1qu0vk"},m:function(e,t){v(e,n,t)},p:function(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d:function(e){e&&g(n)}}}function Ot(e,t){var n,i,s=t.icon&&At(e,t);function a(e){return e.label?Et:Lt}var r=a(t),o=r(e,t);return{c:function(){s&&s.c(),n=k(" "),o.c(),i=M()},m:function(e,t){s&&s.m(e,t),v(e,n,t),o.m(e,t),v(e,i,t)},p:function(t,l){l.icon?s?s.p(t,l):((s=At(e,l)).c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),r===(r=a(l))&&o?o.p(t,l):(o.d(1),(o=r(e,l)).c(),o.m(i.parentNode,i))},d:function(e){s&&s.d(e),e&&g(n),o.d(e),e&&g(i)}}}function Ct(e,t){var n;return{c:function(){(n=N("span")).className="caret"},m:function(e,t){v(e,n,t)},p:d,d:function(e){e&&g(n)}}}function At(e,t){var n;return{c:function(){(n=N("i")).className=t.icon+" svelte-1qu0vk"},m:function(e,t){v(e,n,t)},p:function(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d:function(e){e&&g(n)}}}function Lt(e,t){var n;return{c:function(){(n=N("i")).className="im im-menu-dot-h svelte-1qu0vk"},m:function(e,t){v(e,n,t)},p:d,d:function(e){e&&g(n)}}}function Et(e,t){var n,i,s,a;return{c:function(){n=N("noscript"),i=N("noscript"),s=k(" "),(a=N("span")).className="caret"},m:function(e,r){v(e,n,r),n.insertAdjacentHTML("afterend",t.label),v(e,i,r),v(e,s,r),v(e,a,r)},p:function(e,t){e.label&&(b(n,i),n.insertAdjacentHTML("afterend",t.label))},d:function(e){e&&(b(n,i),g(n),g(i),g(s),g(a))}}}function Pt(e,t){var n,i,s,a=t.item.label;return{c:function(){n=N("li"),i=N("a"),s=k("\n        "),i._svelte={component:e,ctx:t},H(i,"click",Nt),i.href="#/action",i.className="svelte-1qu0vk",U(i,"disabled",t.item.disabled),n.className="svelte-1qu0vk"},m:function(e,t){v(e,n,t),h(n,i),i.innerHTML=a,h(n,s)},p:function(e,n){t=n,e.items&&a!==(a=t.item.label)&&(i.innerHTML=a),i._svelte.ctx=t,e.items&&U(i,"disabled",t.item.disabled)},d:function(e){e&&g(n),O(i,"click",Nt)}}}function Ut(e){G(this,e),this._state=f({label:"",icon:!1,split:!1,items:[],btnClass:"btn"},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,s,a,r,o=t.split&&Mt(e,t);function l(e){return e.split?Ct:Ot}for(var c=l(t),u=c(e,t),d=t.items,f=[],m=0;m<d.length;m+=1)f[m]=Pt(e,kt(t,d,m));var p={disabled:t.disabled},v=new Tt({root:e.root,store:e.store,slots:{default:T(),content:T(),button:T()},data:p});return{c:function(){n=N("div"),o&&o.c(),i=k("\n        "),s=N("button"),u.c(),a=k("\n\n    "),r=N("ul");for(var e=0;e<f.length;e+=1)f[e].c();v._fragment.c(),s.disabled=t.disabled,s.className=t.btnClass+" svelte-1qu0vk",C(n,"slot","button"),n.className="btn-group",C(r,"slot","content"),r.className="svelte-1qu0vk"},m:function(e,t){h(v._slotted.button,n),o&&o.m(n,null),h(n,i),h(n,s),u.m(s,null),h(v._slotted.default,a),h(v._slotted.content,r);for(var l=0;l<f.length;l+=1)f[l].m(r,null);v._mount(e,t)},p:function(t,a){if(a.split?o?o.p(t,a):((o=Mt(e,a)).c(),o.m(n,i)):o&&(o.d(1),o=null),c===(c=l(a))&&u?u.p(t,a):(u.d(1),(u=c(e,a)).c(),u.m(s,null)),t.disabled&&(s.disabled=a.disabled),t.btnClass&&(s.className=a.btnClass+" svelte-1qu0vk"),t.items){d=a.items;for(var m=0;m<d.length;m+=1){var p=kt(a,d,m);f[m]?f[m].p(t,p):(f[m]=Pt(e,p),f[m].c(),f[m].m(r,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=d.length}var h={};t.disabled&&(h.disabled=a.disabled),v._set(h)},d:function(e){o&&o.d(),u.d(),x(f,e),v.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}function jt(e,t){var n;return{c:function(){(n=N("label")).className="control-label svelte-1nkiaxn"},m:function(e,i){v(e,n,i),n.innerHTML=t.label},p:function(e,t){e.label&&(n.innerHTML=t.label)},d:function(e){e&&g(n)}}}function It(e,t){var n;return{c:function(){(n=N("div")).className="help success svelte-1nkiaxn"},m:function(e,i){v(e,n,i),n.innerHTML=t.success},p:function(e,t){e.success&&(n.innerHTML=t.success)},d:function(e){e&&g(n)}}}function St(e,t){var n;return{c:function(){(n=N("div")).className="help error svelte-1nkiaxn"},m:function(e,i){v(e,n,i),n.innerHTML=t.error},p:function(e,t){e.error&&(n.innerHTML=t.error)},d:function(e){e&&g(n)}}}function qt(e,t){var n;return{c:function(){(n=N("div")).className="help svelte-1nkiaxn"},m:function(e,i){v(e,n,i),n.innerHTML=t.help},p:function(e,t){e.help&&(n.innerHTML=t.help)},d:function(e){e&&g(n)}}}function Dt(e){var t,n,i,s,a,r,o,l,c,u,d,m,p;G(this,e),this._state=f({label:"",help:"",error:!1,success:!1,width:"auto"},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(t=this,n=this._state,c=t._slotted.default,u=n.label&&jt(0,n),d=n.success&&It(0,n),m=n.error&&St(0,n),p=!n.success&&!n.error&&n.help&&qt(0,n),{c:function(){i=N("div"),u&&u.c(),s=k("\n    "),a=N("div"),r=k("\n    "),d&&d.c(),o=k(" "),m&&m.c(),l=k(" "),p&&p.c(),a.className="form-controls svelte-1nkiaxn",i.className="form-block svelte-1nkiaxn",L(i,"width",n.width),U(i,"success",n.success),U(i,"error",n.error)},m:function(e,t){v(e,i,t),u&&u.m(i,null),h(i,s),h(i,a),c&&h(a,c),h(i,r),d&&d.m(i,null),h(i,o),m&&m.m(i,null),h(i,l),p&&p.m(i,null)},p:function(e,t){t.label?u?u.p(e,t):((u=jt(0,t)).c(),u.m(i,s)):u&&(u.d(1),u=null),t.success?d?d.p(e,t):((d=It(0,t)).c(),d.m(i,o)):d&&(d.d(1),d=null),t.error?m?m.p(e,t):((m=St(0,t)).c(),m.m(i,l)):m&&(m.d(1),m=null),t.success||t.error||!t.help?p&&(p.d(1),p=null):p?p.p(e,t):((p=qt(0,t)).c(),p.m(i,null)),e.width&&L(i,"width",t.width),e.success&&U(i,"success",t.success),e.error&&U(i,"error",t.error)},d:function(e){e&&g(i),u&&u.d(),c&&y(a,c),d&&d.d(),m&&m.d(),p&&p.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function Rt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}f(Ut.prototype,X),f(Ut.prototype,{fireClick:function(){this.fire("click")},action:function(e){e.disabled||e.action(this)}}),f(Dt.prototype,X);var Wt={addUser:function(e){try{var t=this,n=t.get(),i=n.inviteeExists,s=n.inviteeUserId;if(!i)return;return t.set({currentAction:{updatingUsers:!0,isComplete:!1}}),Rt(Qe("/v3/teams/".concat(t.get().team.id,"/members"),{raw:!0,payload:{userId:s,role:e}}),(function(n){var i=!n.ok;return Rt(i?n.json():null,(function(i){var s={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"add",role:e};t.set({invitedEmail:t.get().inviteeEmail,currentAction:s}),t.fire("updateUsers")}),!i)}))}catch(e){return Promise.reject(e)}},inviteUser:function(e){try{var t=this,n=t.get().inviteeEmail;return t.set({currentAction:{updatingUsers:!0,isComplete:!1}}),Rt(Qe("/v3/teams/".concat(t.get().team.id,"/invites"),{raw:!0,payload:{email:n,role:e}}),(function(n){var i=!n.ok;return Rt(i?n.json():null,(function(i){var s={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"invite",role:e};t.set({invitedEmail:t.get().inviteeEmail,currentAction:s}),t.fire("updateUsers")}),!i)}))}catch(e){return Promise.reject(e)}},debounceCheckUser:function(){try{var e=this;if(!e.get().isAdmin)return;return window.clearTimeout(window.checkUser),e.set({inviteeExistsLoading:!0}),window.checkUser=setTimeout((function(){e.checkUser()}),200),Rt()}catch(e){return Promise.reject(e)}},checkUser:function(){try{var e=this,t=e.get(),n=t.inviteeEmail;return t.isValidEmail?Rt(Xe("/v3/users?search=".concat(encodeURIComponent(n))),(function(t){e.set({inviteeExistsLoading:!1,inviteeExists:!1}),t.list.length>0&&(n=e.get().inviteeEmail,t.list.forEach((function(t){t.email.toLowerCase()===n.toLowerCase()&&e.set({inviteeExists:!0,inviteeUserId:t.id})})))})):void e.set({inviteeExistsLoading:!1})}catch(e){return Promise.reject(e)}}};function zt(){window.teamSettingsInvite=this}function Bt(e){var t=e.changed;e.current,e.previous;t.inviteeEmail&&(this.set({inviteeExists:!1}),this.debounceCheckUser())}function Ft(e){var t=this;G(this,e),this._state=f({inviteeEmail:"",invitedEmail:"",currentAction:{updatingUsers:!1,isComplete:!1,isError:!1,errorCode:null,responseData:null,type:"",role:""}},e.data),this._recompute({invitedEmail:1,currentAction:1,inviteeEmail:1,isAdmin:1,isTeamOwner:1,isValidEmail:1,inviteeExistsLoading:1,inviteeExists:1},this._state),this._intro=!0,this._handlers.state=[Bt],Bt.call(this,{changed:m({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,s,a=!1;function r(){a=!0,e.set({inviteeEmail:i.value}),a=!1}var o={disabled:!t.isValidEmail,label:"<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+Y("teams / invite"),items:t.inviteOptions},l=new Ut({root:e.root,store:e.store,data:o}),c={label:Y("teams / invite-user"),help:Y("teams / invite-user / help"),success:t.successMessage,error:t.errorMessage},u=new Dt({root:e.root,store:e.store,slots:{default:T()},data:c});return{c:function(){n=N("div"),i=N("input"),s=k(" \n        "),l._fragment.c(),u._fragment.c(),H(i,"input",r),C(i,"type","text"),i.width="1px",i.placeholder=Y("teams / invite-user / eg"),i.className="svelte-m6ws61",n.className="flex svelte-m6ws61"},m:function(e,a){h(u._slotted.default,n),h(n,i),i.value=t.inviteeEmail,h(n,s),l._mount(n,null),u._mount(e,a)},p:function(e,t){!a&&e.inviteeEmail&&(i.value=t.inviteeEmail);var n={};e.isValidEmail&&(n.disabled=!t.isValidEmail),e.currentAction&&(n.label="<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+Y("teams / invite")),e.inviteOptions&&(n.items=t.inviteOptions),l._set(n);var s={};e.successMessage&&(s.success=t.successMessage),e.errorMessage&&(s.error=t.errorMessage),u._set(s)},d:function(e){O(i,"input",r),l.destroy(),u.destroy(e)}}}(this,this._state),this.root._oncreate.push((function(){zt.call(t),t.fire("update",{changed:m({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}f(Ft.prototype,X),f(Ft.prototype,Wt),Ft.prototype._recompute=function(e,t){var n;(e.invitedEmail||e.currentAction)&&(this._differs(t.successMessage,t.successMessage=function(e){var t,n=e.invitedEmail,i=e.currentAction,s=i.isComplete,a=i.isError,r=i.type,o=i.role;if(s&&!a)return Y("teams / invite-user / ".concat(r," / success")).replace("$1",(t=n,t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))).replace("$2",Y("teams / role / ".concat(o)))}(t))&&(e.successMessage=!0),this._differs(t.errorMessage,t.errorMessage=function(e){var t=e.invitedEmail,n=e.currentAction,i=n.isComplete,s=n.isError,a=n.errorCode,r=n.responseData,o=n.type;if(i&&s){var l=[400,401,406].includes(a)?a:"other",c=406===a&&r&&r.maxTeamInvites?r.maxTeamInvites:null;return Y("teams / invite-user / ".concat(o," / error / ").concat(l)).replace("$1",t).replace("$2",c)}}(t))&&(e.errorMessage=!0)),e.inviteeEmail&&this._differs(t.isValidEmail,t.isValidEmail=(n=t.inviteeEmail,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)))&&(e.isValidEmail=!0),(e.isAdmin||e.isTeamOwner||e.inviteeEmail||e.isValidEmail||e.inviteeExistsLoading||e.inviteeExists)&&this._differs(t.inviteOptions,t.inviteOptions=function(e){var t=e.isAdmin,n=e.isTeamOwner,i=(e.inviteeEmail,e.isValidEmail),s=e.inviteeExistsLoading,a=e.inviteeExists,r=[{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(Y("teams / role / member")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("member")}},{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(Y("teams / role / admin")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("admin")}}];return(t||n)&&r.push({label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(Y("teams / role / owner")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("owner")}}),t&&r.push({label:'<span class="red"><i class="fa '.concat(s?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(Y("teams / add-as").replace("%s",Y("teams / role / member")),"</span>"),disabled:!a,action:function(){teamSettingsInvite.addUser("member")}},{label:'<span class="red"><i class="fa '.concat(s?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(Y("teams / add-as").replace("%s",Y("teams / role / admin")),"</span>"),disabled:!a,action:function(){teamSettingsInvite.addUser("admin")}},{label:'<span class="red"><i class="fa '.concat(s?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(Y("teams / add-as").replace("%s",Y("teams / role / owner")),"</span>"),disabled:!a,action:function(){teamSettingsInvite.addUser("owner")}}),r}(t))&&(e.inviteOptions=!0)};var $t={updateUsers:function(){var e=this,t=this.get().team;this.set({awaitLoadingUsers:Ze.get("/v3/teams/".concat(t.id,"/members?limit=1000")).then((function(t){e.set({users:t.list})}))})}};function Vt(){this.updateUsers()}function Gt(e,t){var n,i,s={component:e,ctx:t,current:null,pending:Xt,then:Zt,catch:Jt,value:"null",error:"null"};return R(i=t.awaitLoadingUsers,s),{c:function(){n=M(),s.block.c()},m:function(e,t){v(e,n,t),s.block.m(e,s.anchor=t),s.mount=function(){return n.parentNode},s.anchor=n},p:function(e,n){t=n,s.ctx=t,"awaitLoadingUsers"in e&&i!==(i=t.awaitLoadingUsers)&&R(i,s)||s.block.p(e,f(f({},t),s.resolved))},d:function(e){e&&g(n),s.block.d(e),s=null}}}function Jt(e,t){var n;return{c:function(){n=k("error!")},m:function(e,t){v(e,n,t)},p:d,d:function(e){e&&g(n)}}}function Zt(e,t){var n={},i={isAdmin:t.isAdmin,isTeamOwner:t.isTeamOwner,team:t.team};void 0!==t.users&&(i.users=t.users,n.users=!0),void 0!==t.editIndex&&(i.editIndex=t.editIndex,n.editIndex=!0),void 0!==t.updating&&(i.updating=t.updating,n.updating=!0);var s=new wt({root:e.root,store:e.store,data:i,_bind:function(t,i){var s={};!n.users&&t.users&&(s.users=i.users),!n.editIndex&&t.editIndex&&(s.editIndex=i.editIndex),!n.updating&&t.updating&&(s.updating=i.updating),e._set(s),n={}}});return e.root._beforecreate.push((function(){s._bind({users:1,editIndex:1,updating:1},s.get())})),{c:function(){s._fragment.c()},m:function(e,t){s._mount(e,t)},p:function(e,i){t=i;var a={};e.isAdmin&&(a.isAdmin=t.isAdmin),e.isTeamOwner&&(a.isTeamOwner=t.isTeamOwner),e.team&&(a.team=t.team),!n.users&&e.users&&(a.users=t.users,n.users=void 0!==t.users),!n.editIndex&&e.editIndex&&(a.editIndex=t.editIndex,n.editIndex=void 0!==t.editIndex),!n.updating&&e.updating&&(a.updating=t.updating,n.updating=void 0!==t.updating),s._set(a),n={}},d:function(e){s.destroy(e)}}}function Xt(e,t){var n,i,s,a,r=Y("teams / loading");return{c:function(){n=N("p"),i=N("i"),s=k("   "),a=N("noscript"),i.className="fa fa-circle-o-notch fa-spin"},m:function(e,t){v(e,n,t),h(n,i),h(n,s),h(n,a),a.insertAdjacentHTML("afterend",r)},p:d,d:function(e){e&&g(n)}}}function Kt(e){var t=this;G(this,e),this._state=f({editIndex:0,updating:{},updatingUsers:!1,awaitLoadingUsers:!1},e.data),this._recompute({users:1,userId:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,i,s,a,r,o,l,c,u,d,f,m,p,b,_,y,w,x,T,H,O,C,A,E,P,U,j,I,S,q,D,R,W,z,B,F,$,V,G,J,Z,X,K,Q,ee,te,ne,ie,se,ae,re,oe,le,ce,ue,de,fe,me,pe,he,ve,ge,be,_e,ye,we,xe,Te,Ne,ke,Me,He,Oe,Ce=Y("teams / p"),Ae={},Le=Y("teams / role / member"),Ee=Y("teams / role / admin"),Pe=Y("teams / role / owner"),Ue=Y("teams / roles / edit-charts"),je=Y("teams / roles / edit-folders"),Ie=Y("teams / roles / access-settings"),Se=Y("teams / roles / invite-users"),qe=Y("teams / roles / subscription-options"),De=Y("teams / roles / remove-team"),Re={isTeamOwner:t.isTeamOwner,isAdmin:t.isAdmin};void 0!==t.team&&(Re.team=t.team,Ae.team=!0),void 0!==t.updatingUsers&&(Re.updatingUsers=t.updatingUsers,Ae.updatingUsers=!0);var We=new Ft({root:e.root,store:e.store,data:Re,_bind:function(t,n){var i={};!Ae.team&&t.team&&(i.team=n.team),!Ae.updatingUsers&&t.updatingUsers&&(i.updatingUsers=n.updatingUsers),e._set(i),Ae={}}});e.root._beforecreate.push((function(){We._bind({team:1,updatingUsers:1},We.get())})),We.on("updateUsers",(function(t){e.updateUsers()}));var ze=t.awaitLoadingUsers&&Gt(e,t);return{c:function(){n=N("p"),i=k("\n\n"),s=N("div"),a=N("div"),We._fragment.c(),r=k("\n    "),o=N("div"),l=N("table"),c=N("thead"),u=N("tr"),d=N("td"),f=k("\n                    "),m=N("th"),p=k("\n                    "),b=N("th"),_=k("\n                    "),y=N("th"),w=k("\n            "),x=N("tbody"),T=N("tr"),H=N("td"),O=k("\n                    "),(C=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',A=k("\n                    "),(E=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',P=k("\n                    "),(U=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',j=k("\n\n                "),I=N("tr"),S=N("td"),q=k("\n                    "),(D=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',R=k("\n                    "),(W=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',z=k("\n                    "),(B=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',F=k("\n\n                "),$=N("tr"),V=N("td"),G=k("\n                    "),(J=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Z=k("\n                    "),(X=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',K=k("\n                    "),(Q=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ee=k("\n\n                "),te=N("tr"),ne=N("td"),ie=k("\n                    "),(se=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ae=k("\n                    "),(re=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',oe=k("\n                    "),(le=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ce=k("\n\n                "),ue=N("tr"),de=N("td"),fe=k("\n                    "),(me=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',pe=k("\n                    "),(he=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ve=k("\n                    "),(ge=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',be=k("\n\n                "),_e=N("tr"),ye=N("td"),we=k("\n                    "),(xe=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Te=k("\n                    "),(Ne=N("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ke=k("\n                    "),(Me=N("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',He=k("\n\n"),ze&&ze.c(),Oe=M(),L(n,"margin-bottom","10px"),a.className="span4",d.className="svelte-hgmegl",m.className="svelte-hgmegl",b.className="svelte-hgmegl",y.className="svelte-hgmegl",H.className="svelte-hgmegl",C.className="svelte-hgmegl",E.className="svelte-hgmegl",U.className="svelte-hgmegl",S.className="svelte-hgmegl",D.className="svelte-hgmegl",W.className="svelte-hgmegl",B.className="svelte-hgmegl",V.className="svelte-hgmegl",J.className="svelte-hgmegl",X.className="svelte-hgmegl",Q.className="svelte-hgmegl",ne.className="svelte-hgmegl",se.className="svelte-hgmegl",re.className="svelte-hgmegl",le.className="svelte-hgmegl",de.className="svelte-hgmegl",me.className="svelte-hgmegl",he.className="svelte-hgmegl",ge.className="svelte-hgmegl",ye.className="svelte-hgmegl",xe.className="svelte-hgmegl",Ne.className="svelte-hgmegl",Me.className="svelte-hgmegl",x.className="svelte-hgmegl",l.className="role-descriptions svelte-hgmegl",L(l,"margin-left","3em"),o.className="span6",s.className="row",L(s,"margin-bottom","2em")},m:function(e,t){v(e,n,t),n.innerHTML=Ce,v(e,i,t),v(e,s,t),h(s,a),We._mount(a,null),h(s,r),h(s,o),h(o,l),h(l,c),h(c,u),h(u,d),h(u,f),h(u,m),m.innerHTML=Le,h(u,p),h(u,b),b.innerHTML=Ee,h(u,_),h(u,y),y.innerHTML=Pe,h(l,w),h(l,x),h(x,T),h(T,H),H.innerHTML=Ue,h(T,O),h(T,C),h(T,A),h(T,E),h(T,P),h(T,U),h(x,j),h(x,I),h(I,S),S.innerHTML=je,h(I,q),h(I,D),h(I,R),h(I,W),h(I,z),h(I,B),h(x,F),h(x,$),h($,V),V.innerHTML=Ie,h($,G),h($,J),h($,Z),h($,X),h($,K),h($,Q),h(x,ee),h(x,te),h(te,ne),ne.innerHTML=Se,h(te,ie),h(te,se),h(te,ae),h(te,re),h(te,oe),h(te,le),h(x,ce),h(x,ue),h(ue,de),de.innerHTML=qe,h(ue,fe),h(ue,me),h(ue,pe),h(ue,he),h(ue,ve),h(ue,ge),h(x,be),h(x,_e),h(_e,ye),ye.innerHTML=De,h(_e,we),h(_e,xe),h(_e,Te),h(_e,Ne),h(_e,ke),h(_e,Me),v(e,He,t),ze&&ze.m(e,t),v(e,Oe,t)},p:function(n,i){t=i;var s={};n.isTeamOwner&&(s.isTeamOwner=t.isTeamOwner),n.isAdmin&&(s.isAdmin=t.isAdmin),!Ae.team&&n.team&&(s.team=t.team,Ae.team=void 0!==t.team),!Ae.updatingUsers&&n.updatingUsers&&(s.updatingUsers=t.updatingUsers,Ae.updatingUsers=void 0!==t.updatingUsers),We._set(s),Ae={},t.awaitLoadingUsers?ze?ze.p(n,t):((ze=Gt(e,t)).c(),ze.m(Oe.parentNode,Oe)):ze&&(ze.d(1),ze=null)},d:function(e){e&&(g(n),g(i),g(s)),We.destroy(),e&&g(He),ze&&ze.d(e),e&&g(Oe)}}}(this,this._state),this.root._oncreate.push((function(){Vt.call(t),t.fire("update",{changed:m({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}f(Kt.prototype,X),f(Kt.prototype,$t),Kt.prototype._recompute=function(e,t){(e.users||e.userId)&&this._differs(t.role,t.role=function(e){var t=e.users,n=e.userId;if(!t||!t.length||!n)return!1;var i=t.find((function(e){return e.id===n}));return i?i.role:"admin"}(t))&&(e.role=!0)};var Qt={};function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Qt[e]=window.__dw.vis.meta.locale||{}):Qt[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}var en={show:function(){var e=this,t=setTimeout((function(){e.set({visible:!0})}),400);this.set({t:t})},hide:function(){var e=this.get().t;clearTimeout(e),this.set({visible:!1})}};function tn(e,t){var n,i,s,a,r,o=e._slotted.default,l="help"===t.type&&nn(),c="upgrade-info"===t.type&&sn();return{c:function(){n=N("div"),l&&l.c(),i=k(" "),c&&c.c(),s=k("\n        "),n.className=r="content "+t.type+" svelte-1qzgns1"},m:function(e,t){v(e,n,t),l&&l.m(n,null),h(n,i),c&&c.m(n,null),h(n,s),o&&(h(n,a||(a=M())),h(n,o))},p:function(e,t){"help"===t.type?l||((l=nn()).c(),l.m(n,i)):l&&(l.d(1),l=null),"upgrade-info"===t.type?c||((c=sn()).c(),c.m(n,s)):c&&(c.d(1),c=null),e.type&&r!==(r="content "+t.type+" svelte-1qzgns1")&&(n.className=r)},d:function(e){e&&g(n),l&&l.d(),c&&c.d(),o&&w(a,o)}}}function nn(e,t){var n;return{c:function(){(n=N("i")).className="hat-icon im im-graduation-hat svelte-1qzgns1"},m:function(e,t){v(e,n,t)},d:function(e){e&&g(n)}}}function sn(e,t){var n,i,s=function(e){var t=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(e=e.trim(),Qt[n]||Yt(n),!Qt[n][e])return"MISSING:"+e;var i=Qt[n][e];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(e,n){return n=2+Number(n),void 0===t[n]?e:t[n]}))),i}("upgrade-available");return{c:function(){n=N("div"),i=k(s),n.className="content-header svelte-1qzgns1"},m:function(e,t){v(e,n,t),h(n,i)},d:function(e){e&&g(n)}}}function an(e){G(this,e),this.refs={},this._state=f({visible:!1,class:"",type:"help"},e.data),this._recompute({type:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,s,a,r,o=t.visible&&tn(e,t);function l(t){e.show()}function c(t){e.hide()}return{c:function(){n=N("div"),i=N("span"),a=k("\n    "),o&&o.c(),i.className=s="help-icon "+t.type+" svelte-1qzgns1",U(i,"visible",t.visible),H(n,"mouseenter",l),H(n,"mouseleave",c),n.className=r="help "+t.class+" "+t.type+" svelte-1qzgns1"},m:function(s,r){v(s,n,r),h(n,i),i.innerHTML=t.helpIcon,h(n,a),o&&o.m(n,null),e.refs.helpDisplay=n},p:function(t,a){t.helpIcon&&(i.innerHTML=a.helpIcon),t.type&&s!==(s="help-icon "+a.type+" svelte-1qzgns1")&&(i.className=s),(t.type||t.visible)&&U(i,"visible",a.visible),a.visible?o?o.p(t,a):((o=tn(e,a)).c(),o.m(n,null)):o&&(o.d(1),o=null),(t.class||t.type)&&r!==(r="help "+a.class+" "+a.type+" svelte-1qzgns1")&&(n.className=r)},d:function(t){t&&g(n),o&&o.d(),O(n,"mouseenter",l),O(n,"mouseleave",c),e.refs.helpDisplay===n&&(e.refs.helpDisplay=null)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}f(an.prototype,X),f(an.prototype,en),an.prototype._recompute=function(e,t){e.type&&this._differs(t.helpIcon,t.helpIcon="upgrade-info"===t.type?'<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>':"?")&&(e.helpIcon=!0)};var rn="100px";function on(e,t){var n,i={class:t.helpClass},s=new an({root:e.root,store:e.store,slots:{default:T()},data:i});return{c:function(){n=N("div"),s._fragment.c()},m:function(e,i){h(s._slotted.default,n),n.innerHTML=t.help,s._mount(e,i)},p:function(e,t){e.help&&(n.innerHTML=t.help);var i={};e.helpClass&&(i.class=t.helpClass),s._set(i)},d:function(e){s.destroy(e)}}}function ln(e,t){var n,i,s,a=t.labelHelp&&cn(e,t);return{c:function(){n=N("label"),i=N("noscript"),s=k(" "),a&&a.c(),L(n,"width",t.labelWidth||rn),n.className="control-label svelte-1ykzs2h",U(n,"disabled",t.disabled)},m:function(e,r){v(e,n,r),h(n,i),i.insertAdjacentHTML("beforebegin",t.label),h(n,s),a&&a.m(n,null)},p:function(t,s){t.label&&(!function(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}(i),i.insertAdjacentHTML("beforebegin",s.label)),s.labelHelp?a?a.p(t,s):((a=cn(e,s)).c(),a.m(n,null)):a&&(a.d(1),a=null),t.labelWidth&&L(n,"width",s.labelWidth||rn),t.disabled&&U(n,"disabled",s.disabled)},d:function(e){e&&g(n),a&&a.d()}}}function cn(e,t){var n;return{c:function(){(n=N("p")).className="mini-help mt-1"},m:function(e,i){v(e,n,i),n.innerHTML=t.labelHelp},p:function(e,t){e.labelHelp&&(n.innerHTML=t.labelHelp)},d:function(e){e&&g(n)}}}function un(e,t){var n,i;return{c:function(){L(n=N("p"),"padding-left",t.inline?0:t.labelWidth||rn),n.className=i="mt-1 mini-help "+t.type+" svelte-1ykzs2h",U(n,"mini-help-block",!t.inline)},m:function(e,i){v(e,n,i),n.innerHTML=t.miniHelp},p:function(e,t){e.miniHelp&&(n.innerHTML=t.miniHelp),(e.inline||e.labelWidth)&&L(n,"padding-left",t.inline?0:t.labelWidth||rn),e.type&&i!==(i="mt-1 mini-help "+t.type+" svelte-1ykzs2h")&&(n.className=i),(e.type||e.inline)&&U(n,"mini-help-block",!t.inline)},d:function(e){e&&g(n)}}}function dn(e){var t,n,i,s,a,r,o,l,c,u,d,m;G(this,e),this._state=f({disabled:!1,help:!1,helpClass:!1,miniHelp:!1,label:!1,labelHelp:!1,inline:!1,labelWidth:!1,type:"default",valign:"baseline"},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(t=this,n=this._state,c=t._slotted.default,u=n.help&&on(t,n),d=n.label&&ln(t,n),m=n.miniHelp&&un(0,n),{c:function(){u&&u.c(),i=k("\n\n"),s=N("div"),d&&d.c(),a=k("\n    "),r=N("div"),o=k("\n    "),m&&m.c(),r.className="controls svelte-1ykzs2h",L(r,"width","calc(100% - "+(n.labelWidth||rn)+" - 32px)"),U(r,"form-inline",n.inline),s.className=l="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h"},m:function(e,t){u&&u.m(e,t),v(e,i,t),v(e,s,t),d&&d.m(s,null),h(s,a),h(s,r),c&&h(r,c),h(s,o),m&&m.m(s,null)},p:function(e,n){n.help?u?u.p(e,n):((u=on(t,n)).c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null),n.label?d?d.p(e,n):((d=ln(t,n)).c(),d.m(s,a)):d&&(d.d(1),d=null),e.labelWidth&&L(r,"width","calc(100% - "+(n.labelWidth||rn)+" - 32px)"),e.inline&&U(r,"form-inline",n.inline),n.miniHelp?m?m.p(e,n):((m=un(0,n)).c(),m.m(s,null)):m&&(m.d(1),m=null),(e.type||e.valign)&&l!==(l="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h")&&(s.className=l)},d:function(e){u&&u.d(e),e&&(g(i),g(s)),d&&d.d(),c&&y(r,c),m&&m.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}function fn(e){var t=e.changed;e.previous&&t.value&&this.set({indeterminate:!1})}function mn(e,t,n){var i=Object.create(e);return i.opt=t[n],i}function pn(e,t){var n,i=t.opt.help;return{c:function(){(n=N("div")).className="help svelte-b3e9e4"},m:function(e,t){v(e,n,t),n.innerHTML=i},p:function(e,t){e.options&&i!==(i=t.opt.help)&&(n.innerHTML=i)},d:function(e){e&&g(n)}}}function hn(e,t){var n,i,s,a,r,o,l,c,u,d=t.opt.label;function f(){e.set({value:i.__value})}var m=t.opt.help&&pn(0,t);return{c:function(){n=N("label"),i=N("input"),a=k("\n            "),r=N("span"),o=k(" "),l=N("span"),c=k("\n            "),m&&m.c(),e._bindingGroups[0].push(i),H(i,"change",f),C(i,"type","radio"),i.__value=s=t.opt.value,i.value=i.__value,i.disabled=t.disabled,i.className="svelte-b3e9e4",r.className="css-ui svelte-b3e9e4",l.className="inner-label svelte-b3e9e4",n.title=u=t.opt.tooltip||"",n.className="svelte-b3e9e4",U(n,"disabled",t.disabled),U(n,"has-help",t.opt.help)},m:function(e,s){v(e,n,s),h(n,i),i.checked=i.__value===t.value,h(n,a),h(n,r),h(n,o),h(n,l),l.innerHTML=d,h(n,c),m&&m.m(n,null)},p:function(e,t){e.value&&(i.checked=i.__value===t.value),e.options&&s!==(s=t.opt.value)&&(i.__value=s),i.value=i.__value,e.disabled&&(i.disabled=t.disabled),e.options&&d!==(d=t.opt.label)&&(l.innerHTML=d),t.opt.help?m?m.p(e,t):((m=pn(0,t)).c(),m.m(n,null)):m&&(m.d(1),m=null),e.options&&u!==(u=t.opt.tooltip||"")&&(n.title=u),e.disabled&&U(n,"disabled",t.disabled),e.options&&U(n,"has-help",t.opt.help)},d:function(t){t&&g(n),e._bindingGroups[0].splice(e._bindingGroups[0].indexOf(i),1),O(i,"change",f),m&&m.d()}}}function vn(e,t){var n;return{c:function(){(n=N("div")).className="disabled-message svelte-b3e9e4"},m:function(e,i){v(e,n,i),n.innerHTML=t.disabledMessage},p:function(e,t){e.disabledMessage&&(n.innerHTML=t.disabledMessage)},d:function(e){e&&g(n)}}}function gn(e){var t=this;G(this,e),this._state=f({value:null,disabled:!1,disabledMessage:"",indeterminate:!1,label:"",labelWidth:"auto",help:null,miniHelp:null,valign:"top",inline:!0},e.data),this._bindingGroups=[[]],this._intro=!0,this._handlers.state=[fn],this._slotted=e.slots||{},fn.call(this,{changed:m({},this._state),current:this._state}),this._fragment=function(e,t){for(var n,i,s,a,r,o=e._slotted.default,l=t.options,c=[],u=0;u<l.length;u+=1)c[u]=hn(e,mn(t,l,u));var d={type:"radio",labelWidth:t.labelWidth,valign:t.valign,label:t.label,disabled:t.disabled,help:t.help,miniHelp:t.miniHelp},f=new dn({root:e.root,store:e.store,slots:{default:T()},data:d}),m=t.disabled&&t.disabledMessage&&vn(e,t);return{c:function(){n=N("div");for(var e=0;e<c.length;e+=1)c[e].c();i=k("\n    "),f._fragment.c(),a=k("\n\n"),m&&m.c(),r=M(),n.className="svelte-b3e9e4",U(n,"inline",t.inline),U(n,"indeterminate",t.indeterminate)},m:function(e,t){h(f._slotted.default,n);for(var l=0;l<c.length;l+=1)c[l].m(n,null);h(f._slotted.default,i),o&&(h(f._slotted.default,s||(s=M())),h(f._slotted.default,o)),f._mount(e,t),v(e,a,t),m&&m.m(e,t),v(e,r,t)},p:function(t,i){if(t.options||t.disabled||t.value){l=i.options;for(var s=0;s<l.length;s+=1){var a=mn(i,l,s);c[s]?c[s].p(t,a):(c[s]=hn(e,a),c[s].c(),c[s].m(n,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=l.length}t.inline&&U(n,"inline",i.inline),t.indeterminate&&U(n,"indeterminate",i.indeterminate);var o={};t.labelWidth&&(o.labelWidth=i.labelWidth),t.valign&&(o.valign=i.valign),t.label&&(o.label=i.label),t.disabled&&(o.disabled=i.disabled),t.help&&(o.help=i.help),t.miniHelp&&(o.miniHelp=i.miniHelp),f._set(o),i.disabled&&i.disabledMessage?m?m.p(t,i):((m=vn(e,i)).c(),m.m(r.parentNode,r)):m&&(m.d(1),m=null)},d:function(e){x(c,e),o&&w(s,o),f.destroy(e),e&&g(a),m&&m.d(e),e&&g(r)}}}(this,this._state),this.root._oncreate.push((function(){t.fire("update",{changed:m({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}function bn(e){var t=e.changed,n=e.current;e.previous;n.settings&&(t.settings||t.team||t.defaultTheme)&&this.fire("change",{team:n.team,settings:n.settings,defaultTheme:n.defaultTheme})}function _n(e,t){var n,i,s,a,r,o,l,c,u,d=!1,f=!1,m=!1;function p(){d=!0,t.settings.embed.custom_embed.title=s.value,e.set({settings:t.settings}),d=!1}var b={label:Y("teams / custom / title"),help:""},_=new Dt({root:e.root,store:e.store,slots:{default:T()},data:b});function y(){f=!0,t.settings.embed.custom_embed.text=r.value,e.set({settings:t.settings}),f=!1}var w={label:Y("teams / custom / help"),help:""},x=new Dt({root:e.root,store:e.store,slots:{default:T()},data:w});function M(){m=!0,t.settings.embed.custom_embed.template=l.value,e.set({settings:t.settings}),m=!1}var A={label:Y("teams / custom / embedcode"),help:Y("teams / custom / embedcode / help")},L=new Dt({root:e.root,store:e.store,slots:{default:T()},data:A});return{c:function(){(n=N("h3")).textContent="Custom Embed Code",i=k("\n\n        "),s=N("input"),_._fragment.c(),a=k("\n\n        "),r=N("textarea"),x._fragment.c(),o=k("\n\n        "),l=N("textarea"),L._fragment.c(),c=k("\n        "),u=N("hr"),H(s,"input",p),C(s,"type","text"),s.placeholder="e.g. Custom CMS Embed",H(r,"input",y),r.placeholder="e.g. This is a custom embed code for our CMS",H(l,"input",M),l.className="embedcode svelte-rgtu7e",l.placeholder='<iframe src="%chart_url%" width="%chart_width%" widthheight="%chart_height%"></iframe>'},m:function(e,d){v(e,n,d),v(e,i,d),h(_._slotted.default,s),s.value=t.settings.embed.custom_embed.title,_._mount(e,d),v(e,a,d),h(x._slotted.default,r),r.value=t.settings.embed.custom_embed.text,x._mount(e,d),v(e,o,d),h(L._slotted.default,l),l.value=t.settings.embed.custom_embed.template,L._mount(e,d),v(e,c,d),v(e,u,d)},p:function(e,n){t=n,!d&&e.settings&&(s.value=t.settings.embed.custom_embed.title),!f&&e.settings&&(r.value=t.settings.embed.custom_embed.text),!m&&e.settings&&(l.value=t.settings.embed.custom_embed.template)},d:function(e){e&&(g(n),g(i)),O(s,"input",p),_.destroy(e),e&&g(a),O(r,"input",y),x.destroy(e),e&&g(o),O(l,"input",M),L.destroy(e),e&&(g(c),g(u))}}}function yn(e){var t=this;G(this,e),this._state=f({embedCodes:[{value:"responsive",label:Y("teams / defaults / responsive-iframe")},{value:"iframe",label:Y("teams / defaults / iframe")},{value:"custom",label:Y("teams / defaults / custom")}],themes:[],folders:[],locales:[],defaultTheme:"",settings:{},team:{}},e.data),this._recompute({locales:1},this._state),this._intro=!0,this._handlers.state=[bn],bn.call(this,{changed:m({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,s,a,r,o,l,c,u,d,f,m,p,b,_=Y("teams / defaults / p"),y=!1,w={},x=Y("teams / defaults / h3"),M={},A={},E={},P={};function U(){y=!0,t.team.name=r.value,e.set({team:t.team}),y=!1}var j={label:Y("teams / name"),help:Y("teams / name / help")},I=new Dt({root:e.root,store:e.store,slots:{default:T()},data:j}),S={label:"",options:[{label:Y("teams / defaults / expanded"),value:"expanded"},{label:Y("teams / defaults / collapsed"),value:"collapsed"}]};void 0!==t.settings.folders&&(S.value=t.settings.folders,w.value=!0);var q=new gn({root:e.root,store:e.store,data:S,_bind:function(n,i){var s={};!w.value&&n.value&&(t.settings.folders=i.value,s.settings=t.settings),e._set(s),w={}}});e.root._beforecreate.push((function(){q._bind({value:1},q.get())}));var D={label:Y("teams / defaults / folder-status"),help:Y("teams / defaults / folder-status / p")},R=new Dt({root:e.root,store:e.store,slots:{default:T()},data:D}),W={options:t.themes};void 0!==t.defaultTheme&&(W.value=t.defaultTheme,M.value=!0);var z=new Ae({root:e.root,store:e.store,data:W,_bind:function(t,n){var i={};!M.value&&t.value&&(i.defaultTheme=n.value),e._set(i),M={}}});e.root._beforecreate.push((function(){z._bind({value:1},z.get())}));var B={label:Y("teams / defaults / theme"),help:Y("teams / defaults / theme / p")},F=new Dt({root:e.root,store:e.store,slots:{default:T()},data:B}),$={options:t.folders};void 0!==t.settings.default.folder&&($.value=t.settings.default.folder,A.value=!0);var V=new Ae({root:e.root,store:e.store,data:$,_bind:function(n,i){var s={};!A.value&&n.value&&(t.settings.default.folder=i.value,s.settings=t.settings),e._set(s),A={}}});e.root._beforecreate.push((function(){V._bind({value:1},V.get())}));var G={label:Y("teams / defaults / folder"),help:Y("teams / defaults / folder / p")},J=new Dt({root:e.root,store:e.store,slots:{default:T()},data:G}),Z={options:t.localeOptions};void 0!==t.settings.default.locale&&(Z.value=t.settings.default.locale,E.value=!0);var X=new Ae({root:e.root,store:e.store,data:Z,_bind:function(n,i){var s={};!E.value&&n.value&&(t.settings.default.locale=i.value,s.settings=t.settings),e._set(s),E={}}});e.root._beforecreate.push((function(){X._bind({value:1},X.get())}));var K={label:Y("teams / defaults / locale"),help:Y("teams / defaults / locale / p")},Q=new Dt({root:e.root,store:e.store,slots:{default:T()},data:K}),ee={label:"",options:t.embedCodes};void 0!==t.settings.embed.preferred_embed&&(ee.value=t.settings.embed.preferred_embed,P.value=!0);var te=new gn({root:e.root,store:e.store,data:ee,_bind:function(n,i){var s={};!P.value&&n.value&&(t.settings.embed.preferred_embed=i.value,s.settings=t.settings),e._set(s),P={}}});e.root._beforecreate.push((function(){te._bind({value:1},te.get())}));var ne={label:Y("teams / defaults / embedcode"),help:Y("teams / defaults / embedcode / p")},ie=new Dt({root:e.root,store:e.store,slots:{default:T()},data:ne}),se="custom"==t.settings.embed.preferred_embed&&_n(e,t);return{c:function(){n=N("div"),i=N("div"),s=N("p"),a=k("\n\n        "),r=N("input"),I._fragment.c(),o=k("\n\n        "),q._fragment.c(),R._fragment.c(),l=k("\n\n        "),c=N("h3"),u=k(x),d=k("\n\n        "),z._fragment.c(),F._fragment.c(),f=k("\n\n        "),V._fragment.c(),J._fragment.c(),m=k("\n\n        "),X._fragment.c(),Q._fragment.c(),p=k("\n\n        "),te._fragment.c(),ie._fragment.c(),b=k("\n\n        "),se&&se.c(),L(s,"margin-bottom","10px"),H(r,"input",U),C(r,"type","text"),r.placeholder="",i.className="span6",n.className="row"},m:function(e,g){v(e,n,g),h(n,i),h(i,s),s.innerHTML=_,h(i,a),h(I._slotted.default,r),r.value=t.team.name,I._mount(i,null),h(i,o),q._mount(R._slotted.default,null),R._mount(i,null),h(i,l),h(i,c),h(c,u),h(i,d),z._mount(F._slotted.default,null),F._mount(i,null),h(i,f),V._mount(J._slotted.default,null),J._mount(i,null),h(i,m),X._mount(Q._slotted.default,null),Q._mount(i,null),h(i,p),te._mount(ie._slotted.default,null),ie._mount(i,null),h(i,b),se&&se.m(i,null)},p:function(n,s){t=s,!y&&n.team&&(r.value=t.team.name);var a={};!w.value&&n.settings&&(a.value=t.settings.folders,w.value=void 0!==t.settings.folders),q._set(a),w={};var o={};n.themes&&(o.options=t.themes),!M.value&&n.defaultTheme&&(o.value=t.defaultTheme,M.value=void 0!==t.defaultTheme),z._set(o),M={};var l={};n.folders&&(l.options=t.folders),!A.value&&n.settings&&(l.value=t.settings.default.folder,A.value=void 0!==t.settings.default.folder),V._set(l),A={};var c={};n.localeOptions&&(c.options=t.localeOptions),!E.value&&n.settings&&(c.value=t.settings.default.locale,E.value=void 0!==t.settings.default.locale),X._set(c),E={};var u={};n.embedCodes&&(u.options=t.embedCodes),!P.value&&n.settings&&(u.value=t.settings.embed.preferred_embed,P.value=void 0!==t.settings.embed.preferred_embed),te._set(u),P={},"custom"==t.settings.embed.preferred_embed?se?se.p(n,t):((se=_n(e,t)).c(),se.m(i,null)):se&&(se.d(1),se=null)},d:function(e){e&&g(n),O(r,"input",U),I.destroy(),q.destroy(),R.destroy(),z.destroy(),F.destroy(),V.destroy(),J.destroy(),X.destroy(),Q.destroy(),te.destroy(),ie.destroy(),se&&se.d()}}}(this,this._state),this.root._oncreate.push((function(){t.fire("update",{changed:m({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}function wn(e){var t=e-1;return t*t*t+1}function xn(e,t){var n=t.delay;void 0===n&&(n=0);var i=t.duration;void 0===i&&(i=400);var s=t.easing;void 0===s&&(s=wn);var a=getComputedStyle(e),r=+a.opacity,o=parseFloat(a.height),l=parseFloat(a.paddingTop),c=parseFloat(a.paddingBottom),u=parseFloat(a.marginTop),d=parseFloat(a.marginBottom),f=parseFloat(a.borderTopWidth),m=parseFloat(a.borderBottomWidth);return{delay:n,duration:i,easing:s,css:function(e){return"overflow: hidden;opacity: "+Math.min(20*e,1)*r+";height: "+e*o+"px;padding-top: "+e*l+"px;padding-bottom: "+e*c+"px;margin-top: "+e*u+"px;margin-bottom: "+e*d+"px;border-top-width: "+e*f+"px;border-bottom-width: "+e*m+"px;"}}}f(dn.prototype,X),f(gn.prototype,X),f(yn.prototype,X),yn.prototype._recompute=function(e,t){var n;e.locales&&this._differs(t.localeOptions,t.localeOptions=(n=t.locales,[{value:null,label:Y("teams / defaults / none","organizations")}].concat(u(n))))&&(e.localeOptions=!0)};function Tn(){this.set({hasSlotContent:this.options.slots&&this.options.slots.default})}function Nn(e,t){var n,i={type:t.helpType},s=new an({root:e.root,store:e.store,slots:{default:T()},data:i});return{c:function(){n=N("div"),s._fragment.c()},m:function(e,i){h(s._slotted.default,n),n.innerHTML=t.help,s._mount(e,i)},p:function(e,t){e.help&&(n.innerHTML=t.help);var i={};e.helpType&&(i.type=t.helpType),s._set(i)},d:function(e){s.destroy(e)}}}function kn(e,t){var n,i,s=t.hasSlotContent&&(!t.disabled||"on"==t.disabledState)&&t.value&&!t.indeterminate&&Hn(e);return{c:function(){s&&s.c(),n=M()},m:function(e,t){s&&s.i(e,t),v(e,n,t),i=!0},p:function(t,i){!i.hasSlotContent||i.disabled&&"on"!=i.disabledState||!i.value||i.indeterminate?s&&(q(),s.o((function(){s.d(1),s=null}))):(s||(s=Hn(e)).c(),s.i(n.parentNode,n))},i:function(e,t){i||this.m(e,t)},o:p,d:function(e){s&&s.d(e),e&&g(n)}}}function Mn(e,t){var n,i,s,a;return{c:function(){n=N("div"),(i=N("div")).className="disabled-msg svelte-1cqdlwk"},m:function(e,s){v(e,n,s),h(n,i),i.innerHTML=t.disabledMessage,a=!0},p:function(e,t){a&&!e.disabledMessage||(i.innerHTML=t.disabledMessage)},i:function(t,i){a||(e.root._intro&&(s&&s.invalidate(),e.root._aftercreate.push((function(){s||(s=I(e,n,xn,{},!0)),s.run(1)}))),this.m(t,i))},o:function(t){a&&(s||(s=I(e,n,xn,{},!1)),s.run(0,(function(){t(),s=null})),a=!1)},d:function(e){e&&(g(n),s&&s.abort())}}}function Hn(e,t){var n,i,s,a=e._slotted.default;return{c:function(){(n=N("div")).className="switch-content svelte-1cqdlwk"},m:function(e,t){v(e,n,t),a&&h(n,a),s=!0},i:function(t,a){s||(e.root._intro&&(i&&i.invalidate(),e.root._aftercreate.push((function(){i||(i=I(e,n,xn,{},!0)),i.run(1)}))),this.m(t,a))},o:function(t){s&&(i||(i=I(e,n,xn,{},!1)),i.run(0,(function(){t(),i=null})),s=!1)},d:function(e){e&&g(n),a&&y(n,a),e&&i&&i.abort()}}}function On(e){var t=this;G(this,e),this._state=f({value:!1,help:"",helpType:!1,disabledMessage:"",disabledState:"auto",disabled:!1,highlight:!1,indeterminate:!1,hasSlotContent:!1},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,s,a,r,o,l,c,u,d,f,m,p,b=t.help&&Nn(e,t);function y(){e.set({value:r.checked,indeterminate:r.indeterminate})}function w(t){e.toggle()}var x=[Mn,kn],T=[];function M(e){return e.disabled&&e.disabledMessage?0:1}return m=M(t),p=T[m]=x[m](e,t),{c:function(){n=N("div"),b&&b.c(),i=k("\n\n    "),s=N("label"),a=N("button"),r=N("input"),l=k("\n            "),c=N("span"),u=k("\n        "),d=N("noscript"),f=k("\n\n    "),p.c(),H(r,"change",y),"value"in t&&"indeterminate"in t||e.root._beforecreate.push(y),r.className=o=(t.disabled&&"on"==t.disabledState?"disabled-force-checked":t.disabled&&"off"==t.disabledState?"disabled-force-unchecked":"")+" svelte-1cqdlwk",r.disabled=t.disabled,C(r,"type","checkbox"),c.className="slider svelte-1cqdlwk",H(a,"click",w),a.className="switch svelte-1cqdlwk",s.className="switch-outer svelte-1cqdlwk",U(s,"disabled",t.disabled),n.className="vis-option-type-switch svelte-1cqdlwk"},m:function(e,o){v(e,n,o),b&&b.m(n,null),h(n,i),h(n,s),h(s,a),h(a,r),r.checked=t.value,r.indeterminate=t.indeterminate,h(a,l),h(a,c),h(s,u),h(s,d),d.insertAdjacentHTML("afterend",t.label),h(n,f),T[m].i(n,null)},p:function(t,a){a.help?b?b.p(t,a):((b=Nn(e,a)).c(),b.m(n,i)):b&&(b.d(1),b=null),t.value&&(r.checked=a.value),t.indeterminate&&(r.indeterminate=a.indeterminate),(t.disabled||t.disabledState)&&o!==(o=(a.disabled&&"on"==a.disabledState?"disabled-force-checked":a.disabled&&"off"==a.disabledState?"disabled-force-unchecked":"")+" svelte-1cqdlwk")&&(r.className=o),t.disabled&&(r.disabled=a.disabled),t.label&&(_(d),d.insertAdjacentHTML("afterend",a.label)),t.disabled&&U(s,"disabled",a.disabled);var l=m;(m=M(a))===l?T[m].p(t,a):(q(),p.o((function(){T[l].d(1),T[l]=null})),(p=T[m])||(p=T[m]=x[m](e,a)).c(),p.i(n,null))},d:function(e){e&&g(n),b&&b.d(),O(r,"change",y),O(a,"click",w),T[m].d()}}}(this,this._state),this.root._oncreate.push((function(){Tn.call(t),t.fire("update",{changed:m({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}function Cn(e,t){var n,i=new an({root:e.root,store:e.store,slots:{default:T()}});return{c:function(){n=N("div"),i._fragment.c()},m:function(e,s){h(i._slotted.default,n),n.innerHTML=t.help,i._mount(e,s)},p:function(e,t){e.help&&(n.innerHTML=t.help)},d:function(e){i.destroy(e)}}}function An(e,t){var n,i,s,a;return{c:function(){n=N("div"),(i=N("div")).className="disabled-msg svelte-1rmafvf"},m:function(e,s){v(e,n,s),h(n,i),i.innerHTML=t.disabledMessage,a=!0},p:function(e,t){a&&!e.disabledMessage||(i.innerHTML=t.disabledMessage)},i:function(t,i){a||(e.root._intro&&(s&&s.invalidate(),e.root._aftercreate.push((function(){s||(s=I(e,n,xn,{},!0)),s.run(1)}))),this.m(t,i))},o:function(t){a&&(s||(s=I(e,n,xn,{},!1)),s.run(0,(function(){t(),s=null})),a=!1)},d:function(e){e&&(g(n),s&&s.abort())}}}function Ln(e){G(this,e),this._state=f({value:!1,disabled:!1,faded:!1,compact:!1,indeterminate:!1,disabledMessage:"",help:!1},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,s,a,r,o,l,c,u,d=t.help&&Cn(e,t);function f(){e.set({value:a.checked,indeterminate:a.indeterminate})}var m=t.disabled&&t.disabledMessage&&An(e,t);return{c:function(){d&&d.c(),n=k("\n"),i=N("div"),s=N("label"),a=N("input"),r=N("span"),o=k("\n        "),l=k(t.label),u=k("\n    "),m&&m.c(),H(a,"change",f),"value"in t&&"indeterminate"in t||e.root._beforecreate.push(f),C(a,"type","checkbox"),a.disabled=t.disabled,a.className="svelte-1rmafvf",r.className="css-ui svelte-1rmafvf",s.className=c="checkbox "+(t.disabled?"disabled":"")+" "+(t.faded?"faded":"")+" svelte-1rmafvf",i.className="control-group vis-option-group vis-option-type-checkbox svelte-1rmafvf",U(i,"is-compact",t.compact)},m:function(e,c){d&&d.m(e,c),v(e,n,c),v(e,i,c),h(i,s),h(s,a),a.checked=t.value,a.indeterminate=t.indeterminate,h(s,r),h(s,o),h(s,l),h(i,u),m&&m.i(i,null)},p:function(t,r){r.help?d?d.p(t,r):((d=Cn(e,r)).c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null),t.value&&(a.checked=r.value),t.indeterminate&&(a.indeterminate=r.indeterminate),t.disabled&&(a.disabled=r.disabled),t.label&&A(l,r.label),(t.disabled||t.faded)&&c!==(c="checkbox "+(r.disabled?"disabled":"")+" "+(r.faded?"faded":"")+" svelte-1rmafvf")&&(s.className=c),r.disabled&&r.disabledMessage?(m?m.p(t,r):(m=An(e,r))&&m.c(),m.i(i,null)):m&&(q(),m.o((function(){m.d(1),m=null}))),t.compact&&U(i,"is-compact",r.compact)},d:function(e){d&&d.d(e),e&&(g(n),g(i)),O(a,"change",f),m&&m.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}f(On.prototype,X),f(On.prototype,{toggle:function(){var e=this.get(),t=e.disabled,n=e.indeterminate,i=e.value,s={value:!!n||!i,indeterminate:!1};t||(this.set(s),this.fire("change",s))}}),f(Ln.prototype,X);var En={deleteTeam:function(){try{return this.set({deleting:!0}),e=Ze.delete("/v3/teams/".concat(this.get().team.id)),t=function(){window.location="/"},n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}catch(e){return Promise.reject(e)}var e,t,n}};function Pn(e,t){var n,i,s,a,r=Y("teams / delete / really"),o={},l={label:Y("teams / delete / really-yes")};void 0!==t.deleteTeam2&&(l.value=t.deleteTeam2,o.value=!0);var c=new Ln({root:e.root,store:e.store,data:l,_bind:function(t,n){var i={};!o.value&&t.value&&(i.deleteTeam2=n.value),e._set(i),o={}}});e.root._beforecreate.push((function(){c._bind({value:1},c.get())}));var u=t.deleteTeam2&&Un(e,t);return{c:function(){n=N("p"),i=k("\n\n    "),c._fragment.c(),s=k("\n\n    "),u&&u.c(),a=M()},m:function(e,t){v(e,n,t),n.innerHTML=r,v(e,i,t),c._mount(e,t),v(e,s,t),u&&u.m(e,t),v(e,a,t)},p:function(n,i){t=i;var s={};!o.value&&n.deleteTeam2&&(s.value=t.deleteTeam2,o.value=void 0!==t.deleteTeam2),c._set(s),o={},t.deleteTeam2?u?u.p(n,t):((u=Un(e,t)).c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},d:function(e){e&&(g(n),g(i)),c.destroy(e),e&&g(s),u&&u.d(e),e&&g(a)}}}function Un(e,t){var n,i,s,a,r,o=Y("teams / delete / action");function l(t){e.deleteTeam()}return{c:function(){n=N("button"),i=N("i"),a=k("  "),r=N("noscript"),i.className=s="fa "+(t.deleting?"fa-spin fa-circle-o-notch":"fa-times"),H(n,"click",l),n.className="btn btn-danger"},m:function(e,t){v(e,n,t),h(n,i),h(n,a),h(n,r),r.insertAdjacentHTML("afterend",o)},p:function(e,t){e.deleting&&s!==(s="fa "+(t.deleting?"fa-spin fa-circle-o-notch":"fa-times"))&&(i.className=s)},d:function(e){e&&g(n),O(n,"click",l)}}}function jn(e){G(this,e),this._state=f({deleteTeam:!1,deleteTeam2:!1,deleting:!1},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,s,a=Y("teams / delete / p"),r={},o=t.deleteTeam&&Pn(e,t),l={label:Y("teams / delete / yes")};void 0!==t.deleteTeam&&(l.value=t.deleteTeam,r.value=!0);var c=new On({root:e.root,store:e.store,slots:{default:T()},data:l,_bind:function(t,n){var i={};!r.value&&t.value&&(i.deleteTeam=n.value),e._set(i),r={}}});return e.root._beforecreate.push((function(){c._bind({value:1},c.get())})),{c:function(){n=N("p"),i=k("\n\n"),o&&o.c(),s=M(),c._fragment.c()},m:function(e,t){v(e,n,t),n.innerHTML=a,v(e,i,t),o&&o.m(c._slotted.default,null),h(c._slotted.default,s),c._mount(e,t)},p:function(n,i){(t=i).deleteTeam?o?o.p(n,t):((o=Pn(e,t)).c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null);var a={};!r.value&&n.deleteTeam&&(a.value=t.deleteTeam,r.value=void 0!==t.deleteTeam),c._set(a),r={}},d:function(e){e&&(g(n),g(i)),o&&o.d(),c.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}function In(e){G(this,e),this._state=f({disabled:!1,width:null,labelWidth:null,options:[],optgroups:[],valign:"middle",inline:!1,help:null,miniHelp:null},e.data),this._recompute({inline:1,width:1,labelWidth:1},this._state),this._intro=!0,this._fragment=function(e,t){var n={},i={width:t.controlWidth,class:"mt-1"};void 0!==t.value&&(i.value=t.value,n.value=!0),void 0!==t.disabled&&(i.disabled=t.disabled,n.disabled=!0),void 0!==t.options&&(i.options=t.options,n.options=!0),void 0!==t.optgroups&&(i.optgroups=t.optgroups,n.optgroups=!0);var s=new Ae({root:e.root,store:e.store,data:i,_bind:function(t,i){var s={};!n.value&&t.value&&(s.value=i.value),!n.disabled&&t.disabled&&(s.disabled=i.disabled),!n.options&&t.options&&(s.options=i.options),!n.optgroups&&t.optgroups&&(s.optgroups=i.optgroups),e._set(s),n={}}});e.root._beforecreate.push((function(){s._bind({value:1,disabled:1,options:1,optgroups:1},s.get())})),s.on("change",(function(t){e.fire("change",t)}));var a={type:"select",label:t.label,labelWidth:t.labelWidth,valign:t.valign,disabled:t.disabled,inline:t.inline,miniHelp:t.miniHelp,help:t.help,helpClass:"mt-1"},r=new dn({root:e.root,store:e.store,slots:{default:T()},data:a});return{c:function(){s._fragment.c(),r._fragment.c()},m:function(e,t){s._mount(r._slotted.default,null),r._mount(e,t)},p:function(e,i){t=i;var a={};e.controlWidth&&(a.width=t.controlWidth),!n.value&&e.value&&(a.value=t.value,n.value=void 0!==t.value),!n.disabled&&e.disabled&&(a.disabled=t.disabled,n.disabled=void 0!==t.disabled),!n.options&&e.options&&(a.options=t.options,n.options=void 0!==t.options),!n.optgroups&&e.optgroups&&(a.optgroups=t.optgroups,n.optgroups=void 0!==t.optgroups),s._set(a),n={};var o={};e.label&&(o.label=t.label),e.labelWidth&&(o.labelWidth=t.labelWidth),e.valign&&(o.valign=t.valign),e.disabled&&(o.disabled=t.disabled),e.inline&&(o.inline=t.inline),e.miniHelp&&(o.miniHelp=t.miniHelp),e.help&&(o.help=t.help),r._set(o)},d:function(e){s.destroy(),r.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}function Sn(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}f(jn.prototype,X),f(jn.prototype,En),f(In.prototype,X),In.prototype._recompute=function(e,t){var n,i,s;(e.inline||e.width)&&this._differs(t.controlWidth,t.controlWidth=(i=(n=t).inline,s=n.width,i?s||"auto":s))&&(e.controlWidth=!0),(e.inline||e.labelWidth)&&this._differs(t.labelWidth,t.labelWidth=function(e){var t=e.inline,n=e.labelWidth;return t?n||"auto":n}(t))&&(e.labelWidth=!0)};var qn={edit:function(e){this.get().editId===e?(this.set({editId:!1}),this.update(e)):this.set({editId:e})},addProduct:function(){try{var e=this,t=e.get(),n=t.team,i=t.addProduct;return e.set({addingProduct:!0}),Sn(Ze("/v3/teams/".concat(n.id,"/products"),{method:"post",payload:{productId:i}}),(function(){return Sn(Ze("/v3/teams/".concat(n.id,"/products")),(function(t){e.set({products:t.list,addingProduct:!1})}))}))}catch(e){return Promise.reject(e)}},remove:function(e){try{var t=this;if(!window.confirm("Are you sure you want to remove this product?"))return;return Sn(Ze("/v3/teams/".concat(t.get().team.id,"/products/").concat(e.id),{method:"delete"}),(function(){var n=t.get().products;n=n.filter((function(t){return t.id!==e.id})),t.set({products:n})}))}catch(e){return Promise.reject(e)}},update:function(e){try{var t=this,n=t.get(),i=n.updating,s=n.products.filter((function(t){return t.id===e}))[0];return i[s.id]=!0,t.set({updating:i}),Sn(Ze("/v3/teams/".concat(t.get().team.id,"/products/").concat(s.id),{method:"put",payload:{expires:s.expires}}),(function(){(i=t.get().updating)[s.id]=!1,t.set({updating:i})}))}catch(e){return Promise.reject(e)}}};function Dn(){var e=this,t=this.get();Ze("/v3/teams/".concat(t.team.id,"/products")).then((function(t){return e.set({loadingTeamProducts:!1,products:t.list})})),Ze("/v3/products").then((function(t){return e.set({loadingAllProducts:!1,allProducts:t.list})}))}function Rn(e){var t=this._svelte,n=t.component,i=t.ctx;n.remove(i.product)}function Wn(e){var t=this._svelte,n=t.component,i=t.ctx;n.edit(i.product.id)}function zn(e){var t=this._svelte,n=t.component,i=t.ctx;n.edit(i.product.id)}function Bn(e,t,n){var i=Object.create(e);return i.product=t[n],i.each_value=t,i.i=n,i}function Fn(e,t){var n;function i(e){return e.loadingTeamProducts||e.loadingAllProducts?Vn:$n}var s=i(t),a=s(e,t);return{c:function(){a.c(),n=M()},m:function(e,t){a.m(e,t),v(e,n,t)},p:function(t,r){s===(s=i(r))&&a?a.p(t,r):(a.d(1),(a=s(e,r)).c(),a.m(n.parentNode,n))},d:function(e){a.d(e),e&&g(n)}}}function $n(e,t){var n,i,s=t.products.length>0&&Gn(e,t),a=t.addableProducts.length&&ei(e,t);return{c:function(){s&&s.c(),n=k("\n\n\n"),a&&a.c(),i=M()},m:function(e,t){s&&s.m(e,t),v(e,n,t),a&&a.m(e,t),v(e,i,t)},p:function(t,r){r.products.length>0?s?s.p(t,r):((s=Gn(e,r)).c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),r.addableProducts.length?a?a.p(t,r):((a=ei(e,r)).c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d:function(e){s&&s.d(e),e&&g(n),a&&a.d(e),e&&g(i)}}}function Vn(e,t){var n,i,s,a,r=Y("teams / products / loading");return{c:function(){n=N("p"),i=N("i"),s=k("   "),a=N("noscript"),i.className="fa fa-spin fa-circle-o-notch"},m:function(e,t){v(e,n,t),h(n,i),h(n,s),h(n,a),a.insertAdjacentHTML("afterend",r)},p:d,d:function(e){e&&g(n)}}}function Gn(e,t){for(var n,i=t.products,s=[],a=0;a<i.length;a+=1)s[a]=Yn(e,Bn(t,i,a));var r={columnHeaders:t.productHeaders},o=new we({root:e.root,store:e.store,slots:{default:T()},data:r});return{c:function(){for(var e=0;e<s.length;e+=1)s[e].c();n=M(),o._fragment.c()},m:function(e,t){for(var i=0;i<s.length;i+=1)s[i].m(o._slotted.default,null);h(o._slotted.default,n),o._mount(e,t)},p:function(t,a){if(t.editId||t.products||t.updating){i=a.products;for(var r=0;r<i.length;r+=1){var l=Bn(a,i,r);s[r]?s[r].p(t,l):(s[r]=Yn(e,l),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}var c={};t.productHeaders&&(c.columnHeaders=a.productHeaders),o._set(c)},d:function(e){x(s,e),o.destroy(e)}}}function Jn(e,t){var n,i=t.product.expires||Y("teams / products / never");return{c:function(){n=k(i)},m:function(e,t){v(e,n,t)},p:function(e,t){e.products&&i!==(i=t.product.expires||Y("teams / products / never"))&&A(n,i)},d:function(e){e&&g(n)}}}function Zn(e,t){var n,i=!1;function s(){i=!0,t.each_value[t.i].expires=n.value,e.set({products:t.products}),i=!1}return{c:function(){H(n=N("input"),"input",s),C(n,"type","text")},m:function(e,i){v(e,n,i),n.value=t.product.expires},p:function(e,s){t=s,!i&&e.products&&(n.value=t.product.expires)},d:function(e){e&&g(n),O(n,"input",s)}}}function Xn(e,t){var n,i,s,a,r,o,l,c,u,d=Y("teams / edit"),f=Y("teams / remove");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(d),r=k("\n\n            "),o=N("button"),l=N("i"),c=k("  "),u=k(f),i.className="fa fa-edit",n._svelte={component:e,ctx:t},H(n,"click",Wn),n.className="btn",l.className="fa fa-times",o._svelte={component:e,ctx:t},H(o,"click",Rn),o.className="btn"},m:function(e,t){v(e,n,t),h(n,i),h(n,s),h(n,a),v(e,r,t),v(e,o,t),h(o,l),h(o,c),h(o,u)},p:function(e,i){t=i,n._svelte.ctx=t,o._svelte.ctx=t},d:function(e){e&&g(n),O(n,"click",Wn),e&&(g(r),g(o)),O(o,"click",Rn)}}}function Kn(e,t){var n,i,s,a,r=Y("teams / save");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(r),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(e,t){v(e,n,t),h(n,i),h(n,s),h(n,a)},p:d,d:function(e){e&&g(n)}}}function Qn(e,t){var n,i,s,a,r=Y("teams / save");return{c:function(){n=N("button"),i=N("i"),s=k("  "),a=k(r),i.className="fa fa-check",n._svelte={component:e,ctx:t},H(n,"click",zn),n.className="btn btn-primary"},m:function(e,t){v(e,n,t),h(n,i),h(n,s),h(n,a)},p:function(e,i){t=i,n._svelte.ctx=t},d:function(e){e&&g(n),O(n,"click",zn)}}}function Yn(e,t){var n,i,s,a,r,o,l,c,u,d,f=t.product.id,m=t.product.name;function p(e){return e.editId===e.product.id?Zn:Jn}var b=p(t),_=b(e,t);function y(e){return e.editId===e.product.id?Qn:e.updating[e.product.id]?Kn:Xn}var w=y(t),x=w(e,t);return{c:function(){n=N("tr"),i=N("td"),s=k(f),a=k("\n        "),r=N("td"),o=k(m),l=k("\n        "),c=N("td"),_.c(),u=k("\n        "),d=N("td"),x.c()},m:function(e,t){v(e,n,t),h(n,i),h(i,s),h(n,a),h(n,r),h(r,o),h(n,l),h(n,c),_.m(c,null),h(n,u),h(n,d),x.m(d,null)},p:function(t,n){t.products&&f!==(f=n.product.id)&&A(s,f),t.products&&m!==(m=n.product.name)&&A(o,m),b===(b=p(n))&&_?_.p(t,n):(_.d(1),(_=b(e,n)).c(),_.m(c,null)),w===(w=y(n))&&x?x.p(t,n):(x.d(1),(x=w(e,n)).c(),x.m(d,null))},d:function(e){e&&g(n),_.d(),x.d()}}}function ei(e,t){var n,i,s,a={},r={label:Y("teams / products / add-product"),options:t.addableProducts};void 0!==t.addProduct&&(r.value=t.addProduct,a.value=!0);var o=new In({root:e.root,store:e.store,data:r,_bind:function(t,n){var i={};!a.value&&t.value&&(i.addProduct=n.value),e._set(i),a={}}});e.root._beforecreate.push((function(){o._bind({value:1},o.get())}));var l=t.addProduct&&ti(e,t);return{c:function(){n=N("div"),i=N("div"),o._fragment.c(),s=k("\n\n    "),l&&l.c(),L(i,"display","block"),L(n,"display","flex")},m:function(e,t){v(e,n,t),h(n,i),o._mount(i,null),h(n,s),l&&l.m(n,null)},p:function(i,s){t=s;var r={};i.addableProducts&&(r.options=t.addableProducts),!a.value&&i.addProduct&&(r.value=t.addProduct,a.value=void 0!==t.addProduct),o._set(r),a={},t.addProduct?l?l.p(i,t):((l=ti(e,t)).c(),l.m(n,null)):l&&(l.d(1),l=null)},d:function(e){e&&g(n),o.destroy(),l&&l.d()}}}function ti(e,t){var n,i,s,a,r,o,l=Y("teams / products / add");function c(t){e.addProduct()}return{c:function(){n=N("div"),i=N("button"),s=N("i"),r=k("\n            "),o=N("noscript"),s.className=a="fa "+(t.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"),H(i,"click",c),i.className="btn btn-primary",L(i,"margin-left","10px"),L(n,"display","block")},m:function(e,t){v(e,n,t),h(n,i),h(i,s),h(i,r),h(i,o),o.insertAdjacentHTML("afterend",l)},p:function(e,t){e.addingProduct&&a!==(a="fa "+(t.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"))&&(s.className=a)},d:function(e){e&&g(n),O(i,"click",c)}}}function ni(e){var t,n,i,s,a,r,o,l=this;G(this,e),this._state=f({productHeaders:[{title:Y("teams / products / id"),width:"10%"},{title:Y("teams / products / name"),width:"30%"},{title:Y("teams / products / expires"),width:"30%"},{title:Y("teams / products / actions"),width:"30%"}],editId:!1,updating:{},loadingTeamProducts:!0,loadingAllProducts:!0},e.data),this._recompute({products:1,allProducts:1},this._state),this._intro=!0,this._fragment=(t=this,n=this._state,r=Y("teams / products / p"),o=n.isAdmin&&Fn(t,n),{c:function(){i=N("p"),s=k("\n\n"),o&&o.c(),a=M(),L(i,"margin-bottom","10px")},m:function(e,t){v(e,i,t),i.innerHTML=r,v(e,s,t),o&&o.m(e,t),v(e,a,t)},p:function(e,n){n.isAdmin?o?o.p(e,n):((o=Fn(t,n)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d:function(e){e&&(g(i),g(s)),o&&o.d(e),e&&g(a)}}),this.root._oncreate.push((function(){Dn.call(l),l.fire("update",{changed:m({},l._state),current:l._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}f(ni.prototype,X),f(ni.prototype,qn),ni.prototype._recompute=function(e,t){var n,i,s;(e.products||e.allProducts)&&this._differs(t.addableProducts,t.addableProducts=(i=(n=t).products,(s=n.allProducts)&&i?s.filter((function(e){return!i.filter((function(t){return t.id===e.id})).length})).map((function(e){return{value:e.id,label:e.name}})):[]))&&(e.addableProducts=!0)};function ii(e){return"function"==typeof e?e():e}function si(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var ai={},ri=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,s=void 0,a=void 0,r=[];return function(){var l=ii(t),c=(new Date).getTime(),u=!i||c-i>l;i=c;for(var d=arguments.length,f=Array(d),m=0;m<d;m++)f[m]=arguments[m];if(u&&n.leading)return n.accumulate?Promise.resolve(e.call(this,[f])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(f)));if(s?clearTimeout(a):s=si(),r.push(f),a=setTimeout(o.bind(this),l),n.accumulate){var p=r.length-1;return s.promise.then((function(e){return e[p]}))}return s.promise};function o(){var t=s;clearTimeout(a),Promise.resolve(n.accumulate?e.call(this,r):e.apply(this,r[r.length-1])).then(t.resolve,t.reject),r=[],s=null}}((function(e,t,n){var i=JSON.stringify({team:e,settings:t,defaultTheme:n});return ai[e.id]===i?(ai[e.id]=i,new Promise((function(e,t){e()}))):(ai[e.id]=i,Ke("/v3/teams/".concat(e.id),{payload:{name:e.name,defaultTheme:n,settings:t}}))}),500);function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function li(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oi(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ci,ui={id:"settings",title:Y("teams / tab / settings"),icon:"fa fa-gears",group:Y("teams / group / users"),order:10,h1:Y("teams / defaults / h1"),ui:yn,data:{}},di={id:"members",title:Y("teams / tab / members"),icon:"im im-users",group:Y("teams / group / users"),order:20,h1:Y("teams / h1"),ui:Kt},fi=!1;var mi={onTabChange:function(e,t){var n=this,i=e.team,s=e.settings,a=e.defaultTheme;ri(i,s,a).then((function(){n.set({team:i,settings:s,defaultTheme:a}),t&&t.saved&&t.saved()}))},setTab:function(e){var t=this,n=this.get().groups,i=!1;n.forEach((function(n){n.tabs.forEach((function(n){n.id===e&&(t.refs.navTabs.activateTab(n),i=!0)}))})),i||this.set({activeTab:ui})}};function pi(){var e=this;ci=this;var t=window.location.pathname.split("/").slice(-1)[0]||"settings";this.setTab(t),window.addEventListener("popstate",(function(t){var n=t.state;fi=!0,setTimeout((function(){return fi=!1}),100),e.setTab(n.id)}))}function hi(e){var t=e.changed,n=e.current;e.previous;t.activeTab&&n.activeTab&&!fi&&window.history.pushState({id:n.activeTab.id},"","/team/".concat(n.team.id,"/").concat(n.activeTab.id))}function vi(e,t){var n,i=t.activeTab.h1;return{c:function(){(n=N("h2")).className="svelte-kailtr"},m:function(e,t){v(e,n,t),n.innerHTML=i},p:function(e,t){e.activeTab&&i!==(i=t.activeTab.h1)&&(n.innerHTML=i)},d:function(e){e&&g(n)}}}function gi(e){var t=this;G(this,e),this.refs={},this._state=f({allTabs:[ui,di,{id:"delete",title:Y("teams / tab / deleteTeam"),icon:"fa fa-times",group:Y("teams / group / advanced"),order:80,h1:Y("teams / delete / h1"),ui:jn,ownerOnly:!0},{id:"products",title:Y("teams / tab / adminProducts"),icon:"fa fa-list-alt",group:Y("teams / group / internal"),order:90,h1:Y("teams / products / h1"),ui:ni,adminOnly:!0}],pluginTabs:[],activeTab:null,ui:yn,team:{name:""},settings:{},users:[],userId:null,visualizations:[],visualizationsArchive:[]},e.data),this._recompute({team:1,activeTab:1,allTabs:1,pluginTabs:1,isAdmin:1,role:1,tabs:1,users:1,userId:1,settings:1,defaultTheme:1,themes:1,folders:1,locales:1,visualizations:1,visualizationsArchive:1},this._state),this._intro=!0,this._handlers.state=[hi],hi.call(this,{changed:m({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,s,a,r,o,l,c,u,d,f,m,p,b,_,y,w,x,M,H,O,E,P,U,j,I,S,q=Y("account / my-teams"),D=Y("nav / team / charts"),R={};document.title=n=t.pageTitle+" | Datawrapper";var W=t.activeTab&&t.activeTab.h1&&vi(e,t),z={basePath:"team/"+t.team.id,groups:t.groups};void 0!==t.activeTab&&(z.activeTab=t.activeTab,R.activeTab=!0);var B=new ue({root:e.root,store:e.store,slots:{default:T(),belowMenu:T(),aboveContent:T()},data:z,_bind:function(t,n){var i={};!R.activeTab&&t.activeTab&&(i.activeTab=n.activeTab),e._set(i),R={}}});return e.root._beforecreate.push((function(){B._bind({activeTab:1},B.get())})),e.refs.navTabs=B,{c:function(){i=k("\n\n"),s=N("div"),a=N("div"),r=N("h1"),o=k(t.title),l=k("\n\n"),c=N("div"),u=N("div"),d=N("div"),W&&W.c(),f=k("\n            "),m=N("div"),p=N("hr"),b=k("\n                "),_=N("ul"),y=N("li"),w=N("a"),x=N("i"),M=k(" "),H=k(q),O=k("\n                    "),E=N("li"),P=N("a"),U=N("i"),j=k(" "),I=k(D),B._fragment.c(),r.className="title",L(r,"margin-bottom","18px"),a.className="span12 admin svelte-kailtr",s.className="row",C(d,"slot","aboveContent"),x.className="fa fa-fw fa-arrow-left",w.href="/account/teams",y.className="svelte-kailtr",U.className="fa fa-fw fa-arrow-left",P.href=S="/team/"+t.team.id,E.className="svelte-kailtr",_.className="unstyled svelte-kailtr",C(m,"slot","belowMenu"),u.className="visconfig",c.className="settings-section dw-create-visualize chart-editor chart-editor-web admin svelte-kailtr"},m:function(e,t){v(e,i,t),v(e,s,t),h(s,a),h(a,r),h(r,o),v(e,l,t),v(e,c,t),h(c,u),h(B._slotted.aboveContent,d),W&&W.m(d,null),h(B._slotted.default,f),h(B._slotted.belowMenu,m),h(m,p),h(m,b),h(m,_),h(_,y),h(y,w),h(w,x),h(w,M),h(w,H),h(_,O),h(_,E),h(E,P),h(P,U),h(P,j),h(P,I),B._mount(u,null)},p:function(i,s){t=s,i.pageTitle&&n!==(n=t.pageTitle+" | Datawrapper")&&(document.title=n),i.title&&A(o,t.title),t.activeTab&&t.activeTab.h1?W?W.p(i,t):((W=vi(e,t)).c(),W.m(d,null)):W&&(W.d(1),W=null),i.team&&S!==(S="/team/"+t.team.id)&&(P.href=S);var a={};i.team&&(a.basePath="team/"+t.team.id),i.groups&&(a.groups=t.groups),!R.activeTab&&i.activeTab&&(a.activeTab=t.activeTab,R.activeTab=void 0!==t.activeTab),B._set(a),R={}},d:function(t){t&&(g(i),g(s),g(l),g(c)),W&&W.d(),B.destroy(),e.refs.navTabs===B&&(e.refs.navTabs=null)}}}(this,this._state),this.root._oncreate.push((function(){pi.call(t),t.fire("update",{changed:m({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),$(this))}function bi(e,t){this._handlers={},this._dependents=[],this._computed=W(),this._sortedComputedProperties=[],this._state=f({},e),this._differs=t&&t.immutable?B:z}return f(gi.prototype,X),f(gi.prototype,mi),gi.prototype._recompute=function(e,t){var n,i,s;(e.team||e.activeTab)&&this._differs(t.pageTitle,t.pageTitle=(i=(n=t).team,s=n.activeTab,"".concat(s?s.h1:""," | ").concat(ee(i.name,17,8))))&&(e.pageTitle=!0),e.team&&this._differs(t.title,t.title=function(e){var t=e.team;return"".concat(ee(t.name,17,8)," » ").concat(Y("nav / team / settings"))}(t))&&(e.title=!0),(e.allTabs||e.team||e.pluginTabs||e.isAdmin||e.role)&&this._differs(t.tabs,t.tabs=function(e){var t=e.allTabs,n=e.team,i=e.pluginTabs,s=e.isAdmin,a=e.role;return[].concat(t,i).filter((function(e){return!(e.adminOnly&&!s)&&!(e.ownerOnly&&!s&&"owner"!==a)})).map((function(e){return li(li({},e),{},{h1:e.h1.replace("%team%",n.name)})}))}(t))&&(e.tabs=!0),(e.tabs||e.isAdmin||e.role||e.team||e.users||e.userId||e.settings||e.defaultTheme||e.themes||e.folders||e.locales||e.visualizations||e.visualizationsArchive)&&this._differs(t.groups,t.groups=function(e){var t=e.tabs,n=e.isAdmin,i=e.role,s=e.team,a=e.users,r=e.userId,o=e.settings,l=e.defaultTheme,c=e.themes,u=e.folders,d=e.locales,f=e.visualizations,m=e.visualizationsArchive,p=[];return t.forEach((function(e){e.data=li({isAdmin:n,isTeamOwner:"owner"===i,team:s,users:a,userId:r,settings:o,defaultTheme:l,themes:c,folders:u,locales:d,visualizations:f,visualizationsArchive:m},e.data),e.onchange=function(e,t){ci.onTabChange(e,t)},function(e,t){var n=e.filter((function(e){return e.title===t}));return n.length?n[0]:(e.push({title:t,tabs:[]}),e[e.length-1])}(p,e.group).tabs.push(e)})),p.forEach((function(e){e.tabs.sort((function(e,t){return e.order-t.order}))})),p}(t))&&(e.groups=!0)},f(bi.prototype,{_add:function(e,t){this._dependents.push({component:e,props:t})},_init:function(e){for(var t={},n=0;n<e.length;n+=1){var i=e[n];t["$"+i]=this._state[i]}return t},_remove:function(e){for(var t=this._dependents.length;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set:function(e,t){var n=this,i=this._state;this._state=f(f({},i),e);for(var s=0;s<this._sortedComputedProperties.length;s+=1)this._sortedComputedProperties[s].update(this._state,t);this.fire("state",{changed:t,previous:i,current:this._state}),this._dependents.filter((function(e){for(var i={},s=!1,a=0;a<e.props.length;a+=1){var r=e.props[a];r in t&&(i["$"+r]=n._state[r],s=!0)}if(s)return e.component._stage(i),!0})).forEach((function(e){e.component.set({})})),this.fire("update",{changed:t,previous:i,current:this._state})},_sortComputedProperties:function(){var e,t=this._computed,n=this._sortedComputedProperties=[],i=W();function s(a){var r=t[a];r&&(r.deps.forEach((function(t){if(t===e)throw new Error("Cyclical dependency detected between ".concat(t," <-> ").concat(a));s(t)})),i[a]||(i[a]=!0,n.push(r)))}for(var a in this._computed)s(e=a)},compute:function(e,t,n){var i,s=this,a={deps:t,update:function(a,r,o){var l=t.map((function(e){return e in r&&(o=!0),a[e]}));if(o){var c=n.apply(null,l);s._differs(c,i)&&(i=c,r[e]=!0,a[e]=i)}}};this._computed[e]=a,this._sortComputedProperties();var r=f({},this._state),o={};a.update(r,o,!0),this._set(r,o)},fire:F,get:V,on:J,set:function(e){var t=this._state,n=this._changed={},i=!1;for(var s in e){if(this._computed[s])throw new Error("'".concat(s,"' is a read-only computed property"));this._differs(e[s],t[s])&&(n[s]=i=!0)}i&&this._set(e,n)}}),{App:gi,store:new bi({})}}));
