!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/team-settings",e):(t=t||self)["team-settings"]=e()}(this,(function(){"use strict";var t=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};function e(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var n=e((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e}));var i=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i};var a=function(t){if(Array.isArray(t))return i(t)};var s=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var r=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}};var o=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var l=function(t){return a(t)||s(t)||r(t)||o()};function c(){}function u(t,e){for(var n in e)t[n]=e[n];return t}function d(t,e){for(var n in e)t[n]=1;return t}function f(t){t()}function m(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n)}function h(t){t.parentNode.removeChild(t)}function v(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function g(t){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)}function b(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}function _(t,e){for(;t.nextSibling;)e.appendChild(t.nextSibling)}function w(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(){return document.createDocumentFragment()}function T(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function x(){return document.createComment("")}function k(t,e,n,i){t.addEventListener(e,n,i)}function O(t,e,n,i){t.removeEventListener(e,n,i)}function C(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function H(t,e){t.data=""+e}function A(t,e,n){t.style.setProperty(e,n)}function j(t,e){for(var n=0;n<t.options.length;n+=1){var i=t.options[n];if(i.__value===e)return void(i.selected=!0)}}function L(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function M(t,e,n){t.classList[n?"add":"remove"](e)}function P(t){return t}function U(t,e,n,i,a){var s,r,o,l=n.call(t,e,i),u=!1;return{t:a?0:1,running:!1,program:null,pending:null,run:function(t,e){var n=this;"function"==typeof l?S.wait().then((function(){l=l(),n._run(t,e)})):this._run(t,e)},_run:function(t,n){s=l.duration||300,r=l.easing||P;var i={start:window.performance.now()+(l.delay||0),b:t,callback:n||c};a&&!u&&(l.css&&l.delay&&(o=e.style.cssText,e.style.cssText+=l.css(0,1)),l.tick&&l.tick(0,1),u=!0),t||(i.group=E.current,E.current.remaining+=1),l.delay?this.pending=i:this.start(i),this.running||(this.running=!0,S.add(this))},start:function(n){if(t.fire("".concat(n.b?"intro":"outro",".start"),{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=s*Math.abs(n.b-n.a),n.end=n.start+n.duration,l.css){l.delay&&(e.style.cssText=o);var i=function(t,e,n){for(var i=t.a,a=t.b,s=t.delta,r=16.666/t.duration,o="{\n",l=0;l<=1;l+=r){var c=i+s*e(l);o+=100*l+"%{".concat(n(c,1-c),"}\n")}return o+"100% {".concat(n(a,1-a),"}\n}")}(n,r,l.css);S.addRule(i,n.name="__svelte_"+function(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(i)),e.style.animation=(e.style.animation||"").split(", ").filter((function(t){return t&&(n.delta<0||!/__svelte/.test(t))})).concat("".concat(n.name," ").concat(n.duration,"ms linear 1 forwards")).join(", ")}this.program=n,this.pending=null},update:function(t){var e=this.program;if(e){var n=t-e.start;this.t=e.a+e.delta*r(n/e.duration),l.tick&&l.tick(this.t,1-this.t)}},done:function(){var n=this.program;this.t=n.b,l.tick&&l.tick(this.t,1-this.t),t.fire("".concat(n.b?"intro":"outro",".end"),{node:e}),n.b||n.invalidated?l.css&&S.deleteRule(e,n.name):(n.group.callbacks.push((function(){n.callback(),l.css&&S.deleteRule(e,n.name)})),0==--n.group.remaining&&n.group.callbacks.forEach(f)),this.running=!!this.pending},abort:function(t){this.program&&(t&&l.tick&&l.tick(1,0),l.css&&S.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate:function(){this.program&&(this.program.invalidated=!0)}}}var E={};function I(){E.current={remaining:0,callbacks:[]}}var S={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add:function(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(t,e){if(!this.stylesheet){var n=T("style");document.head.appendChild(n),S.stylesheet=n.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule("@keyframes ".concat(e," ").concat(t),this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var t=window.performance.now(),e=this.transitions.length;e--;){var n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(var i=this.stylesheet.cssRules.length;i--;)this.stylesheet.deleteRule(i);this.activeRules={}}},deleteRule:function(t,e){t.style.animation=t.style.animation.split(", ").filter((function(t){return t&&-1===t.indexOf(e)})).join(", ")},wait:function(){return S.promise||(S.promise=Promise.resolve(),S.promise.then((function(){S.promise=null}))),S.promise}};function D(e,n){var i,a=n.token={};function s(e,i,s,r){if(n.token===a){n.resolved=s&&t({},s,r);var o=u(u({},n.ctx),n.resolved),l=e&&(n.current=e)(n.component,o);n.block&&(n.blocks?n.blocks.forEach((function(t,e){e!==i&&t&&(I(),t.o((function(){t.d(1),n.blocks[e]=null})))})):n.block.d(1),l.c(),l[l.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=l,n.blocks&&(n.blocks[i]=l)}}if((i=e)&&"function"==typeof i.then){if(e.then((function(t){s(n.then,1,n.value,t)}),(function(t){s(n.catch,2,n.error,t)})),n.current!==n.pending)return s(n.pending,0),!0}else{if(n.current!==n.then)return s(n.then,1,n.value,e),!0;n.resolved=t({},n.value,e)}}function R(){return Object.create(null)}function q(t,e){return t!=t?e==e:t!==e||t&&"object"===n(t)||"function"==typeof t}function z(t,e){return t!=t?e==e:t!==e}function B(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var a=n[i];if(!a.__calling)try{a.__calling=!0,a.call(this,e)}finally{a.__calling=!1}}}function W(t){t._lock=!0,G(t._beforecreate),G(t._oncreate),G(t._aftercreate),t._lock=!1}function F(){return this._state}function V(t,e){t._handlers=R(),t._slots=R(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function $(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function G(t){for(;t&&t.length;)t.shift()()}var J={destroy:function(t){this.destroy=c,this.fire("destroy"),this.set=c,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:F,fire:B,on:$,set:function(t){this._set(u({},t)),this.root._lock||W(this.root)},_recompute:c,_set:function(t){var e=this._state,n={},i=!1;for(var a in t=u(this._staged,t),this._staged={},t)this._differs(t[a],e[a])&&(n[a]=i=!0);i&&(this._state=u(u({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){u(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:q},Z={};function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Z[t]=window.__dw.vis.meta.locale||{}):Z[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function K(t){var e=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),Z[n]||X(n),!Z[n][t])return"MISSING:"+t;var i=Z[n][t];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(t,n){return n=2+Number(n),void 0===e[n]?t:e[n]}))),i}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"!=typeof t||t.length<e+n+3?t:t.substr(0,e).trim()+"â€¦"+t.substr(t.length-n).trim()}function Y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,i){var a=document.createElement("script");a.src=t,a.onload=function(){e&&e(),n()},a.onerror=i,document.body.appendChild(a)}))}function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,i){var a=document.createElement("link");a.rel="stylesheet",a.href=t,a.onload=function(){e&&e(),n()},a.onerror=i,document.head.appendChild(a)}))}var et={activateTab:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t.module)return n&&n.preventDefault(),void Promise.all([tt(t.css),Y(t.js||t.src)]).then((function(){require([t.module],(function(n){t.ui=n.App,t.module=null;var i=e.get().groups;e.set({groups:i,activeTab:t})}))}));t.ui&&(n&&n.preventDefault(),this.set({activeTab:t}))},onTabChange:function(t,e){t.onchange&&t.onchange(e,this.refs.currentTabUi)}};function nt(t){var e=this._svelte,n=e.component,i=e.ctx;n.activateTab(i.tab,t)}function it(t,e,n){var i=Object.create(t);return i.tab=e[n],i}function at(t,e,n){var i=Object.create(t);return i.group=e[n],i}function st(t,e){var n,i,a,s,r,o,l,c=e.tab.title;return{c:function(){n=T("li"),i=T("a"),a=T("i"),r=N(" Â  "),o=N(c),a.className=s=e.tab.icon+" svelte-5we305",i._svelte={component:t,ctx:e},k(i,"click",nt),i.href=l=e.tab.url||"/".concat(e.basePath,"/").concat(e.tab.id),i.className="svelte-5we305",n.className="svelte-5we305",M(n,"active",e.activeTab&&e.activeTab.id===e.tab.id)},m:function(t,e){p(t,n,e),m(n,i),m(i,a),m(i,r),m(i,o)},p:function(t,r){e=r,t.groups&&s!==(s=e.tab.icon+" svelte-5we305")&&(a.className=s),t.groups&&c!==(c=e.tab.title)&&H(o,c),i._svelte.ctx=e,(t.groups||t.basePath)&&l!==(l=e.tab.url||"/".concat(e.basePath,"/").concat(e.tab.id))&&(i.href=l),(t.activeTab||t.groups)&&M(n,"active",e.activeTab&&e.activeTab.id===e.tab.id)},d:function(t){t&&h(n),O(i,"click",nt)}}}function rt(t,e){for(var n,i,a,s,r=e.group.title,o=e.group.tabs,l=[],c=0;c<o.length;c+=1)l[c]=st(t,it(e,o,c));return{c:function(){n=T("div"),i=N(r),a=N("\n\n        "),s=T("ul");for(var t=0;t<l.length;t+=1)l[t].c();n.className="group svelte-5we305",s.className="nav nav-stacked nav-tabs"},m:function(t,e){p(t,n,e),m(n,i),p(t,a,e),p(t,s,e);for(var r=0;r<l.length;r+=1)l[r].m(s,null)},p:function(e,n){if(e.groups&&r!==(r=n.group.title)&&H(i,r),e.activeTab||e.groups||e.basePath){o=n.group.tabs;for(var a=0;a<o.length;a+=1){var c=it(n,o,a);l[a]?l[a].p(e,c):(l[a]=st(t,c),l[a].c(),l[a].m(s,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=o.length}},d:function(t){t&&(h(n),h(a),h(s)),w(l,t)}}}function ot(t,e){var n,i,a,s,r,o,l=t._slotted.aboveContent,c=t._slotted.belowContent,d=[e.activeTab.data],f=e.activeTab.ui;function v(e){for(var n={},i=0;i<d.length;i+=1)n=u(n,d[i]);return{root:t.root,store:t.store,data:n}}if(f)var g=new f(v());function b(n){t.onTabChange(e.activeTab,n)}return g&&g.on("change",b),{c:function(){n=T("div"),a=N("\n        "),g&&g._fragment.c(),s=N("\n        "),n.className=o="span10 account-page-content tab-"+e.activeTab.id+" svelte-5we305"},m:function(e,o){p(e,n,o),l&&(m(n,l),m(n,i||(i=x()))),m(n,a),g&&(g._mount(n,null),t.refs.currentTabUi=g),m(n,s),c&&(m(n,r||(r=x())),m(n,c))},p:function(i,a){e=a;var r=i.activeTab?function(t,e){for(var n={},i={},a={},s=t.length;s--;){var r=t[s],o=e[s];if(o){for(var l in r)l in o||(i[l]=1);for(var l in o)a[l]||(n[l]=o[l],a[l]=1);t[s]=o}else for(var l in r)a[l]=1}for(var l in i)l in n||(n[l]=void 0);return n}(d,[e.activeTab.data]):{};f!==(f=e.activeTab.ui)?(g&&g.destroy(),f?((g=new f(v()))._fragment.c(),g._mount(n,s),g.on("change",b),t.refs.currentTabUi=g):(g=null,t.refs.currentTabUi===g&&(t.refs.currentTabUi=null))):f&&g._set(r),i.activeTab&&o!==(o="span10 account-page-content tab-"+e.activeTab.id+" svelte-5we305")&&(n.className=o)},d:function(t){t&&h(n),l&&function(t,e){for(var n=t.parentNode;n.firstChild!==t;)e.appendChild(n.firstChild)}(i,l),g&&g.destroy(),c&&_(r,c)}}}function lt(t){V(this,t),this.refs={},this._state=u({groups:[],basePath:"",activeTab:null},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){for(var n,i,a,s,r,o=t._slotted.belowMenu,l=e.groups,c=[],u=0;u<l.length;u+=1)c[u]=rt(t,at(e,l,u));var d=e.activeTab&&ot(t,e);return{c:function(){n=T("div"),i=T("div");for(var t=0;t<c.length;t+=1)c[t].c();a=N("\n        "),r=N("\n    "),d&&d.c(),i.className="span2 svelte-5we305",n.className="row"},m:function(t,e){p(t,n,e),m(n,i);for(var l=0;l<c.length;l+=1)c[l].m(i,null);m(i,a),o&&(m(i,s||(s=x())),m(i,o)),m(n,r),d&&d.m(n,null)},p:function(e,s){if(e.groups||e.activeTab||e.basePath){l=s.groups;for(var r=0;r<l.length;r+=1){var o=at(s,l,r);c[r]?c[r].p(e,o):(c[r]=rt(t,o),c[r].c(),c[r].m(i,a))}for(;r<c.length;r+=1)c[r].d(1);c.length=l.length}s.activeTab?d?d.p(e,s):((d=ot(t,s)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(t){t&&h(n),w(c,t),o&&_(s,o),d&&d.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}u(lt.prototype,J),u(lt.prototype,et);var ct={true:"ASC",false:"DESC"},ut=ct.true;var dt={sort:function(t,e){t.preventDefault();var n,i=(n=this.get(),e===n.orderBy?ct[n.order!==ut]:ut);this.set({orderBy:e,order:i}),this.fire("sort",{orderBy:e,order:i})}};function ft(t){var e=this._svelte,n=e.component,i=e.ctx;n.sort(t,i.item.orderBy)}function mt(t,e,n){var i=Object.create(t);return i.item=e[n],i}function pt(t,e,n){var i=Object.create(t);return i.item=e[n],i}function ht(t,e){var n;return{c:function(){A(n=T("col"),"width",e.item.width)},m:function(t,e){p(t,n,e)},p:function(t,e){t.columnHeaders&&A(n,"width",e.item.width)},d:function(t){t&&h(n)}}}function vt(t,e){var n,i,a=e.item.title;return{c:function(){n=T("span"),i=N(a),n.className="col"},m:function(t,e){p(t,n,e),m(n,i)},p:function(t,e){t.columnHeaders&&a!==(a=e.item.title)&&H(i,a)},d:function(t){t&&h(n)}}}function gt(t,e){var n,i,a,s,r=e.item.title;return{c:function(){n=T("a"),i=N(r),n._svelte={component:t,ctx:e},k(n,"click",ft),n.className=a="sortable "+(e.isActive(e.item)?e.isAscending?"sortable-asc":"sortable-desc":"")+" svelte-1ef3poq",n.href=s="?orderBy=".concat(e.item.orderBy)},m:function(t,e){p(t,n,e),m(n,i)},p:function(t,o){e=o,t.columnHeaders&&r!==(r=e.item.title)&&H(i,r),n._svelte.ctx=e,(t.isActive||t.columnHeaders||t.isAscending)&&a!==(a="sortable "+(e.isActive(e.item)?e.isAscending?"sortable-asc":"sortable-desc":"")+" svelte-1ef3poq")&&(n.className=a),t.columnHeaders&&s!==(s="?orderBy=".concat(e.item.orderBy))&&(n.href=s)},d:function(t){t&&h(n),O(n,"click",ft)}}}function bt(t,e){var n,i;function a(t){return t.item.orderBy?gt:vt}var s=a(e),r=s(t,e);return{c:function(){n=T("th"),r.c(),n.className=i=(e.item.className?e.item.className:"")+" svelte-1ef3poq"},m:function(t,e){p(t,n,e),r.m(n,null)},p:function(e,o){s===(s=a(o))&&r?r.p(e,o):(r.d(1),(r=s(t,o)).c(),r.m(n,null)),e.columnHeaders&&i!==(i=(o.item.className?o.item.className:"")+" svelte-1ef3poq")&&(n.className=i)},d:function(t){t&&h(n),r.d()}}}function _t(t){V(this,t),this._state=u({order:ut,orderBy:""},t.data),this._recompute({orderBy:1,order:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){for(var n,i,a,s,r,o,l,c,u=t._slotted.default,d=e.columnHeaders,f=[],v=0;v<d.length;v+=1)f[v]=ht(t,pt(e,d,v));var g=e.columnHeaders,_=[];for(v=0;v<g.length;v+=1)_[v]=bt(t,mt(e,g,v));return{c:function(){n=T("div"),i=T("table"),a=T("colgroup");for(var t=0;t<f.length;t+=1)f[t].c();s=N("\n\n        "),r=T("thead"),o=T("tr");for(t=0;t<_.length;t+=1)_[t].c();l=N("\n\n        "),c=T("tbody"),i.className="table svelte-1ef3poq",n.className="table-container svelte-1ef3poq"},m:function(t,e){p(t,n,e),m(n,i),m(i,a);for(var d=0;d<f.length;d+=1)f[d].m(a,null);m(i,s),m(i,r),m(r,o);for(d=0;d<_.length;d+=1)_[d].m(o,null);m(i,l),m(i,c),u&&m(c,u)},p:function(e,n){if(e.columnHeaders){d=n.columnHeaders;for(var i=0;i<d.length;i+=1){var s=pt(n,d,i);f[i]?f[i].p(e,s):(f[i]=ht(t,s),f[i].c(),f[i].m(a,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=d.length}if(e.columnHeaders||e.isActive||e.isAscending){g=n.columnHeaders;for(i=0;i<g.length;i+=1){var r=mt(n,g,i);_[i]?_[i].p(e,r):(_[i]=bt(t,r),_[i].c(),_[i].m(o,null))}for(;i<_.length;i+=1)_[i].d(1);_.length=g.length}},d:function(t){t&&h(n),w(f,t),w(_,t),u&&b(c,u)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}u(_t.prototype,J),u(_t.prototype,dt),_t.prototype._recompute=function(t,e){var n;t.orderBy&&this._differs(e.isActive,e.isActive=(n=e.orderBy,function(t){return n===t.orderBy}))&&(t.isActive=!0),t.order&&this._differs(e.isAscending,e.isAscending=e.order===ut)&&(t.isAscending=!0)};var wt="100px";function yt(t,e){var n,i,a,s=e.labelHelp&&Tt(t,e);return{c:function(){n=T("label"),i=T("noscript"),a=N(" "),s&&s.c(),A(n,"width",e.width||wt),n.className="control-label svelte-p72242",M(n,"disabled",e.disabled)},m:function(t,r){p(t,n,r),m(n,i),i.insertAdjacentHTML("beforebegin",e.label),m(n,a),s&&s.m(n,null)},p:function(e,a){e.label&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(i),i.insertAdjacentHTML("beforebegin",a.label)),a.labelHelp?s?s.p(e,a):((s=Tt(t,a)).c(),s.m(n,null)):s&&(s.d(1),s=null),e.width&&A(n,"width",a.width||wt),e.disabled&&M(n,"disabled",a.disabled)},d:function(t){t&&h(n),s&&s.d()}}}function Tt(t,e){var n;return{c:function(){(n=T("p")).className="mini-help mt-1"},m:function(t,i){p(t,n,i),n.innerHTML=e.labelHelp},p:function(t,e){t.labelHelp&&(n.innerHTML=e.labelHelp)},d:function(t){t&&h(n)}}}function Nt(t,e){var n,i;return{c:function(){A(n=T("p"),"padding-left",e.inline?0:e.width||wt),n.className=i="mini-help "+e.type+" svelte-p72242",M(n,"mini-help-block",!e.inline)},m:function(t,i){p(t,n,i),n.innerHTML=e.help},p:function(t,e){t.help&&(n.innerHTML=e.help),(t.inline||t.width)&&A(n,"padding-left",e.inline?0:e.width||wt),t.type&&i!==(i="mini-help "+e.type+" svelte-p72242")&&(n.className=i),(t.type||t.inline)&&M(n,"mini-help-block",!e.inline)},d:function(t){t&&h(n)}}}function xt(t){var e,n,i,a,s,r,o,l,c,d;V(this,t),this._state=u({disabled:!1,help:!1,type:"default",valign:"baseline",inline:!1},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,l=e._slotted.default,c=n.label&&yt(e,n),d=n.help&&Nt(0,n),{c:function(){i=T("div"),c&&c.c(),a=N("\n    "),s=T("div"),r=N("\n    "),d&&d.c(),s.className="controls svelte-p72242",A(s,"width","calc(100% - "+(n.width||wt)+" - 32px)"),M(s,"form-inline",n.inline),i.className=o="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-p72242"},m:function(t,e){p(t,i,e),c&&c.m(i,null),m(i,a),m(i,s),l&&m(s,l),m(i,r),d&&d.m(i,null)},p:function(t,n){n.label?c?c.p(t,n):((c=yt(e,n)).c(),c.m(i,a)):c&&(c.d(1),c=null),t.width&&A(s,"width","calc(100% - "+(n.width||wt)+" - 32px)"),t.inline&&M(s,"form-inline",n.inline),n.help?d?d.p(t,n):((d=Nt(0,n)).c(),d.m(i,null)):d&&(d.d(1),d=null),(t.type||t.valign)&&o!==(o="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-p72242")&&(i.className=o)},d:function(t){t&&h(i),c&&c.d(),l&&b(s,l),d&&d.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function kt(t,e,n){var i=Object.create(t);return i.opt=e[n],i}function Ot(t,e,n){var i=Object.create(t);return i.optgroup=e[n],i}function Ct(t,e,n){var i=Object.create(t);return i.opt=e[n],i}function Ht(t,e){for(var n,i=e.options,a=[],s=0;s<i.length;s+=1)a[s]=At(t,Ct(e,i,s));return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=x()},m:function(t,e){for(var i=0;i<a.length;i+=1)a[i].m(t,e);p(t,n,e)},p:function(e,s){if(e.options||e.value){i=s.options;for(var r=0;r<i.length;r+=1){var o=Ct(s,i,r);a[r]?a[r].p(e,o):(a[r]=At(t,o),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d:function(t){w(a,t),t&&h(n)}}}function At(t,e){var n,i,a,s,r=e.opt.label;return{c:function(){n=T("option"),i=N(r),n.__value=a=e.opt.value,n.value=n.__value,n.selected=s=e.opt.value===e.value},m:function(t,e){p(t,n,e),m(n,i)},p:function(t,e){t.options&&r!==(r=e.opt.label)&&H(i,r),t.options&&a!==(a=e.opt.value)&&(n.__value=a),n.value=n.__value,(t.options||t.value)&&s!==(s=e.opt.value===e.value)&&(n.selected=s)},d:function(t){t&&h(n)}}}function jt(t,e){for(var n,i=e.optgroups,a=[],s=0;s<i.length;s+=1)a[s]=Mt(t,Ot(e,i,s));return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=x()},m:function(t,e){for(var i=0;i<a.length;i+=1)a[i].m(t,e);p(t,n,e)},p:function(e,s){if(e.optgroups||e.value){i=s.optgroups;for(var r=0;r<i.length;r+=1){var o=Ot(s,i,r);a[r]?a[r].p(e,o):(a[r]=Mt(t,o),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d:function(t){w(a,t),t&&h(n)}}}function Lt(t,e){var n,i,a,s,r=e.opt.label;return{c:function(){n=T("option"),i=N(r),n.__value=a=e.opt.value,n.value=n.__value,n.selected=s=e.opt.value===e.value},m:function(t,e){p(t,n,e),m(n,i)},p:function(t,e){t.optgroups&&r!==(r=e.opt.label)&&H(i,r),t.optgroups&&a!==(a=e.opt.value)&&(n.__value=a),n.value=n.__value,(t.optgroups||t.value)&&s!==(s=e.opt.value===e.value)&&(n.selected=s)},d:function(t){t&&h(n)}}}function Mt(t,e){for(var n,i,a=e.optgroup.options,s=[],r=0;r<a.length;r+=1)s[r]=Lt(0,kt(e,a,r));return{c:function(){n=T("optgroup");for(var t=0;t<s.length;t+=1)s[t].c();C(n,"label",i=e.optgroup.label)},m:function(t,e){p(t,n,e);for(var i=0;i<s.length;i+=1)s[i].m(n,null)},p:function(t,e){if(t.optgroups||t.value){a=e.optgroup.options;for(var r=0;r<a.length;r+=1){var o=kt(e,a,r);s[r]?s[r].p(t,o):(s[r]=Lt(0,o),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}t.optgroups&&i!==(i=e.optgroup.label)&&C(n,"label",i)},d:function(t){t&&h(n),w(s,t)}}}function Pt(t){V(this,t),this._state=u({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[],value:null},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,a=!1,s=e.options.length&&Ht(t,e),r=e.optgroups.length&&jt(t,e);function o(){a=!0,t.set({value:L(n)}),a=!1}function l(e){t.fire("change",e)}return{c:function(){n=T("select"),s&&s.c(),i=x(),r&&r.c(),k(n,"change",o),"value"in e||t.root._beforecreate.push(o),k(n,"change",l),n.className="select-css svelte-v0oq4b",n.disabled=e.disabled,A(n,"width",e.width)},m:function(t,a){p(t,n,a),s&&s.m(n,null),m(n,i),r&&r.m(n,null),j(n,e.value)},p:function(e,o){o.options.length?s?s.p(e,o):((s=Ht(t,o)).c(),s.m(n,i)):s&&(s.d(1),s=null),o.optgroups.length?r?r.p(e,o):((r=jt(t,o)).c(),r.m(n,null)):r&&(r.d(1),r=null),!a&&e.value&&j(n,o.value),e.disabled&&(n.disabled=o.disabled),e.width&&A(n,"width",o.width)},d:function(t){t&&h(n),s&&s.d(),r&&r.d(),O(n,"change",o),O(n,"change",l)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}function Ut(t){V(this,t),this._state=u({disabled:!1,width:null,labelWidth:null,options:[],optgroups:[],valign:"middle",inline:!0,help:""},t.data),this._recompute({inline:1,width:1,labelWidth:1},this._state),this._intro=!0,this._fragment=function(t,e){var n={},i={},a={width:e.controlWidth};void 0!==e.value&&(a.value=e.value,n.value=!0),void 0!==e.disabled&&(a.disabled=e.disabled,n.disabled=!0),void 0!==e.options&&(a.options=e.options,n.options=!0),void 0!==e.optgroups&&(a.optgroups=e.optgroups,n.optgroups=!0);var s=new Pt({root:t.root,store:t.store,data:a,_bind:function(e,i){var a={};!n.value&&e.value&&(a.value=i.value),!n.disabled&&e.disabled&&(a.disabled=i.disabled),!n.options&&e.options&&(a.options=i.options),!n.optgroups&&e.optgroups&&(a.optgroups=i.optgroups),t._set(a),n={}}});t.root._beforecreate.push((function(){s._bind({value:1,disabled:1,options:1,optgroups:1},s.get())})),s.on("change",(function(e){t.fire("change",e)}));var r={width:e.labelWidth,type:"select"};void 0!==e.valign&&(r.valign=e.valign,i.valign=!0),void 0!==e.label&&(r.label=e.label,i.label=!0),void 0!==e.disabled&&(r.disabled=e.disabled,i.disabled=!0),void 0!==e.help&&(r.help=e.help,i.help=!0),void 0!==e.inline&&(r.inline=e.inline,i.inline=!0);var o=new xt({root:t.root,store:t.store,slots:{default:y()},data:r,_bind:function(e,n){var a={};!i.valign&&e.valign&&(a.valign=n.valign),!i.label&&e.label&&(a.label=n.label),!i.disabled&&e.disabled&&(a.disabled=n.disabled),!i.help&&e.help&&(a.help=n.help),!i.inline&&e.inline&&(a.inline=n.inline),t._set(a),i={}}});return t.root._beforecreate.push((function(){o._bind({valign:1,label:1,disabled:1,help:1,inline:1},o.get())})),{c:function(){s._fragment.c(),o._fragment.c()},m:function(t,e){s._mount(o._slotted.default,null),o._mount(t,e)},p:function(t,a){e=a;var r={};t.controlWidth&&(r.width=e.controlWidth),!n.value&&t.value&&(r.value=e.value,n.value=void 0!==e.value),!n.disabled&&t.disabled&&(r.disabled=e.disabled,n.disabled=void 0!==e.disabled),!n.options&&t.options&&(r.options=e.options,n.options=void 0!==e.options),!n.optgroups&&t.optgroups&&(r.optgroups=e.optgroups,n.optgroups=void 0!==e.optgroups),s._set(r),n={};var l={};t.labelWidth&&(l.width=e.labelWidth),!i.valign&&t.valign&&(l.valign=e.valign,i.valign=void 0!==e.valign),!i.label&&t.label&&(l.label=e.label,i.label=void 0!==e.label),!i.disabled&&t.disabled&&(l.disabled=e.disabled,i.disabled=void 0!==e.disabled),!i.help&&t.help&&(l.help=e.help,i.help=void 0!==e.help),!i.inline&&t.inline&&(l.inline=e.inline,i.inline=void 0!==e.inline),o._set(l),i={}},d:function(t){s.destroy(),o.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}u(xt.prototype,J),u(Pt.prototype,J),u(Ut.prototype,J),Ut.prototype._recompute=function(t,e){var n,i,a;(t.inline||t.width)&&this._differs(e.controlWidth,e.controlWidth=(i=(n=e).inline,a=n.width,i?a||"auto":a))&&(t.controlWidth=!0),(t.inline||t.labelWidth)&&this._differs(e.labelWidth,e.labelWidth=function(t){var e=t.inline,n=t.labelWidth;return e?n||"auto":n}(e))&&(t.labelWidth=!0)};var Et=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},It=e((function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,i)}t.exports=e}));var St=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)};var Dt=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var Rt=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?Dt(t):e},qt=e((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e}));var zt=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")};var Bt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}},Wt=e((function(t){function e(n,i,a){return Bt()?t.exports=e=Reflect.construct:t.exports=e=function(t,e,n){var i=[null];i.push.apply(i,e);var a=new(Function.bind.apply(t,i));return n&&It(a,n.prototype),a},e.apply(null,arguments)}t.exports=e})),Ft=e((function(t){function e(n){var i="function"==typeof Map?new Map:void 0;return t.exports=e=function(t){if(null===t||!zt(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return Wt(t,arguments,qt(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),It(e,t)},e(n)}t.exports=e}));var Vt=function(t,e){if(null==t)return{};var n,i,a={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(a[n]=t[n]);return a};var $t=function(t,e){if(null==t)return{};var n,i,a=Vt(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a},Gt=e((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function a(){}function s(e,n,s){if("undefined"!=typeof document){"number"==typeof(s=t({path:"/"},a.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=e+"="+n+o}}function r(t,n){if("undefined"!=typeof document){for(var a={},s=document.cookie?document.cookie.split("; "):[],r=0;r<s.length;r++){var o=s[r].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(o[0]);if(l=(i.read||i)(l,c)||e(l),n)try{l=JSON.parse(l)}catch(t){}if(a[c]=l,t===c)break}catch(t){}}return t?a[t]:a}}return a.set=s,a.get=function(t){return r(t,!1)},a.getJSON=function(t){return r(t,!0)},a.remove=function(e,n){s(e,"",t(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))},t.exports=n()}));function Jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=qt(t);if(e){var a=qt(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Rt(this,n)}}function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xt(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Zt(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Zt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Kt=new Set(["get","head","options","trace"]);function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.fetch)try{e.fetch=window.fetch}catch(t){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!e.baseUrl)try{e.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(t){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,i=Xt(Xt({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},e),{},{headers:Xt({"Content-Type":"application/json"},e.headers)}),a=i.payload,s=i.baseUrl,r=i.fetch,o=i.raw,l=$t(i,["payload","baseUrl","fetch","raw"]),c="".concat(s.replace(/\/$/,""),"/").concat(t.replace(/^\//,""));if(a&&(l.body=JSON.stringify(a)),Kt.has(l.method.toLowerCase()))n=r(c,l);else{var u=Gt.get("crumb");u?(l.headers["X-CSRF-Token"]=u,n=r(c,l)):n=Qt("/v3/me",{fetch:r,baseUrl:s}).then((function(){var t=Gt.get("crumb");t&&(l.headers["X-CSRF-Token"]=t)})).catch((function(){})).then((function(){return r(c,l)}))}return n.then((function(t){if(o)return t;if(!t.ok)throw new ie(t);if(204===t.status||!t.headers.get("content-type"))return t;var e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()}))}var Yt=Qt.get=ne("GET"),te=Qt.patch=ne("PATCH"),ee=(Qt.put=ne("PUT"),Qt.post=ne("POST"));Qt.head=ne("HEAD");function ne(t){return function(e,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(t.toLowerCase(),"()"));return Qt(e,Xt(Xt({},n),{},{method:t}))}}Qt.delete=ne("DELETE");var ie=function(t){St(n,t);var e=Jt(n);function n(t){var i;return Et(this,n),(i=e.call(this)).name="HttpReqError",i.status=t.status,i.statusText=t.statusText,i.message="[".concat(t.status,"] ").concat(t.statusText),i.response=t,i}return n}(Ft(Error));function ae(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}var se=[{value:"owner",label:K("teams / role / owner").replace("&shy;","")},{value:"admin",label:K("teams / role / admin").replace("&shy;","")},{value:"member",label:K("teams / role / member").replace("&shy;","")}],re=_t;function oe(t){return{member:K("teams / role / member"),admin:K("teams / role / admin"),owner:K("teams / role / owner")}[t]}var le={toggleEdit:function(t){this.get().editId===t?(this.set({editId:!1}),this.updateRole(t)):this.set({editId:t})},removeUser:function(t){try{var e=this;if(!window.confirm(K("teams / remove / alert")))return;return ae(Qt.delete("/v3/teams/".concat(e.get().team.id,"/members/").concat(t.id)),(function(){var n=e.get().users;n=n.filter((function(e){return e.id!==t.id})),e.set({users:n})}))}catch(t){return Promise.reject(t)}},updateRole:function(t){try{var e=this,n=e.get(),i=n.updating,a=n.users.filter((function(e){return e.id===t}))[0];return i[a.id]=!0,e.set({updating:i}),ae(Qt.put("/v3/teams/".concat(e.get().team.id,"/members/").concat(a.id,"/status"),{payload:{status:a.role}}),(function(){(i=e.get().updating)[a.id]=!1,e.set({updating:i})}))}catch(t){return Promise.reject(t)}}};function ce(t){var e=this._svelte,n=e.component,i=e.ctx;n.removeUser(i.user)}function ue(t){var e=this._svelte,n=e.component,i=e.ctx;n.toggleEdit(i.user.id)}function de(t){var e=this._svelte,n=e.component,i=e.ctx;n.toggleEdit(i.user.id)}function fe(t,e,n){var i=Object.create(t);return i.user=e[n],i.each_value=e,i.i=n,i}function me(t,e){var n,i=K("teams / total").replace("%i%",e.numUsers);return{c:function(){n=N(i)},m:function(t,e){p(t,n,e)},p:function(t,e){t.numUsers&&i!==(i=K("teams / total").replace("%i%",e.numUsers))&&H(n,i)},d:function(t){t&&h(n)}}}function pe(t,e){var n,i=K("teams / total / 1");return{c:function(){n=N(i)},m:function(t,e){p(t,n,e)},p:c,d:function(t){t&&h(n)}}}function he(t,e){for(var n,i=e.sortedUsers,a=[],s=0;s<i.length;s+=1)a[s]=xe(t,fe(e,i,s));var r={columnHeaders:e.userHeaders},o=new re({root:t.root,store:t.store,slots:{default:y()},data:r});return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=x(),o._fragment.c()},m:function(t,e){for(var i=0;i<a.length;i+=1)a[i].m(o._slotted.default,null);m(o._slotted.default,n),o._mount(t,e)},p:function(e,s){if(e.isAdmin||e.isTeamOwner||e.sortedUsers||e.editId||e.updating||e.roles){i=s.sortedUsers;for(var r=0;r<i.length;r+=1){var l=fe(s,i,r);a[r]?a[r].p(e,l):(a[r]=xe(t,l),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}var c={};e.userHeaders&&(c.columnHeaders=s.userHeaders),o._set(c)},d:function(t){w(a,t),o.destroy(t)}}}function ve(t,e){var n,i,a,s,r=e.user.id;return{c:function(){n=T("td"),i=T("a"),a=N(r),i.href=s="/admin/users/"+e.user.id},m:function(t,e){p(t,n,e),m(n,i),m(i,a)},p:function(t,e){t.sortedUsers&&r!==(r=e.user.id)&&H(a,r),t.sortedUsers&&s!==(s="/admin/users/"+e.user.id)&&(i.href=s)},d:function(t){t&&h(n)}}}function ge(t,e){var n,i,a,s,r=oe(e.user.role),o=e.user.token&&_e();return{c:function(){n=T("noscript"),i=T("noscript"),a=N(" "),o&&o.c(),s=x()},m:function(t,e){p(t,n,e),n.insertAdjacentHTML("afterend",r),p(t,i,e),p(t,a,e),o&&o.m(t,e),p(t,s,e)},p:function(t,e){t.sortedUsers&&r!==(r=oe(e.user.role))&&(v(n,i),n.insertAdjacentHTML("afterend",r)),e.user.token?o||((o=_e()).c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d:function(t){t&&(v(n,i),h(n),h(i),h(a)),o&&o.d(t),t&&h(s)}}}function be(t,e){var n={},i={label:"",width:"200px",labelWidth:"0px",help:K("teams / role / p"),options:e.roles};void 0!==e.user.role&&(i.value=e.user.role,n.value=!0);var a=new Ut({root:t.root,store:t.store,data:i,_bind:function(i,a){var s={};!n.value&&i.value&&(e.user.role=a.value,s.sortedUsers=e.sortedUsers),t._set(s),n={}}});return t.root._beforecreate.push((function(){a._bind({value:1},a.get())})),{c:function(){a._fragment.c()},m:function(t,e){a._mount(t,e)},p:function(t,i){e=i;var s={};t.roles&&(s.options=e.roles),!n.value&&t.sortedUsers&&(s.value=e.user.role,n.value=void 0!==e.user.role),a._set(s),n={}},d:function(t){a.destroy(t)}}}function _e(t,e){var n,i,a=K("teams / invite-pending");return{c:function(){n=T("i"),i=N(a)},m:function(t,e){p(t,n,e),m(n,i)},d:function(t){t&&h(n)}}}function we(t,e){var n;function i(t){return t.editId===t.user.id?Ne:t.updating[t.user.id]?Te:ye}var a=i(e),s=a(t,e);return{c:function(){s.c(),n=x()},m:function(t,e){s.m(t,e),p(t,n,e)},p:function(e,r){a===(a=i(r))&&s?s.p(e,r):(s.d(1),(s=a(t,r)).c(),s.m(n.parentNode,n))},d:function(t){s.d(t),t&&h(n)}}}function ye(t,e){var n,i,a,s,r,o,l,c,u,d=K("teams / edit"),f=K("teams / remove");return{c:function(){n=T("button"),i=T("i"),a=N("Â  "),s=N(d),r=N("\n\n            "),o=T("button"),l=T("i"),c=N("Â  "),u=N(f),i.className="fa fa-edit",n._svelte={component:t,ctx:e},k(n,"click",ue),n.className="btn",l.className="fa fa-times",o._svelte={component:t,ctx:e},k(o,"click",ce),o.className="btn"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),m(n,s),p(t,r,e),p(t,o,e),m(o,l),m(o,c),m(o,u)},p:function(t,i){e=i,n._svelte.ctx=e,o._svelte.ctx=e},d:function(t){t&&h(n),O(n,"click",ue),t&&(h(r),h(o)),O(o,"click",ce)}}}function Te(t,e){var n,i,a,s,r=K("teams / save");return{c:function(){n=T("button"),i=T("i"),a=N("Â  "),s=N(r),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),m(n,s)},p:c,d:function(t){t&&h(n)}}}function Ne(t,e){var n,i,a,s,r=K("teams / save");return{c:function(){n=T("button"),i=T("i"),a=N("Â  "),s=N(r),i.className="fa fa-check",n._svelte={component:t,ctx:e},k(n,"click",de),n.className="btn btn-primary"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),m(n,s)},p:function(t,i){e=i,n._svelte.ctx=e},d:function(t){t&&h(n),O(n,"click",de)}}}function xe(t,e){var n,i,a,s,r,o,l,c,u,d,f,v,g=e.user.email,b=e.user.charts,_=e.isAdmin&&ve(0,e);function w(t){return t.editId===t.user.id?be:ge}var y=w(e),x=y(t,e),k=(e.isAdmin||e.isTeamOwner||!e.isTeamOwner&&"owner"!=e.user.role)&&we(t,e);return{c:function(){n=T("tr"),i=T("td"),a=N(g),s=N("\n        "),_&&_.c(),r=N("\n        "),o=T("td"),l=N(b),c=N("\n        "),u=T("td"),x.c(),d=N("\n        "),f=T("td"),k&&k.c(),v=N("\n    ")},m:function(t,e){p(t,n,e),m(n,i),m(i,a),m(n,s),_&&_.m(n,null),m(n,r),m(n,o),m(o,l),m(n,c),m(n,u),x.m(u,null),m(n,d),m(n,f),k&&k.m(f,null),m(n,v)},p:function(e,i){e.sortedUsers&&g!==(g=i.user.email)&&H(a,g),i.isAdmin?_?_.p(e,i):((_=ve(0,i)).c(),_.m(n,r)):_&&(_.d(1),_=null),e.sortedUsers&&b!==(b=i.user.charts)&&H(l,b),y===(y=w(i))&&x?x.p(e,i):(x.d(1),(x=y(t,i)).c(),x.m(u,null)),i.isAdmin||i.isTeamOwner||!i.isTeamOwner&&"owner"!=i.user.role?k?k.p(e,i):((k=we(t,i)).c(),k.m(f,null)):k&&(k.d(1),k=null)},d:function(t){t&&h(n),_&&_.d(),x.d(),k&&k.d()}}}function ke(t){V(this,t),this._state=u({editId:!1,updating:{},users:[]},t.data),this._recompute({isAdmin:1,isTeamOwner:1,users:1,numCharts:1,team:1},this._state),this._intro=!0,this._fragment=function(t,e){var n,i,a,s,r;function o(t){return 1===t.numUsers?pe:t.numUsers>1?me:void 0}var l=o(e),c=l&&l(t,e),u=e.sortedUsers.length&&he(t,e);return{c:function(){n=T("p"),c&&c.c(),i=N(" "),a=T("noscript"),s=N("\n\n"),u&&u.c(),r=x()},m:function(t,o){p(t,n,o),c&&c.m(n,null),m(n,i),m(n,a),a.insertAdjacentHTML("afterend",e.numChartsCaption),p(t,s,o),u&&u.m(t,o),p(t,r,o)},p:function(e,s){l===(l=o(s))&&c?c.p(e,s):(c&&c.d(1),(c=l&&l(t,s))&&c.c(),c&&c.m(n,i)),e.numChartsCaption&&(g(a),a.insertAdjacentHTML("afterend",s.numChartsCaption)),s.sortedUsers.length?u?u.p(e,s):((u=he(t,s)).c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d:function(t){t&&h(n),c&&c.d(),t&&h(s),u&&u.d(t),t&&h(r)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}u(ke.prototype,J),u(ke.prototype,le),ke.prototype._recompute=function(t,e){var n,i,a,s,r;(t.isAdmin||t.isTeamOwner)&&this._differs(e.roles,e.roles=(i=(n=e).isAdmin,a=n.isTeamOwner,i||a?se:se.slice(1)))&&(t.roles=!0),(t.users||t.isAdmin)&&this._differs(e.sortedUsers,e.sortedUsers=function(t){var e=t.users,n=t.isAdmin;return e.sort((function(t,e){var n=["owner","admin","member"];return n.indexOf(t.role)>n.indexOf(e.role)?1:n.indexOf(t.role)<n.indexOf(e.role)?-1:t.email>e.email?1:t.email<e.email?-1:0})).filter((function(t){return n||!t.isAdmin}))}(e))&&(t.sortedUsers=!0),t.isAdmin&&this._differs(e.userHeaders,e.userHeaders=function(t){var e=t.isAdmin,n=[{title:K("teams / user"),width:"25%"},{title:"ID",width:"10%"},{title:"Charts",width:"15%"},{title:K("teams / status"),width:"15%"},{title:K("teams / actions"),width:"30%"}];return e||n.splice(1,1),n}(e))&&(t.userHeaders=!0),t.users&&(this._differs(e.numUsers,e.numUsers=e.users.length)&&(t.numUsers=!0),this._differs(e.numCharts,e.numCharts=(s=e.users,r=0,s.forEach((function(t){r+=t.charts})),r))&&(t.numCharts=!0)),(t.numCharts||t.isAdmin||t.team)&&this._differs(e.numChartsCaption,e.numChartsCaption=function(t){var e=t.numCharts,n=t.isAdmin,i=t.team;return 1===e?K("teams / charts-total / 1"):e>1?n?K("teams / charts-total-admin").replace("%i%",e).replace("%link%","/admin/chart/by/".concat(i.id)):K("teams / charts-total").replace("%i%",e):""}(e))&&(t.numChartsCaption=!0)};function Oe(t,e){var n,i,a=t._slotted.content;return{c:function(){n=T("div"),a||((i=T("div")).textContent="Dropdown content"),a||(i.className="base-dropdown-inner svelte-1jdtmzv"),A(n,"width",e.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m:function(t,e){p(t,n,e),m(n,a||i)},p:function(t,e){t.width&&A(n,"width",e.width)},d:function(t){t&&h(n),a&&b(n,a)}}}function Ce(t){V(this,t),this.refs={},this._state=u({visible:!1,disabled:!1,width:"auto"},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,a,s,r,o,l=t._slotted.button;function c(e){t.windowClick(e)}function u(e){t.toggle(e)}window.addEventListener("click",c);var d=e.visible&&Oe(t,e);return{c:function(){n=T("div"),i=T("a"),l||(a=T("button"),s=T("i")),o=N("\n    "),d&&d.c(),l||(s.className=r="fa fa-chevron-"+(e.visible?"up":"down")+" svelte-1jdtmzv",a.className="btn btn-small"),k(i,"click",u),i.href="#dropdown-btn",i.className="base-drop-btn svelte-1jdtmzv",A(n,"position","relative"),A(n,"display","inline-block")},m:function(e,r){p(e,n,r),m(n,i),l?m(i,l):(m(i,a),m(a,s)),t.refs.button=i,m(n,o),d&&d.m(n,null)},p:function(e,i){l||e.visible&&r!==(r="fa fa-chevron-"+(i.visible?"up":"down")+" svelte-1jdtmzv")&&(s.className=r),i.visible?d?d.p(e,i):((d=Oe(t,i)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(e){window.removeEventListener("click",c),e&&h(n),l&&b(i,l),O(i,"click",u),t.refs.button===i&&(t.refs.button=null),d&&d.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}u(Ce.prototype,J),u(Ce.prototype,{toggle:function(t){t.preventDefault();var e=this.get(),n=e.visible;e.disabled||this.set({visible:!n})},windowClick:function(t){!t.target||this.refs&&this.refs.button&&(t.target===this.refs.button||this.refs.button.contains(t.target))||t.target.classList.contains("hex")||this.set({visible:!1})}});function He(t){t.preventDefault();var e=this._svelte,n=e.component,i=e.ctx;n.action(i.item)}function Ae(t,e,n){var i=Object.create(t);return i.item=e[n],i}function je(t,e){var n,i,a,s,r=e.icon&&Le(t,e);function o(e){e.preventDefault(),e.stopPropagation(),t.fireClick()}return{c:function(){n=T("button"),r&&r.c(),i=N(" "),a=T("noscript"),k(n,"click",o),n.disabled=e.disabled,n.className=s="split-button-label "+e.btnClass+" svelte-1qu0vk"},m:function(t,s){p(t,n,s),r&&r.m(n,null),m(n,i),m(n,a),a.insertAdjacentHTML("afterend",e.label)},p:function(e,o){o.icon?r?r.p(e,o):((r=Le(t,o)).c(),r.m(n,i)):r&&(r.d(1),r=null),e.label&&(g(a),a.insertAdjacentHTML("afterend",o.label)),e.disabled&&(n.disabled=o.disabled),e.btnClass&&s!==(s="split-button-label "+o.btnClass+" svelte-1qu0vk")&&(n.className=s)},d:function(t){t&&h(n),r&&r.d(),O(n,"click",o)}}}function Le(t,e){var n;return{c:function(){(n=T("i")).className=e.icon+" svelte-1qu0vk"},m:function(t,e){p(t,n,e)},p:function(t,e){t.icon&&(n.className=e.icon+" svelte-1qu0vk")},d:function(t){t&&h(n)}}}function Me(t,e){var n,i,a=e.icon&&Ue(t,e);function s(t){return t.label?Ie:Ee}var r=s(e),o=r(t,e);return{c:function(){a&&a.c(),n=N(" "),o.c(),i=x()},m:function(t,e){a&&a.m(t,e),p(t,n,e),o.m(t,e),p(t,i,e)},p:function(e,l){l.icon?a?a.p(e,l):((a=Ue(t,l)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),r===(r=s(l))&&o?o.p(e,l):(o.d(1),(o=r(t,l)).c(),o.m(i.parentNode,i))},d:function(t){a&&a.d(t),t&&h(n),o.d(t),t&&h(i)}}}function Pe(t,e){var n;return{c:function(){(n=T("span")).className="caret"},m:function(t,e){p(t,n,e)},p:c,d:function(t){t&&h(n)}}}function Ue(t,e){var n;return{c:function(){(n=T("i")).className=e.icon+" svelte-1qu0vk"},m:function(t,e){p(t,n,e)},p:function(t,e){t.icon&&(n.className=e.icon+" svelte-1qu0vk")},d:function(t){t&&h(n)}}}function Ee(t,e){var n;return{c:function(){(n=T("i")).className="im im-menu-dot-h svelte-1qu0vk"},m:function(t,e){p(t,n,e)},p:c,d:function(t){t&&h(n)}}}function Ie(t,e){var n,i,a,s;return{c:function(){n=T("noscript"),i=T("noscript"),a=N(" "),(s=T("span")).className="caret"},m:function(t,r){p(t,n,r),n.insertAdjacentHTML("afterend",e.label),p(t,i,r),p(t,a,r),p(t,s,r)},p:function(t,e){t.label&&(v(n,i),n.insertAdjacentHTML("afterend",e.label))},d:function(t){t&&(v(n,i),h(n),h(i),h(a),h(s))}}}function Se(t,e){var n,i,a,s=e.item.label;return{c:function(){n=T("li"),i=T("a"),a=N("\n        "),i._svelte={component:t,ctx:e},k(i,"click",He),i.href="#/action",i.className="svelte-1qu0vk",M(i,"disabled",e.item.disabled),n.className="svelte-1qu0vk"},m:function(t,e){p(t,n,e),m(n,i),i.innerHTML=s,m(n,a)},p:function(t,n){e=n,t.items&&s!==(s=e.item.label)&&(i.innerHTML=s),i._svelte.ctx=e,t.items&&M(i,"disabled",e.item.disabled)},d:function(t){t&&h(n),O(i,"click",He)}}}function De(t){V(this,t),this._state=u({label:"",icon:!1,split:!1,items:[],btnClass:"btn"},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,a,s,r,o=e.split&&je(t,e);function l(t){return t.split?Pe:Me}for(var c=l(e),u=c(t,e),d=e.items,f=[],p=0;p<d.length;p+=1)f[p]=Se(t,Ae(e,d,p));var h={disabled:e.disabled},v=new Ce({root:t.root,store:t.store,slots:{default:y(),content:y(),button:y()},data:h});return{c:function(){n=T("div"),o&&o.c(),i=N("\n        "),a=T("button"),u.c(),s=N("\n\n    "),r=T("ul");for(var t=0;t<f.length;t+=1)f[t].c();v._fragment.c(),a.disabled=e.disabled,a.className=e.btnClass+" svelte-1qu0vk",C(n,"slot","button"),n.className="btn-group",C(r,"slot","content"),r.className="svelte-1qu0vk"},m:function(t,e){m(v._slotted.button,n),o&&o.m(n,null),m(n,i),m(n,a),u.m(a,null),m(v._slotted.default,s),m(v._slotted.content,r);for(var l=0;l<f.length;l+=1)f[l].m(r,null);v._mount(t,e)},p:function(e,s){if(s.split?o?o.p(e,s):((o=je(t,s)).c(),o.m(n,i)):o&&(o.d(1),o=null),c===(c=l(s))&&u?u.p(e,s):(u.d(1),(u=c(t,s)).c(),u.m(a,null)),e.disabled&&(a.disabled=s.disabled),e.btnClass&&(a.className=s.btnClass+" svelte-1qu0vk"),e.items){d=s.items;for(var m=0;m<d.length;m+=1){var p=Ae(s,d,m);f[m]?f[m].p(e,p):(f[m]=Se(t,p),f[m].c(),f[m].m(r,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=d.length}var h={};e.disabled&&(h.disabled=s.disabled),v._set(h)},d:function(t){o&&o.d(),u.d(),w(f,t),v.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}function Re(t,e){var n;return{c:function(){(n=T("label")).className="control-label svelte-1nkiaxn"},m:function(t,i){p(t,n,i),n.innerHTML=e.label},p:function(t,e){t.label&&(n.innerHTML=e.label)},d:function(t){t&&h(n)}}}function qe(t,e){var n;return{c:function(){(n=T("div")).className="help success svelte-1nkiaxn"},m:function(t,i){p(t,n,i),n.innerHTML=e.success},p:function(t,e){t.success&&(n.innerHTML=e.success)},d:function(t){t&&h(n)}}}function ze(t,e){var n;return{c:function(){(n=T("div")).className="help error svelte-1nkiaxn"},m:function(t,i){p(t,n,i),n.innerHTML=e.error},p:function(t,e){t.error&&(n.innerHTML=e.error)},d:function(t){t&&h(n)}}}function Be(t,e){var n;return{c:function(){(n=T("div")).className="help svelte-1nkiaxn"},m:function(t,i){p(t,n,i),n.innerHTML=e.help},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){t&&h(n)}}}function We(t){var e,n,i,a,s,r,o,l,c,d,f,v,g;V(this,t),this._state=u({label:"",help:"",error:!1,success:!1,width:"auto"},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,c=e._slotted.default,d=n.label&&Re(0,n),f=n.success&&qe(0,n),v=n.error&&ze(0,n),g=!n.success&&!n.error&&n.help&&Be(0,n),{c:function(){i=T("div"),d&&d.c(),a=N("\n    "),s=T("div"),r=N("\n    "),f&&f.c(),o=N(" "),v&&v.c(),l=N(" "),g&&g.c(),s.className="form-controls svelte-1nkiaxn",i.className="form-block svelte-1nkiaxn",A(i,"width",n.width),M(i,"success",n.success),M(i,"error",n.error)},m:function(t,e){p(t,i,e),d&&d.m(i,null),m(i,a),m(i,s),c&&m(s,c),m(i,r),f&&f.m(i,null),m(i,o),v&&v.m(i,null),m(i,l),g&&g.m(i,null)},p:function(t,e){e.label?d?d.p(t,e):((d=Re(0,e)).c(),d.m(i,a)):d&&(d.d(1),d=null),e.success?f?f.p(t,e):((f=qe(0,e)).c(),f.m(i,o)):f&&(f.d(1),f=null),e.error?v?v.p(t,e):((v=ze(0,e)).c(),v.m(i,l)):v&&(v.d(1),v=null),e.success||e.error||!e.help?g&&(g.d(1),g=null):g?g.p(t,e):((g=Be(0,e)).c(),g.m(i,null)),t.width&&A(i,"width",e.width),t.success&&M(i,"success",e.success),t.error&&M(i,"error",e.error)},d:function(t){t&&h(i),d&&d.d(),c&&b(s,c),f&&f.d(),v&&v.d(),g&&g.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function Fe(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}u(De.prototype,J),u(De.prototype,{fireClick:function(){this.fire("click")},action:function(t){t.disabled||t.action(this)}}),u(We.prototype,J);var Ve={addUser:function(t){try{var e=this,n=e.get(),i=n.inviteeExists,a=n.inviteeUserId;if(!i)return;return e.set({currentAction:{updatingUsers:!0,isComplete:!1}}),Fe(ee("/v3/teams/".concat(e.get().team.id,"/members"),{raw:!0,payload:{userId:a,role:t}}),(function(n){var i=!n.ok;return Fe(i?n.json():null,(function(i){var a={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"add",role:t};e.set({currentAction:a}),e.fire("updateUsers")}),!i)}))}catch(t){return Promise.reject(t)}},inviteUser:function(t){try{var e=this,n=e.get().inviteeEmail;return e.set({currentAction:{updatingUsers:!0,isComplete:!1}}),Fe(ee("/v3/teams/".concat(e.get().team.id,"/invites"),{raw:!0,payload:{email:n,role:t}}),(function(n){var i=!n.ok;return Fe(i?n.json():null,(function(i){var a={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"invite",role:t};e.set({currentAction:a}),e.fire("updateUsers")}),!i)}))}catch(t){return Promise.reject(t)}},debounceCheckUser:function(){try{var t=this;if(!t.get().isAdmin)return;return window.clearTimeout(window.checkUser),t.set({inviteeExistsLoading:!0}),window.checkUser=setTimeout((function(){t.checkUser()}),200),Fe()}catch(t){return Promise.reject(t)}},checkUser:function(){try{var t=this,e=t.get(),n=e.inviteeEmail;return e.isValidEmail?Fe(Yt("/v3/users?search=".concat(encodeURIComponent(n))),(function(e){t.set({inviteeExistsLoading:!1,inviteeExists:!1}),e.list.length>0&&(n=t.get().inviteeEmail,e.list.forEach((function(e){e.email.toLowerCase()===n.toLowerCase()&&t.set({inviteeExists:!0,inviteeUserId:e.id})})))})):void t.set({inviteeExistsLoading:!1})}catch(t){return Promise.reject(t)}}};function $e(){window.teamSettingsInvite=this}function Ge(t){var e=t.changed;t.current,t.previous;e.inviteeEmail&&(this.set({inviteeExists:!1}),this.debounceCheckUser())}function Je(t){var e=this;V(this,t),this._state=u({inviteeEmail:"",currentAction:{updatingUsers:!1,isComplete:!1,isError:!1,errorCode:null,responseData:null,type:"",role:""}},t.data),this._recompute({inviteeEmail:1,currentAction:1,isAdmin:1,isTeamOwner:1,isValidEmail:1,inviteeExistsLoading:1,inviteeExists:1},this._state),this._intro=!0,this._handlers.state=[Ge],Ge.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,a,s=!1;function r(){s=!0,t.set({inviteeEmail:i.value}),s=!1}var o={disabled:!e.isValidEmail,label:"<i class='fa "+(e.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>Â  "+K("teams / invite"),items:e.inviteOptions},l=new De({root:t.root,store:t.store,data:o}),c={label:K("teams / invite-user"),help:K("teams / invite-user / help"),success:e.successMessage,error:e.errorMessage},u=new We({root:t.root,store:t.store,slots:{default:y()},data:c});return{c:function(){n=T("div"),i=T("input"),a=N("Â \n        "),l._fragment.c(),u._fragment.c(),k(i,"input",r),C(i,"type","text"),i.width="1px",i.placeholder=K("teams / invite-user / eg"),i.className="svelte-m6ws61",n.className="flex svelte-m6ws61"},m:function(t,s){m(u._slotted.default,n),m(n,i),i.value=e.inviteeEmail,m(n,a),l._mount(n,null),u._mount(t,s)},p:function(t,e){!s&&t.inviteeEmail&&(i.value=e.inviteeEmail);var n={};t.isValidEmail&&(n.disabled=!e.isValidEmail),t.currentAction&&(n.label="<i class='fa "+(e.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>Â  "+K("teams / invite")),t.inviteOptions&&(n.items=e.inviteOptions),l._set(n);var a={};t.successMessage&&(a.success=e.successMessage),t.errorMessage&&(a.error=e.errorMessage),u._set(a)},d:function(t){O(i,"input",r),l.destroy(),u.destroy(t)}}}(this,this._state),this.root._oncreate.push((function(){$e.call(e),e.fire("update",{changed:d({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}u(Je.prototype,J),u(Je.prototype,Ve),Je.prototype._recompute=function(t,e){var n;(t.inviteeEmail||t.currentAction)&&(this._differs(e.successMessage,e.successMessage=function(t){var e=t.inviteeEmail,n=t.currentAction,i=n.isComplete,a=n.isError,s=n.type,r=n.role;if(i&&!a)return K("teams / invite-user / ".concat(s," / success")).replace("$1",e).replace("$2",K("teams / role / ".concat(r)))}(e))&&(t.successMessage=!0),this._differs(e.errorMessage,e.errorMessage=function(t){var e=t.inviteeEmail,n=t.currentAction,i=n.isComplete,a=n.isError,s=n.errorCode,r=n.responseData,o=n.type;if(i&&a){var l=[400,401,406].includes(s)?s:"other",c=406===s&&r&&r.maxTeamInvites?r.maxTeamInvites:null;return K("teams / invite-user / ".concat(o," / error / ").concat(l)).replace("$1",e).replace("$2",c)}}(e))&&(t.errorMessage=!0)),t.inviteeEmail&&this._differs(e.isValidEmail,e.isValidEmail=(n=e.inviteeEmail,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)))&&(t.isValidEmail=!0),(t.isAdmin||t.isTeamOwner||t.inviteeEmail||t.isValidEmail||t.inviteeExistsLoading||t.inviteeExists)&&this._differs(e.inviteOptions,e.inviteOptions=function(t){var e=t.isAdmin,n=t.isTeamOwner,i=(t.inviteeEmail,t.isValidEmail),a=t.inviteeExistsLoading,s=t.inviteeExists,r=[{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(K("teams / role / member")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("member")}},{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(K("teams / role / admin")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("admin")}}];return(e||n)&&r.push({label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(K("teams / role / owner")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("owner")}}),e&&r.push({label:'<span class="red"><i class="fa '.concat(a?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(K("teams / add-as").replace("%s",K("teams / role / member")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("member")}},{label:'<span class="red"><i class="fa '.concat(a?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(K("teams / add-as").replace("%s",K("teams / role / admin")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("admin")}},{label:'<span class="red"><i class="fa '.concat(a?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(K("teams / add-as").replace("%s",K("teams / role / owner")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("owner")}}),r}(e))&&(t.inviteOptions=!0)};var Ze={updateUsers:function(){var t=this,e=this.get().team;this.set({awaitLoadingUsers:Qt.get("/v3/teams/".concat(e.id,"/members?limit=1000")).then((function(e){t.set({users:e.list})}))})}};function Xe(){this.updateUsers()}function Ke(t,e){var n,i,a={component:t,ctx:e,current:null,pending:tn,then:Ye,catch:Qe,value:"null",error:"null"};return D(i=e.awaitLoadingUsers,a),{c:function(){n=x(),a.block.c()},m:function(t,e){p(t,n,e),a.block.m(t,a.anchor=e),a.mount=function(){return n.parentNode},a.anchor=n},p:function(t,n){e=n,a.ctx=e,"awaitLoadingUsers"in t&&i!==(i=e.awaitLoadingUsers)&&D(i,a)||a.block.p(t,u(u({},e),a.resolved))},d:function(t){t&&h(n),a.block.d(t),a=null}}}function Qe(t,e){var n;return{c:function(){n=N("error!")},m:function(t,e){p(t,n,e)},p:c,d:function(t){t&&h(n)}}}function Ye(t,e){var n={},i={isAdmin:e.isAdmin,isTeamOwner:e.isTeamOwner,team:e.team};void 0!==e.users&&(i.users=e.users,n.users=!0),void 0!==e.editIndex&&(i.editIndex=e.editIndex,n.editIndex=!0),void 0!==e.updating&&(i.updating=e.updating,n.updating=!0);var a=new ke({root:t.root,store:t.store,data:i,_bind:function(e,i){var a={};!n.users&&e.users&&(a.users=i.users),!n.editIndex&&e.editIndex&&(a.editIndex=i.editIndex),!n.updating&&e.updating&&(a.updating=i.updating),t._set(a),n={}}});return t.root._beforecreate.push((function(){a._bind({users:1,editIndex:1,updating:1},a.get())})),{c:function(){a._fragment.c()},m:function(t,e){a._mount(t,e)},p:function(t,i){e=i;var s={};t.isAdmin&&(s.isAdmin=e.isAdmin),t.isTeamOwner&&(s.isTeamOwner=e.isTeamOwner),t.team&&(s.team=e.team),!n.users&&t.users&&(s.users=e.users,n.users=void 0!==e.users),!n.editIndex&&t.editIndex&&(s.editIndex=e.editIndex,n.editIndex=void 0!==e.editIndex),!n.updating&&t.updating&&(s.updating=e.updating,n.updating=void 0!==e.updating),a._set(s),n={}},d:function(t){a.destroy(t)}}}function tn(t,e){var n,i,a,s,r=K("teams / loading");return{c:function(){n=T("p"),i=T("i"),a=N(" Â  "),s=T("noscript"),i.className="fa fa-circle-o-notch fa-spin"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),m(n,s),s.insertAdjacentHTML("afterend",r)},p:c,d:function(t){t&&h(n)}}}function en(t){var e=this;V(this,t),this._state=u({editIndex:0,updating:{},updatingUsers:!1,awaitLoadingUsers:!1},t.data),this._recompute({users:1,userId:1},this._state),this._intro=!0,this._fragment=function(t,e){var n,i,a,s,r,o,l,c,u,d,f,v,g,b,_,w,y,k,O,C,H,j,L,M,P,U,E,I,S,D,R,q,z,B,W,F,V,$,G,J,Z,X,Q,Y,tt,et,nt,it,at,st,rt,ot,lt,ct,ut,dt,ft,mt,pt,ht,vt,gt,bt,_t,wt,yt,Tt,Nt,xt,kt,Ot,Ct,Ht,At=K("teams / p"),jt={},Lt=K("teams / role / member"),Mt=K("teams / role / admin"),Pt=K("teams / role / owner"),Ut=K("teams / roles / edit-charts"),Et=K("teams / roles / edit-folders"),It=K("teams / roles / access-settings"),St=K("teams / roles / invite-users"),Dt=K("teams / roles / subscription-options"),Rt=K("teams / roles / remove-team"),qt={isTeamOwner:e.isTeamOwner,isAdmin:e.isAdmin};void 0!==e.team&&(qt.team=e.team,jt.team=!0),void 0!==e.updatingUsers&&(qt.updatingUsers=e.updatingUsers,jt.updatingUsers=!0);var zt=new Je({root:t.root,store:t.store,data:qt,_bind:function(e,n){var i={};!jt.team&&e.team&&(i.team=n.team),!jt.updatingUsers&&e.updatingUsers&&(i.updatingUsers=n.updatingUsers),t._set(i),jt={}}});t.root._beforecreate.push((function(){zt._bind({team:1,updatingUsers:1},zt.get())})),zt.on("updateUsers",(function(e){t.updateUsers()}));var Bt=e.awaitLoadingUsers&&Ke(t,e);return{c:function(){n=T("p"),i=N("\n\n"),a=T("div"),s=T("div"),zt._fragment.c(),r=N("\n    "),o=T("div"),l=T("table"),c=T("thead"),u=T("tr"),d=T("td"),f=N("\n                    "),v=T("th"),g=N("\n                    "),b=T("th"),_=N("\n                    "),w=T("th"),y=N("\n            "),k=T("tbody"),O=T("tr"),C=T("td"),H=N("\n                    "),(j=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',L=N("\n                    "),(M=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',P=N("\n                    "),(U=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',E=N("\n\n                "),I=T("tr"),S=T("td"),D=N("\n                    "),(R=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',q=N("\n                    "),(z=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',B=N("\n                    "),(W=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',F=N("\n\n                "),V=T("tr"),$=T("td"),G=N("\n                    "),(J=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Z=N("\n                    "),(X=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Q=N("\n                    "),(Y=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',tt=N("\n\n                "),et=T("tr"),nt=T("td"),it=N("\n                    "),(at=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',st=N("\n                    "),(rt=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ot=N("\n                    "),(lt=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ct=N("\n\n                "),ut=T("tr"),dt=T("td"),ft=N("\n                    "),(mt=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',pt=N("\n                    "),(ht=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',vt=N("\n                    "),(gt=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',bt=N("\n\n                "),_t=T("tr"),wt=T("td"),yt=N("\n                    "),(Tt=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Nt=N("\n                    "),(xt=T("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',kt=N("\n                    "),(Ot=T("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Ct=N("\n\n"),Bt&&Bt.c(),Ht=x(),A(n,"margin-bottom","10px"),s.className="span4",d.className="svelte-hgmegl",v.className="svelte-hgmegl",b.className="svelte-hgmegl",w.className="svelte-hgmegl",C.className="svelte-hgmegl",j.className="svelte-hgmegl",M.className="svelte-hgmegl",U.className="svelte-hgmegl",S.className="svelte-hgmegl",R.className="svelte-hgmegl",z.className="svelte-hgmegl",W.className="svelte-hgmegl",$.className="svelte-hgmegl",J.className="svelte-hgmegl",X.className="svelte-hgmegl",Y.className="svelte-hgmegl",nt.className="svelte-hgmegl",at.className="svelte-hgmegl",rt.className="svelte-hgmegl",lt.className="svelte-hgmegl",dt.className="svelte-hgmegl",mt.className="svelte-hgmegl",ht.className="svelte-hgmegl",gt.className="svelte-hgmegl",wt.className="svelte-hgmegl",Tt.className="svelte-hgmegl",xt.className="svelte-hgmegl",Ot.className="svelte-hgmegl",k.className="svelte-hgmegl",l.className="role-descriptions svelte-hgmegl",A(l,"margin-left","3em"),o.className="span6",a.className="row",A(a,"margin-bottom","2em")},m:function(t,e){p(t,n,e),n.innerHTML=At,p(t,i,e),p(t,a,e),m(a,s),zt._mount(s,null),m(a,r),m(a,o),m(o,l),m(l,c),m(c,u),m(u,d),m(u,f),m(u,v),v.innerHTML=Lt,m(u,g),m(u,b),b.innerHTML=Mt,m(u,_),m(u,w),w.innerHTML=Pt,m(l,y),m(l,k),m(k,O),m(O,C),C.innerHTML=Ut,m(O,H),m(O,j),m(O,L),m(O,M),m(O,P),m(O,U),m(k,E),m(k,I),m(I,S),S.innerHTML=Et,m(I,D),m(I,R),m(I,q),m(I,z),m(I,B),m(I,W),m(k,F),m(k,V),m(V,$),$.innerHTML=It,m(V,G),m(V,J),m(V,Z),m(V,X),m(V,Q),m(V,Y),m(k,tt),m(k,et),m(et,nt),nt.innerHTML=St,m(et,it),m(et,at),m(et,st),m(et,rt),m(et,ot),m(et,lt),m(k,ct),m(k,ut),m(ut,dt),dt.innerHTML=Dt,m(ut,ft),m(ut,mt),m(ut,pt),m(ut,ht),m(ut,vt),m(ut,gt),m(k,bt),m(k,_t),m(_t,wt),wt.innerHTML=Rt,m(_t,yt),m(_t,Tt),m(_t,Nt),m(_t,xt),m(_t,kt),m(_t,Ot),p(t,Ct,e),Bt&&Bt.m(t,e),p(t,Ht,e)},p:function(n,i){e=i;var a={};n.isTeamOwner&&(a.isTeamOwner=e.isTeamOwner),n.isAdmin&&(a.isAdmin=e.isAdmin),!jt.team&&n.team&&(a.team=e.team,jt.team=void 0!==e.team),!jt.updatingUsers&&n.updatingUsers&&(a.updatingUsers=e.updatingUsers,jt.updatingUsers=void 0!==e.updatingUsers),zt._set(a),jt={},e.awaitLoadingUsers?Bt?Bt.p(n,e):((Bt=Ke(t,e)).c(),Bt.m(Ht.parentNode,Ht)):Bt&&(Bt.d(1),Bt=null)},d:function(t){t&&(h(n),h(i),h(a)),zt.destroy(),t&&h(Ct),Bt&&Bt.d(t),t&&h(Ht)}}}(this,this._state),this.root._oncreate.push((function(){Xe.call(e),e.fire("update",{changed:d({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}function nn(t){var e=t.changed;t.previous&&e.value&&this.set({indeterminate:!1})}function an(t,e,n){var i=Object.create(t);return i.opt=e[n],i}function sn(t,e){var n,i=e.opt.help;return{c:function(){(n=T("div")).className="help svelte-1qlzejw"},m:function(t,e){p(t,n,e),n.innerHTML=i},p:function(t,e){t.options&&i!==(i=e.opt.help)&&(n.innerHTML=i)},d:function(t){t&&h(n)}}}function rn(t,e){var n,i,a,s,r,o,l,c,u,d=e.opt.label;function f(){t.set({value:i.__value})}var v=e.opt.help&&sn(0,e);return{c:function(){n=T("label"),i=T("input"),s=N("\n            "),r=T("span"),o=N("Â "),l=T("span"),c=N("\n            "),v&&v.c(),t._bindingGroups[0].push(i),k(i,"change",f),C(i,"type","radio"),i.__value=a=e.opt.value,i.value=i.__value,i.disabled=e.disabled,i.className="svelte-1qlzejw",r.className="css-ui svelte-1qlzejw",l.className="inner-label svelte-1qlzejw",n.title=u=e.opt.tooltip||"",n.className="svelte-1qlzejw",M(n,"disabled",e.disabled),M(n,"has-help",e.opt.help)},m:function(t,a){p(t,n,a),m(n,i),i.checked=i.__value===e.value,m(n,s),m(n,r),m(n,o),m(n,l),l.innerHTML=d,m(n,c),v&&v.m(n,null)},p:function(t,e){t.value&&(i.checked=i.__value===e.value),t.options&&a!==(a=e.opt.value)&&(i.__value=a),i.value=i.__value,t.disabled&&(i.disabled=e.disabled),t.options&&d!==(d=e.opt.label)&&(l.innerHTML=d),e.opt.help?v?v.p(t,e):((v=sn(0,e)).c(),v.m(n,null)):v&&(v.d(1),v=null),t.options&&u!==(u=e.opt.tooltip||"")&&(n.title=u),t.disabled&&M(n,"disabled",e.disabled),t.options&&M(n,"has-help",e.opt.help)},d:function(e){e&&h(n),t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(i),1),O(i,"change",f),v&&v.d()}}}function on(t,e){var n;return{c:function(){(n=T("div")).className="disabled-message svelte-1qlzejw"},m:function(t,i){p(t,n,i),n.innerHTML=e.disabled_msg},p:function(t,e){t.disabled_msg&&(n.innerHTML=e.disabled_msg)},d:function(t){t&&h(n)}}}function ln(t){var e=this;V(this,t),this._state=u({value:null,disabled:!1,disabled_msg:"",indeterminate:!1,width:"auto",valign:"top",inline:!0},t.data),this._bindingGroups=[[]],this._intro=!0,this._handlers.state=[nn],this._slotted=t.slots||{},nn.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(t,e){for(var n,i,a,s,r,o=t._slotted.default,l=e.options,c=[],u=0;u<l.length;u+=1)c[u]=rn(t,an(e,l,u));var d={type:"radio",width:e.width,valign:e.valign,label:e.label,disabled:e.disabled},f=new xt({root:t.root,store:t.store,slots:{default:y()},data:d}),v=e.disabled&&e.disabled_msg&&on(t,e);return{c:function(){n=T("div");for(var t=0;t<c.length;t+=1)c[t].c();i=N("\n    "),f._fragment.c(),s=N("\n\n"),v&&v.c(),r=x(),n.className="svelte-1qlzejw",M(n,"inline",e.inline),M(n,"indeterminate",e.indeterminate)},m:function(t,e){m(f._slotted.default,n);for(var l=0;l<c.length;l+=1)c[l].m(n,null);m(f._slotted.default,i),o&&(m(f._slotted.default,a||(a=x())),m(f._slotted.default,o)),f._mount(t,e),p(t,s,e),v&&v.m(t,e),p(t,r,e)},p:function(e,i){if(e.options||e.disabled||e.value){l=i.options;for(var a=0;a<l.length;a+=1){var s=an(i,l,a);c[a]?c[a].p(e,s):(c[a]=rn(t,s),c[a].c(),c[a].m(n,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=l.length}e.inline&&M(n,"inline",i.inline),e.indeterminate&&M(n,"indeterminate",i.indeterminate);var o={};e.width&&(o.width=i.width),e.valign&&(o.valign=i.valign),e.label&&(o.label=i.label),e.disabled&&(o.disabled=i.disabled),f._set(o),i.disabled&&i.disabled_msg?v?v.p(e,i):((v=on(t,i)).c(),v.m(r.parentNode,r)):v&&(v.d(1),v=null)},d:function(t){w(c,t),o&&_(a,o),f.destroy(t),t&&h(s),v&&v.d(t),t&&h(r)}}}(this,this._state),this.root._oncreate.push((function(){e.fire("update",{changed:d({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}function cn(t){var e=t.changed,n=t.current;t.previous;n.settings&&(e.settings||e.team||e.defaultTheme)&&this.fire("change",{team:n.team,settings:n.settings,defaultTheme:n.defaultTheme})}function un(t,e){var n,i,a,s,r,o,l,c,u,d=!1,f=!1,v=!1;function g(){d=!0,e.settings.embed.custom_embed.title=a.value,t.set({settings:e.settings}),d=!1}var b={label:K("teams / custom / title"),help:""},_=new We({root:t.root,store:t.store,slots:{default:y()},data:b});function w(){f=!0,e.settings.embed.custom_embed.text=r.value,t.set({settings:e.settings}),f=!1}var x={label:K("teams / custom / help"),help:""},H=new We({root:t.root,store:t.store,slots:{default:y()},data:x});function A(){v=!0,e.settings.embed.custom_embed.template=l.value,t.set({settings:e.settings}),v=!1}var j={label:K("teams / custom / embedcode"),help:K("teams / custom / embedcode / help")},L=new We({root:t.root,store:t.store,slots:{default:y()},data:j});return{c:function(){(n=T("h3")).textContent="Custom Embed Code",i=N("\n\n        "),a=T("input"),_._fragment.c(),s=N("\n\n        "),r=T("textarea"),H._fragment.c(),o=N("\n\n        "),l=T("textarea"),L._fragment.c(),c=N("\n        "),u=T("hr"),k(a,"input",g),C(a,"type","text"),a.placeholder="e.g. Custom CMS Embed",k(r,"input",w),r.placeholder="e.g. This is a custom embed code for our CMS",k(l,"input",A),l.className="embedcode svelte-rgtu7e",l.placeholder='<iframe src="%chart_url%" width="%chart_width%" widthheight="%chart_height%"></iframe>'},m:function(t,d){p(t,n,d),p(t,i,d),m(_._slotted.default,a),a.value=e.settings.embed.custom_embed.title,_._mount(t,d),p(t,s,d),m(H._slotted.default,r),r.value=e.settings.embed.custom_embed.text,H._mount(t,d),p(t,o,d),m(L._slotted.default,l),l.value=e.settings.embed.custom_embed.template,L._mount(t,d),p(t,c,d),p(t,u,d)},p:function(t,n){e=n,!d&&t.settings&&(a.value=e.settings.embed.custom_embed.title),!f&&t.settings&&(r.value=e.settings.embed.custom_embed.text),!v&&t.settings&&(l.value=e.settings.embed.custom_embed.template)},d:function(t){t&&(h(n),h(i)),O(a,"input",g),_.destroy(t),t&&h(s),O(r,"input",w),H.destroy(t),t&&h(o),O(l,"input",A),L.destroy(t),t&&(h(c),h(u))}}}function dn(t){var e=this;V(this,t),this._state=u({embedCodes:[{value:"responsive",label:K("teams / defaults / responsive-iframe")},{value:"iframe",label:K("teams / defaults / iframe")},{value:"custom",label:K("teams / defaults / custom")}],themes:[],folders:[],locales:[],defaultTheme:"",settings:{},team:{}},t.data),this._recompute({locales:1},this._state),this._intro=!0,this._handlers.state=[cn],cn.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,a,s,r,o,l,c,u,d,f,v,g,b=K("teams / defaults / p"),_=!1,w={},x={},H={},j={},L={};function M(){_=!0,e.team.name=r.value,t.set({team:e.team}),_=!1}var P={label:K("teams / name"),help:K("teams / name / help")},U=new We({root:t.root,store:t.store,slots:{default:y()},data:P}),E={label:"",options:[{label:K("teams / defaults / expanded"),value:"expanded"},{label:K("teams / defaults / collapsed"),value:"collapsed"}]};void 0!==e.settings.folders&&(E.value=e.settings.folders,w.value=!0);var I=new ln({root:t.root,store:t.store,data:E,_bind:function(n,i){var a={};!w.value&&n.value&&(e.settings.folders=i.value,a.settings=e.settings),t._set(a),w={}}});t.root._beforecreate.push((function(){I._bind({value:1},I.get())}));var S={label:K("teams / defaults / folder-status"),help:K("teams / defaults / folder-status / p")},D=new We({root:t.root,store:t.store,slots:{default:y()},data:S}),R={options:e.themes};void 0!==e.defaultTheme&&(R.value=e.defaultTheme,x.value=!0);var q=new Pt({root:t.root,store:t.store,data:R,_bind:function(e,n){var i={};!x.value&&e.value&&(i.defaultTheme=n.value),t._set(i),x={}}});t.root._beforecreate.push((function(){q._bind({value:1},q.get())}));var z={label:K("teams / defaults / theme"),help:K("teams / defaults / theme / p")},B=new We({root:t.root,store:t.store,slots:{default:y()},data:z}),W={options:e.folders};void 0!==e.settings.default.folder&&(W.value=e.settings.default.folder,H.value=!0);var F=new Pt({root:t.root,store:t.store,data:W,_bind:function(n,i){var a={};!H.value&&n.value&&(e.settings.default.folder=i.value,a.settings=e.settings),t._set(a),H={}}});t.root._beforecreate.push((function(){F._bind({value:1},F.get())}));var V={label:K("teams / defaults / folder"),help:K("teams / defaults / folder / p")},$=new We({root:t.root,store:t.store,slots:{default:y()},data:V}),G={options:e.localeOptions};void 0!==e.settings.default.locale&&(G.value=e.settings.default.locale,j.value=!0);var J=new Pt({root:t.root,store:t.store,data:G,_bind:function(n,i){var a={};!j.value&&n.value&&(e.settings.default.locale=i.value,a.settings=e.settings),t._set(a),j={}}});t.root._beforecreate.push((function(){J._bind({value:1},J.get())}));var Z={label:K("teams / defaults / locale"),help:K("teams / defaults / locale / p")},X=new We({root:t.root,store:t.store,slots:{default:y()},data:Z}),Q={label:"",options:e.embedCodes};void 0!==e.settings.embed.preferred_embed&&(Q.value=e.settings.embed.preferred_embed,L.value=!0);var Y=new ln({root:t.root,store:t.store,data:Q,_bind:function(n,i){var a={};!L.value&&n.value&&(e.settings.embed.preferred_embed=i.value,a.settings=e.settings),t._set(a),L={}}});t.root._beforecreate.push((function(){Y._bind({value:1},Y.get())}));var tt={label:K("teams / defaults / embedcode"),help:K("teams / defaults / embedcode / p")},et=new We({root:t.root,store:t.store,slots:{default:y()},data:tt}),nt="custom"==e.settings.embed.preferred_embed&&un(t,e);return{c:function(){n=T("div"),i=T("div"),a=T("p"),s=N("\n\n        "),r=T("input"),U._fragment.c(),o=N("\n\n        "),I._fragment.c(),D._fragment.c(),l=N("\n\n        "),(c=T("h3")).textContent="Default settings for new visualizations",u=N("\n\n        "),q._fragment.c(),B._fragment.c(),d=N("\n\n        "),F._fragment.c(),$._fragment.c(),f=N("\n\n        "),J._fragment.c(),X._fragment.c(),v=N("\n\n        "),Y._fragment.c(),et._fragment.c(),g=N("\n\n        "),nt&&nt.c(),A(a,"margin-bottom","10px"),k(r,"input",M),C(r,"type","text"),r.placeholder="",i.className="span6",n.className="row"},m:function(t,h){p(t,n,h),m(n,i),m(i,a),a.innerHTML=b,m(i,s),m(U._slotted.default,r),r.value=e.team.name,U._mount(i,null),m(i,o),I._mount(D._slotted.default,null),D._mount(i,null),m(i,l),m(i,c),m(i,u),q._mount(B._slotted.default,null),B._mount(i,null),m(i,d),F._mount($._slotted.default,null),$._mount(i,null),m(i,f),J._mount(X._slotted.default,null),X._mount(i,null),m(i,v),Y._mount(et._slotted.default,null),et._mount(i,null),m(i,g),nt&&nt.m(i,null)},p:function(n,a){e=a,!_&&n.team&&(r.value=e.team.name);var s={};!w.value&&n.settings&&(s.value=e.settings.folders,w.value=void 0!==e.settings.folders),I._set(s),w={};var o={};n.themes&&(o.options=e.themes),!x.value&&n.defaultTheme&&(o.value=e.defaultTheme,x.value=void 0!==e.defaultTheme),q._set(o),x={};var l={};n.folders&&(l.options=e.folders),!H.value&&n.settings&&(l.value=e.settings.default.folder,H.value=void 0!==e.settings.default.folder),F._set(l),H={};var c={};n.localeOptions&&(c.options=e.localeOptions),!j.value&&n.settings&&(c.value=e.settings.default.locale,j.value=void 0!==e.settings.default.locale),J._set(c),j={};var u={};n.embedCodes&&(u.options=e.embedCodes),!L.value&&n.settings&&(u.value=e.settings.embed.preferred_embed,L.value=void 0!==e.settings.embed.preferred_embed),Y._set(u),L={},"custom"==e.settings.embed.preferred_embed?nt?nt.p(n,e):((nt=un(t,e)).c(),nt.m(i,null)):nt&&(nt.d(1),nt=null)},d:function(t){t&&h(n),O(r,"input",M),U.destroy(),I.destroy(),D.destroy(),q.destroy(),B.destroy(),F.destroy(),$.destroy(),J.destroy(),X.destroy(),Y.destroy(),et.destroy(),nt&&nt.d()}}}(this,this._state),this.root._oncreate.push((function(){e.fire("update",{changed:d({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}function fn(t){var e=t-1;return e*e*e+1}function mn(t,e){var n=e.delay;void 0===n&&(n=0);var i=e.duration;void 0===i&&(i=400);var a=e.easing;void 0===a&&(a=fn);var s=getComputedStyle(t),r=+s.opacity,o=parseFloat(s.height),l=parseFloat(s.paddingTop),c=parseFloat(s.paddingBottom),u=parseFloat(s.marginTop),d=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),m=parseFloat(s.borderBottomWidth);return{delay:n,duration:i,easing:a,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*r+";height: "+t*o+"px;padding-top: "+t*l+"px;padding-bottom: "+t*c+"px;margin-top: "+t*u+"px;margin-bottom: "+t*d+"px;border-top-width: "+t*f+"px;border-bottom-width: "+t*m+"px;"}}}u(en.prototype,J),u(en.prototype,Ze),en.prototype._recompute=function(t,e){(t.users||t.userId)&&this._differs(e.role,e.role=function(t){var e=t.users,n=t.userId;if(!e||!e.length||!n)return!1;var i=e.find((function(t){return t.id===n}));return i?i.role:"admin"}(e))&&(t.role=!0)},u(ln.prototype,J),u(dn.prototype,J),dn.prototype._recompute=function(t,e){var n;t.locales&&this._differs(e.localeOptions,e.localeOptions=(n=e.locales,[{value:null,label:K("teams / defaults / none","organizations")}].concat(l(n))))&&(t.localeOptions=!0)};var pn={show:function(){var t=this,e=setTimeout((function(){t.set({visible:!0})}),400);this.set({t:e})},hide:function(){var t=this.get().t;clearTimeout(t),this.set({visible:!1})}};function hn(t,e){var n,i,a,s,r=t._slotted.default;return{c:function(){n=T("div"),i=T("i"),a=N("\n        "),i.className="hat-icon im im-graduation-hat svelte-9o0fpa",n.className="content svelte-9o0fpa"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),r&&(m(n,s||(s=x())),m(n,r))},d:function(t){t&&h(n),r&&_(s,r)}}}function vn(t){V(this,t),this._state=u({visible:!1},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,a,s=e.visible&&hn(t);function r(e){t.show()}function o(e){t.hide()}return{c:function(){n=T("div"),(i=T("span")).textContent="?",a=N("\n    "),s&&s.c(),i.className="help-icon svelte-9o0fpa",k(n,"mouseenter",r),k(n,"mouseleave",o),n.className="help svelte-9o0fpa"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),s&&s.m(n,null)},p:function(e,i){i.visible?s||((s=hn(t)).c(),s.m(n,null)):s&&(s.d(1),s=null)},d:function(t){t&&h(n),s&&s.d(),O(n,"mouseenter",r),O(n,"mouseleave",o)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}u(vn.prototype,J),u(vn.prototype,pn);function gn(t,e){var n,i=new vn({root:t.root,store:t.store,slots:{default:y()}});return{c:function(){n=T("div"),i._fragment.c()},m:function(t,a){m(i._slotted.default,n),n.innerHTML=e.help,i._mount(t,a)},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){i.destroy(t)}}}function bn(t,e){var n,i,a,s=t._slotted.default;return{c:function(){n=T("div"),(i=T("div")).className="switch-content svelte-lppebe",A(n,"clear","both")},m:function(t,e){p(t,n,e),m(n,i),s&&m(i,s),a=!0},p:c,i:function(t,e){a||this.m(t,e)},o:f,d:function(t){t&&h(n),s&&b(i,s)}}}function _n(t,e){var n,i,a,s;return{c:function(){n=T("div"),(i=T("div")).className="disabled-msg svelte-lppebe",A(n,"clear","both")},m:function(t,a){p(t,n,a),m(n,i),i.innerHTML=e.disabled_msg,s=!0},p:function(t,e){s&&!t.disabled_msg||(i.innerHTML=e.disabled_msg)},i:function(e,i){s||(t.root._intro&&(a&&a.invalidate(),t.root._aftercreate.push((function(){a||(a=U(t,n,mn,{},!0)),a.run(1)}))),this.m(e,i))},o:function(e){s&&(a||(a=U(t,n,mn,{},!1)),a.run(0,(function(){e(),a=null})),s=!1)},d:function(t){t&&(h(n),a&&a.abort())}}}function wn(t){V(this,t),this._state=u({value:!1,help:"",disabled_msg:"",disabled_state:"auto",disabled:!1,highlight:!1,indeterminate:!1},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,a,s,r,o,l,c,u,d,f,v,b,_=e.help&&gn(t,e);function w(){t.set({value:r.checked,indeterminate:r.indeterminate})}function y(e){t.toggle()}var x=[_n,bn],H=[];function A(t){return t.disabled&&t.disabled_msg?0:t.disabled&&"on"!=t.disabled_state||!t.value||t.indeterminate?-1:1}return~(v=A(e))&&(b=H[v]=x[v](t,e)),{c:function(){n=T("div"),_&&_.c(),i=N("\n\n    "),a=T("label"),s=T("button"),r=T("input"),l=T("span"),c=N("\n        "),u=T("noscript"),f=N("\n\n    "),b&&b.c(),k(r,"change",w),"value"in e&&"indeterminate"in e||t.root._beforecreate.push(w),r.className=o=(e.disabled&&"on"==e.disabled_state?"disabled-force-checked":e.disabled&&"off"==e.disabled_state?"disabled-force-unchecked":"")+" svelte-lppebe",r.disabled=e.disabled,C(r,"type","checkbox"),l.className="slider round svelte-lppebe",k(s,"click",y),s.className="switch svelte-lppebe",a.className=d="switch-outer "+(e.disabled?"disabled":"")+" svelte-lppebe",n.className="control-group vis-option-group vis-option-type-switch svelte-lppebe"},m:function(t,o){p(t,n,o),_&&_.m(n,null),m(n,i),m(n,a),m(a,s),m(s,r),r.checked=e.value,r.indeterminate=e.indeterminate,m(s,l),m(a,c),m(a,u),u.insertAdjacentHTML("afterend",e.label),m(n,f),~v&&H[v].i(n,null)},p:function(e,s){s.help?_?_.p(e,s):((_=gn(t,s)).c(),_.m(n,i)):_&&(_.d(1),_=null),e.value&&(r.checked=s.value),e.indeterminate&&(r.indeterminate=s.indeterminate),(e.disabled||e.disabled_state)&&o!==(o=(s.disabled&&"on"==s.disabled_state?"disabled-force-checked":s.disabled&&"off"==s.disabled_state?"disabled-force-unchecked":"")+" svelte-lppebe")&&(r.className=o),e.disabled&&(r.disabled=s.disabled),e.label&&(g(u),u.insertAdjacentHTML("afterend",s.label)),e.disabled&&d!==(d="switch-outer "+(s.disabled?"disabled":"")+" svelte-lppebe")&&(a.className=d);var l=v;(v=A(s))===l?~v&&H[v].p(e,s):(b&&(I(),b.o((function(){H[l].d(1),H[l]=null}))),~v?((b=H[v])||(b=H[v]=x[v](t,s)).c(),b.i(n,null)):b=null)},d:function(t){t&&h(n),_&&_.d(),O(r,"change",w),O(s,"click",y),~v&&H[v].d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}function yn(t,e){var n,i=new vn({root:t.root,store:t.store,slots:{default:y()}});return{c:function(){n=T("div"),i._fragment.c()},m:function(t,a){m(i._slotted.default,n),n.innerHTML=e.help,i._mount(t,a)},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){i.destroy(t)}}}function Tn(t,e){var n,i,a,s;return{c:function(){n=T("div"),(i=T("div")).className="disabled-msg svelte-j55ba2"},m:function(t,a){p(t,n,a),m(n,i),i.innerHTML=e.disabled_msg,s=!0},p:function(t,e){s&&!t.disabled_msg||(i.innerHTML=e.disabled_msg)},i:function(e,i){s||(t.root._intro&&(a&&a.invalidate(),t.root._aftercreate.push((function(){a||(a=U(t,n,mn,{},!0)),a.run(1)}))),this.m(e,i))},o:function(e){s&&(a||(a=U(t,n,mn,{},!1)),a.run(0,(function(){e(),a=null})),s=!1)},d:function(t){t&&(h(n),a&&a.abort())}}}function Nn(t){V(this,t),this._state=u({value:!1,disabled:!1,faded:!1,indeterminate:!1,disabled_msg:"",help:!1},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,a,s,r,o,l,c,u,d=e.help&&yn(t,e);function f(){t.set({value:s.checked,indeterminate:s.indeterminate})}var v=e.disabled&&e.disabled_msg&&Tn(t,e);return{c:function(){d&&d.c(),n=N("\n"),i=T("div"),a=T("label"),s=T("input"),r=T("span"),o=N("\n        "),l=N(e.label),u=N("\n    "),v&&v.c(),k(s,"change",f),"value"in e&&"indeterminate"in e||t.root._beforecreate.push(f),C(s,"type","checkbox"),s.disabled=e.disabled,s.className="svelte-j55ba2",r.className="css-ui svelte-j55ba2",a.className=c="checkbox "+(e.disabled?"disabled":"")+" "+(e.faded?"faded":"")+" svelte-j55ba2",i.className="control-group vis-option-group vis-option-type-checkbox svelte-j55ba2"},m:function(t,c){d&&d.m(t,c),p(t,n,c),p(t,i,c),m(i,a),m(a,s),s.checked=e.value,s.indeterminate=e.indeterminate,m(a,r),m(a,o),m(a,l),m(i,u),v&&v.i(i,null)},p:function(e,r){r.help?d?d.p(e,r):((d=yn(t,r)).c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null),e.value&&(s.checked=r.value),e.indeterminate&&(s.indeterminate=r.indeterminate),e.disabled&&(s.disabled=r.disabled),e.label&&H(l,r.label),(e.disabled||e.faded)&&c!==(c="checkbox "+(r.disabled?"disabled":"")+" "+(r.faded?"faded":"")+" svelte-j55ba2")&&(a.className=c),r.disabled&&r.disabled_msg?(v?v.p(e,r):(v=Tn(t,r))&&v.c(),v.i(i,null)):v&&(I(),v.o((function(){v.d(1),v=null})))},d:function(t){d&&d.d(t),t&&(h(n),h(i)),O(s,"change",f),v&&v.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}u(wn.prototype,J),u(wn.prototype,{toggle:function(){var t=this.get(),e=t.disabled,n=t.indeterminate,i=t.value,a={value:!!n||!i,indeterminate:!1};e||(this.set(a),this.fire("change",a))}}),u(Nn.prototype,J);var xn={deleteTeam:function(){try{return this.set({deleting:!0}),t=Qt.delete("/v3/teams/".concat(this.get().team.id)),e=function(){window.location="/"},n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}catch(t){return Promise.reject(t)}var t,e,n}};function kn(t,e){var n,i,a,s,r=K("teams / delete / really"),o={},l={label:K("teams / delete / really-yes")};void 0!==e.deleteTeam2&&(l.value=e.deleteTeam2,o.value=!0);var c=new Nn({root:t.root,store:t.store,data:l,_bind:function(e,n){var i={};!o.value&&e.value&&(i.deleteTeam2=n.value),t._set(i),o={}}});t.root._beforecreate.push((function(){c._bind({value:1},c.get())}));var u=e.deleteTeam2&&On(t,e);return{c:function(){n=T("p"),i=N("\n\n    "),c._fragment.c(),a=N("\n\n    "),u&&u.c(),s=x()},m:function(t,e){p(t,n,e),n.innerHTML=r,p(t,i,e),c._mount(t,e),p(t,a,e),u&&u.m(t,e),p(t,s,e)},p:function(n,i){e=i;var a={};!o.value&&n.deleteTeam2&&(a.value=e.deleteTeam2,o.value=void 0!==e.deleteTeam2),c._set(a),o={},e.deleteTeam2?u?u.p(n,e):((u=On(t,e)).c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},d:function(t){t&&(h(n),h(i)),c.destroy(t),t&&h(a),u&&u.d(t),t&&h(s)}}}function On(t,e){var n,i,a,s,r,o=K("teams / delete / action");function l(e){t.deleteTeam()}return{c:function(){n=T("button"),i=T("i"),s=N("Â  "),r=T("noscript"),i.className=a="fa "+(e.deleting?"fa-spin fa-circle-o-notch":"fa-times"),k(n,"click",l),n.className="btn btn-danger"},m:function(t,e){p(t,n,e),m(n,i),m(n,s),m(n,r),r.insertAdjacentHTML("afterend",o)},p:function(t,e){t.deleting&&a!==(a="fa "+(e.deleting?"fa-spin fa-circle-o-notch":"fa-times"))&&(i.className=a)},d:function(t){t&&h(n),O(n,"click",l)}}}function Cn(t){V(this,t),this._state=u({deleteTeam:!1,deleteTeam2:!1,deleting:!1},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,a,s=K("teams / delete / p"),r={},o=e.deleteTeam&&kn(t,e),l={label:K("teams / delete / yes")};void 0!==e.deleteTeam&&(l.value=e.deleteTeam,r.value=!0);var c=new wn({root:t.root,store:t.store,slots:{default:y()},data:l,_bind:function(e,n){var i={};!r.value&&e.value&&(i.deleteTeam=n.value),t._set(i),r={}}});return t.root._beforecreate.push((function(){c._bind({value:1},c.get())})),{c:function(){n=T("p"),i=N("\n\n"),o&&o.c(),a=x(),c._fragment.c()},m:function(t,e){p(t,n,e),n.innerHTML=s,p(t,i,e),o&&o.m(c._slotted.default,null),m(c._slotted.default,a),c._mount(t,e)},p:function(n,i){(e=i).deleteTeam?o?o.p(n,e):((o=kn(t,e)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null);var s={};!r.value&&n.deleteTeam&&(s.value=e.deleteTeam,r.value=void 0!==e.deleteTeam),c._set(s),r={}},d:function(t){t&&(h(n),h(i)),o&&o.d(),c.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}function Hn(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}u(Cn.prototype,J),u(Cn.prototype,xn);var An=_t;var jn={edit:function(t){this.get().editId===t?(this.set({editId:!1}),this.update(t)):this.set({editId:t})},addProduct:function(){try{var t=this,e=t.get(),n=e.team,i=e.addProduct;return t.set({addingProduct:!0}),Hn(Qt("/v3/teams/".concat(n.id,"/products"),{method:"post",payload:{productId:i}}),(function(){return Hn(Qt("/v3/teams/".concat(n.id,"/products")),(function(e){t.set({products:e.list,addingProduct:!1})}))}))}catch(t){return Promise.reject(t)}},remove:function(t){try{var e=this;if(!window.confirm("Are you sure you want to remove this product?"))return;return Hn(Qt("/v3/teams/".concat(e.get().team.id,"/products/").concat(t.id),{method:"delete"}),(function(){var n=e.get().products;n=n.filter((function(e){return e.id!==t.id})),e.set({products:n})}))}catch(t){return Promise.reject(t)}},update:function(t){try{var e=this,n=e.get(),i=n.updating,a=n.products.filter((function(e){return e.id===t}))[0];return i[a.id]=!0,e.set({updating:i}),Hn(Qt("/v3/teams/".concat(e.get().team.id,"/products/").concat(a.id),{method:"put",payload:{expires:a.expires}}),(function(){(i=e.get().updating)[a.id]=!1,e.set({updating:i})}))}catch(t){return Promise.reject(t)}}};function Ln(){var t=this,e=this.get();Qt("/v3/teams/".concat(e.team.id,"/products")).then((function(e){return t.set({loadingTeamProducts:!1,products:e.list})})),Qt("/v3/products").then((function(e){return t.set({loadingAllProducts:!1,allProducts:e.list})}))}function Mn(t){var e=this._svelte,n=e.component,i=e.ctx;n.remove(i.product)}function Pn(t){var e=this._svelte,n=e.component,i=e.ctx;n.edit(i.product.id)}function Un(t){var e=this._svelte,n=e.component,i=e.ctx;n.edit(i.product.id)}function En(t,e,n){var i=Object.create(t);return i.product=e[n],i.each_value=e,i.i=n,i}function In(t,e){var n;function i(t){return t.loadingTeamProducts||t.loadingAllProducts?Dn:Sn}var a=i(e),s=a(t,e);return{c:function(){s.c(),n=x()},m:function(t,e){s.m(t,e),p(t,n,e)},p:function(e,r){a===(a=i(r))&&s?s.p(e,r):(s.d(1),(s=a(t,r)).c(),s.m(n.parentNode,n))},d:function(t){s.d(t),t&&h(n)}}}function Sn(t,e){var n,i,a=e.products.length>0&&Rn(t,e),s=e.addableProducts.length&&$n(t,e);return{c:function(){a&&a.c(),n=N(" "),s&&s.c(),i=x()},m:function(t,e){a&&a.m(t,e),p(t,n,e),s&&s.m(t,e),p(t,i,e)},p:function(e,r){r.products.length>0?a?a.p(e,r):((a=Rn(t,r)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),r.addableProducts.length?s?s.p(e,r):((s=$n(t,r)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d:function(t){a&&a.d(t),t&&h(n),s&&s.d(t),t&&h(i)}}}function Dn(t,e){var n,i,a,s,r=K("teams / products / loading");return{c:function(){n=T("p"),i=T("i"),a=N(" Â  "),s=T("noscript"),i.className="fa fa-spin fa-circle-o-notch"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),m(n,s),s.insertAdjacentHTML("afterend",r)},p:c,d:function(t){t&&h(n)}}}function Rn(t,e){for(var n,i=e.products,a=[],s=0;s<i.length;s+=1)a[s]=Vn(t,En(e,i,s));var r={columnHeaders:e.productHeaders},o=new An({root:t.root,store:t.store,slots:{default:y()},data:r});return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=x(),o._fragment.c()},m:function(t,e){for(var i=0;i<a.length;i+=1)a[i].m(o._slotted.default,null);m(o._slotted.default,n),o._mount(t,e)},p:function(e,s){if(e.editId||e.products||e.updating){i=s.products;for(var r=0;r<i.length;r+=1){var l=En(s,i,r);a[r]?a[r].p(e,l):(a[r]=Vn(t,l),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}var c={};e.productHeaders&&(c.columnHeaders=s.productHeaders),o._set(c)},d:function(t){w(a,t),o.destroy(t)}}}function qn(t,e){var n,i=e.product.expires||K("teams / products / never");return{c:function(){n=N(i)},m:function(t,e){p(t,n,e)},p:function(t,e){t.products&&i!==(i=e.product.expires||K("teams / products / never"))&&H(n,i)},d:function(t){t&&h(n)}}}function zn(t,e){var n,i=!1;function a(){i=!0,e.each_value[e.i].expires=n.value,t.set({products:e.products}),i=!1}return{c:function(){k(n=T("input"),"input",a),C(n,"type","text")},m:function(t,i){p(t,n,i),n.value=e.product.expires},p:function(t,a){e=a,!i&&t.products&&(n.value=e.product.expires)},d:function(t){t&&h(n),O(n,"input",a)}}}function Bn(t,e){var n,i,a,s,r,o,l,c,u,d=K("teams / edit"),f=K("teams / remove");return{c:function(){n=T("button"),i=T("i"),a=N("Â  "),s=N(d),r=N("\n\n            "),o=T("button"),l=T("i"),c=N("Â  "),u=N(f),i.className="fa fa-edit",n._svelte={component:t,ctx:e},k(n,"click",Pn),n.className="btn",l.className="fa fa-times",o._svelte={component:t,ctx:e},k(o,"click",Mn),o.className="btn"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),m(n,s),p(t,r,e),p(t,o,e),m(o,l),m(o,c),m(o,u)},p:function(t,i){e=i,n._svelte.ctx=e,o._svelte.ctx=e},d:function(t){t&&h(n),O(n,"click",Pn),t&&(h(r),h(o)),O(o,"click",Mn)}}}function Wn(t,e){var n,i,a,s,r=K("teams / save");return{c:function(){n=T("button"),i=T("i"),a=N("Â  "),s=N(r),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),m(n,s)},p:c,d:function(t){t&&h(n)}}}function Fn(t,e){var n,i,a,s,r=K("teams / save");return{c:function(){n=T("button"),i=T("i"),a=N("Â  "),s=N(r),i.className="fa fa-check",n._svelte={component:t,ctx:e},k(n,"click",Un),n.className="btn btn-primary"},m:function(t,e){p(t,n,e),m(n,i),m(n,a),m(n,s)},p:function(t,i){e=i,n._svelte.ctx=e},d:function(t){t&&h(n),O(n,"click",Un)}}}function Vn(t,e){var n,i,a,s,r,o,l,c,u,d,f=e.product.id,v=e.product.name;function g(t){return t.editId===t.product.id?zn:qn}var b=g(e),_=b(t,e);function w(t){return t.editId===t.product.id?Fn:t.updating[t.product.id]?Wn:Bn}var y=w(e),x=y(t,e);return{c:function(){n=T("tr"),i=T("td"),a=N(f),s=N("\n        "),r=T("td"),o=N(v),l=N("\n        "),c=T("td"),_.c(),u=N("\n        "),d=T("td"),x.c()},m:function(t,e){p(t,n,e),m(n,i),m(i,a),m(n,s),m(n,r),m(r,o),m(n,l),m(n,c),_.m(c,null),m(n,u),m(n,d),x.m(d,null)},p:function(e,n){e.products&&f!==(f=n.product.id)&&H(a,f),e.products&&v!==(v=n.product.name)&&H(o,v),b===(b=g(n))&&_?_.p(e,n):(_.d(1),(_=b(t,n)).c(),_.m(c,null)),y===(y=w(n))&&x?x.p(e,n):(x.d(1),(x=y(t,n)).c(),x.m(d,null))},d:function(t){t&&h(n),_.d(),x.d()}}}function $n(t,e){var n,i,a,s={},r={label:K("teams / products / add-product"),options:e.addableProducts};void 0!==e.addProduct&&(r.value=e.addProduct,s.value=!0);var o=new Ut({root:t.root,store:t.store,data:r,_bind:function(e,n){var i={};!s.value&&e.value&&(i.addProduct=n.value),t._set(i),s={}}});t.root._beforecreate.push((function(){o._bind({value:1},o.get())}));var l=e.addProduct&&Gn(t,e);return{c:function(){n=T("div"),i=T("div"),o._fragment.c(),a=N("\n\n    "),l&&l.c(),A(i,"display","block"),A(n,"display","flex")},m:function(t,e){p(t,n,e),m(n,i),o._mount(i,null),m(n,a),l&&l.m(n,null)},p:function(i,a){e=a;var r={};i.addableProducts&&(r.options=e.addableProducts),!s.value&&i.addProduct&&(r.value=e.addProduct,s.value=void 0!==e.addProduct),o._set(r),s={},e.addProduct?l?l.p(i,e):((l=Gn(t,e)).c(),l.m(n,null)):l&&(l.d(1),l=null)},d:function(t){t&&h(n),o.destroy(),l&&l.d()}}}function Gn(t,e){var n,i,a,s,r,o,l=K("teams / products / add");function c(e){t.addProduct()}return{c:function(){n=T("div"),i=T("button"),a=T("i"),r=N("\n            "),o=T("noscript"),a.className=s="fa "+(e.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"),k(i,"click",c),i.className="btn btn-primary",A(i,"margin-left","10px"),A(n,"display","block")},m:function(t,e){p(t,n,e),m(n,i),m(i,a),m(i,r),m(i,o),o.insertAdjacentHTML("afterend",l)},p:function(t,e){t.addingProduct&&s!==(s="fa "+(e.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"))&&(a.className=s)},d:function(t){t&&h(n),O(i,"click",c)}}}function Jn(t){var e,n,i,a,s,r,o,l=this;V(this,t),this._state=u({productHeaders:[{title:K("teams / products / id"),width:"10%"},{title:K("teams / products / name"),width:"30%"},{title:K("teams / products / expires"),width:"30%"},{title:K("teams / products / actions"),width:"30%"}],editId:!1,updating:{},loadingTeamProducts:!0,loadingAllProducts:!0},t.data),this._recompute({products:1,allProducts:1},this._state),this._intro=!0,this._fragment=(e=this,n=this._state,r=K("teams / products / p"),o=n.isAdmin&&In(e,n),{c:function(){i=T("p"),a=N("\n\n"),o&&o.c(),s=x(),A(i,"margin-bottom","10px")},m:function(t,e){p(t,i,e),i.innerHTML=r,p(t,a,e),o&&o.m(t,e),p(t,s,e)},p:function(t,n){n.isAdmin?o?o.p(t,n):((o=In(e,n)).c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d:function(t){t&&(h(i),h(a)),o&&o.d(t),t&&h(s)}}),this.root._oncreate.push((function(){Ln.call(l),l.fire("update",{changed:d({},l._state),current:l._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}u(Jn.prototype,J),u(Jn.prototype,jn),Jn.prototype._recompute=function(t,e){var n,i,a;(t.products||t.allProducts)&&this._differs(e.addableProducts,e.addableProducts=(i=(n=e).products,(a=n.allProducts)&&i?a.filter((function(t){return!i.filter((function(e){return e.id===t.id})).length})).map((function(t){return{value:t.id,label:t.name}})):[]))&&(t.addableProducts=!0)};function Zn(t){return"function"==typeof t?t():t}function Xn(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}var Kn={},Qn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,a=void 0,s=void 0,r=[];return function(){var l=Zn(e),c=(new Date).getTime(),u=!i||c-i>l;i=c;for(var d=arguments.length,f=Array(d),m=0;m<d;m++)f[m]=arguments[m];if(u&&n.leading)return n.accumulate?Promise.resolve(t.call(this,[f])).then((function(t){return t[0]})):Promise.resolve(t.call.apply(t,[this].concat(f)));if(a?clearTimeout(s):a=Xn(),r.push(f),s=setTimeout(o.bind(this),l),n.accumulate){var p=r.length-1;return a.promise.then((function(t){return t[p]}))}return a.promise};function o(){var e=a;clearTimeout(s),Promise.resolve(n.accumulate?t.call(this,r):t.apply(this,r[r.length-1])).then(e.resolve,e.reject),r=[],a=null}}((function(t,e,n){var i=JSON.stringify({team:t,settings:e,defaultTheme:n});return Kn[t.id]===i?(Kn[t.id]=i,new Promise((function(t,e){t()}))):(Kn[t.id]=i,te("/v3/teams/".concat(t.id),{payload:{name:t.name,defaultTheme:n,settings:e}}))}),500);function Yn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ti(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Yn(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Yn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ei,ni={id:"settings",title:K("teams / tab / settings"),icon:"fa fa-gears",group:K("teams / group / users"),order:10,h1:K("teams / defaults / h1"),ui:dn,data:{}},ii={id:"members",title:K("teams / tab / members"),icon:"im im-users",group:K("teams / group / users"),order:20,h1:K("teams / h1"),ui:en},ai=!1;var si={onTabChange:function(t,e){var n=this,i=t.team,a=t.settings,s=t.defaultTheme;Qn(i,a,s).then((function(){n.set({team:i,settings:a,defaultTheme:s}),e&&e.saved&&e.saved()}))},setTab:function(t){var e=this,n=this.get().groups,i=!1;n.forEach((function(n){n.tabs.forEach((function(n){n.id===t&&(e.refs.navTabs.activateTab(n),i=!0)}))})),i||this.set({activeTab:ni})}};function ri(){var t=this;ei=this;var e=window.location.pathname.split("/").slice(-1)[0]||"settings";this.setTab(e),window.addEventListener("popstate",(function(e){var n=e.state;ai=!0,setTimeout((function(){return ai=!1}),100),t.setTab(n.id)}))}function oi(t){var e=t.changed,n=t.current;t.previous;e.activeTab&&n.activeTab&&!ai&&window.history.pushState({id:n.activeTab.id},"","/team/".concat(n.team.id,"/").concat(n.activeTab.id))}function li(t,e){var n,i=e.activeTab.h1;return{c:function(){(n=T("h2")).className="svelte-kailtr"},m:function(t,e){p(t,n,e),n.innerHTML=i},p:function(t,e){t.activeTab&&i!==(i=e.activeTab.h1)&&(n.innerHTML=i)},d:function(t){t&&h(n)}}}function ci(t){var e=this;V(this,t),this.refs={},this._state=u({allTabs:[ni,ii,{id:"delete",title:K("teams / tab / deleteTeam"),icon:"fa fa-times",group:K("teams / group / advanced"),order:80,h1:K("teams / delete / h1"),ui:Cn,ownerOnly:!0},{id:"products",title:K("teams / tab / adminProducts"),icon:"fa fa-list-alt",group:K("teams / group / internal"),order:90,h1:K("teams / products / h1"),ui:Jn,adminOnly:!0}],pluginTabs:[],activeTab:null,ui:dn,team:{name:""},settings:{},users:[],userId:null,visualizations:[],visualizationsArchive:[]},t.data),this._recompute({team:1,activeTab:1,allTabs:1,pluginTabs:1,isAdmin:1,role:1,tabs:1,users:1,userId:1,settings:1,defaultTheme:1,themes:1,folders:1,locales:1,visualizations:1,visualizationsArchive:1},this._state),this._intro=!0,this._handlers.state=[oi],oi.call(this,{changed:d({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,a,s,r,o,l,c,u,d,f,v,g,b,_,w,x,k,O,j,L,M,P,U,E,I,S,D=K("account / my-teams"),R=K("nav / team / charts"),q={};document.title=n=e.pageTitle+" | Datawrapper";var z=e.activeTab&&e.activeTab.h1&&li(t,e),B={basePath:"team/"+e.team.id,groups:e.groups};void 0!==e.activeTab&&(B.activeTab=e.activeTab,q.activeTab=!0);var W=new lt({root:t.root,store:t.store,slots:{default:y(),belowMenu:y(),aboveContent:y()},data:B,_bind:function(e,n){var i={};!q.activeTab&&e.activeTab&&(i.activeTab=n.activeTab),t._set(i),q={}}});return t.root._beforecreate.push((function(){W._bind({activeTab:1},W.get())})),t.refs.navTabs=W,{c:function(){i=N("\n\n"),a=T("div"),s=T("div"),r=T("h1"),o=N(e.title),l=N("\n\n"),c=T("div"),u=T("div"),d=T("div"),z&&z.c(),f=N("\n            "),v=T("div"),g=T("hr"),b=N("\n                "),_=T("ul"),w=T("li"),x=T("a"),k=T("i"),O=N(" "),j=N(D),L=N("\n                    "),M=T("li"),P=T("a"),U=T("i"),E=N(" "),I=N(R),W._fragment.c(),r.className="title",A(r,"margin-bottom","18px"),s.className="span12 admin svelte-kailtr",a.className="row",C(d,"slot","aboveContent"),k.className="fa fa-fw fa-arrow-left",x.href="/account/teams",w.className="svelte-kailtr",U.className="fa fa-fw fa-arrow-left",P.href=S="/team/"+e.team.id,M.className="svelte-kailtr",_.className="unstyled svelte-kailtr",C(v,"slot","belowMenu"),u.className="visconfig",c.className="settings-section dw-create-visualize chart-editor chart-editor-web admin svelte-kailtr"},m:function(t,e){p(t,i,e),p(t,a,e),m(a,s),m(s,r),m(r,o),p(t,l,e),p(t,c,e),m(c,u),m(W._slotted.aboveContent,d),z&&z.m(d,null),m(W._slotted.default,f),m(W._slotted.belowMenu,v),m(v,g),m(v,b),m(v,_),m(_,w),m(w,x),m(x,k),m(x,O),m(x,j),m(_,L),m(_,M),m(M,P),m(P,U),m(P,E),m(P,I),W._mount(u,null)},p:function(i,a){e=a,i.pageTitle&&n!==(n=e.pageTitle+" | Datawrapper")&&(document.title=n),i.title&&H(o,e.title),e.activeTab&&e.activeTab.h1?z?z.p(i,e):((z=li(t,e)).c(),z.m(d,null)):z&&(z.d(1),z=null),i.team&&S!==(S="/team/"+e.team.id)&&(P.href=S);var s={};i.team&&(s.basePath="team/"+e.team.id),i.groups&&(s.groups=e.groups),!q.activeTab&&i.activeTab&&(s.activeTab=e.activeTab,q.activeTab=void 0!==e.activeTab),W._set(s),q={}},d:function(e){e&&(h(i),h(a),h(l),h(c)),z&&z.d(),W.destroy(),t.refs.navTabs===W&&(t.refs.navTabs=null)}}}(this,this._state),this.root._oncreate.push((function(){ri.call(e),e.fire("update",{changed:d({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),W(this))}function ui(t,e){this._handlers={},this._dependents=[],this._computed=R(),this._sortedComputedProperties=[],this._state=u({},t),this._differs=e&&e.immutable?z:q}return u(ci.prototype,J),u(ci.prototype,si),ci.prototype._recompute=function(t,e){var n,i,a;(t.team||t.activeTab)&&this._differs(e.pageTitle,e.pageTitle=(i=(n=e).team,a=n.activeTab,"".concat(a?a.h1:""," | ").concat(Q(i.name,17,8))))&&(t.pageTitle=!0),t.team&&this._differs(e.title,e.title=function(t){var e=t.team;return"".concat(Q(e.name,17,8)," Â» ").concat(K("nav / team / settings"))}(e))&&(t.title=!0),(t.allTabs||t.team||t.pluginTabs||t.isAdmin||t.role)&&this._differs(e.tabs,e.tabs=function(t){var e=t.allTabs,n=t.team,i=t.pluginTabs,a=t.isAdmin,s=t.role;return[].concat(e,i).filter((function(t){return!(t.adminOnly&&!a)&&!(t.ownerOnly&&!a&&"owner"!==s)})).map((function(t){return ti(ti({},t),{},{h1:t.h1.replace("%team%",n.name)})}))}(e))&&(t.tabs=!0),(t.tabs||t.isAdmin||t.role||t.team||t.users||t.userId||t.settings||t.defaultTheme||t.themes||t.folders||t.locales||t.visualizations||t.visualizationsArchive)&&this._differs(e.groups,e.groups=function(t){var e=t.tabs,n=t.isAdmin,i=t.role,a=t.team,s=t.users,r=t.userId,o=t.settings,l=t.defaultTheme,c=t.themes,u=t.folders,d=t.locales,f=t.visualizations,m=t.visualizationsArchive,p=[];return e.forEach((function(t){t.data=ti({isAdmin:n,isTeamOwner:"owner"===i,team:a,users:s,userId:r,settings:o,defaultTheme:l,themes:c,folders:u,locales:d,visualizations:f,visualizationsArchive:m},t.data),t.onchange=function(t,e){ei.onTabChange(t,e)},function(t,e){var n=t.filter((function(t){return t.title===e}));return n.length?n[0]:(t.push({title:e,tabs:[]}),t[t.length-1])}(p,t.group).tabs.push(t)})),p.forEach((function(t){t.tabs.sort((function(t,e){return t.order-e.order}))})),p}(e))&&(t.groups=!0)},u(ui.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var i=t[n];e["$"+i]=this._state[i]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var n=this,i=this._state;this._state=u(u({},i),t);for(var a=0;a<this._sortedComputedProperties.length;a+=1)this._sortedComputedProperties[a].update(this._state,e);this.fire("state",{changed:e,previous:i,current:this._state}),this._dependents.filter((function(t){for(var i={},a=!1,s=0;s<t.props.length;s+=1){var r=t.props[s];r in e&&(i["$"+r]=n._state[r],a=!0)}if(a)return t.component._stage(i),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:i,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],i=R();function a(s){var r=e[s];r&&(r.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(s));a(e)})),i[s]||(i[s]=!0,n.push(r)))}for(var s in this._computed)a(t=s)},compute:function(t,e,n){var i,a=this,s={deps:e,update:function(s,r,o){var l=e.map((function(t){return t in r&&(o=!0),s[t]}));if(o){var c=n.apply(null,l);a._differs(c,i)&&(i=c,r[t]=!0,s[t]=i)}}};this._computed[t]=s,this._sortComputedProperties();var r=u({},this._state),o={};s.update(r,o,!0),this._set(r,o)},fire:B,get:F,on:$,set:function(t){var e=this._state,n=this._changed={},i=!1;for(var a in t){if(this._computed[a])throw new Error("'".concat(a,"' is a read-only computed property"));this._differs(t[a],e[a])&&(n[a]=i=!0)}i&&this._set(t,n)}}),{App:ci,store:new ui({})}}));
