!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/signin",t):(n=n||self).signin=t()}(this,(function(){"use strict";function n(){}function t(n,t){for(var i in t)n[i]=t[i];return n}function i(n,t){n.appendChild(t)}function e(n,t,i){n.insertBefore(t,i)}function s(n){n.parentNode.removeChild(n)}function o(n){return document.createElement(n)}function r(n){return document.createTextNode(n)}function a(n,t,i,e){n.addEventListener(t,i,e)}function u(n,t,i,e){n.removeEventListener(t,i,e)}function l(n,t,i){null==i?n.removeAttribute(t):n.setAttribute(t,i)}function c(n,t,i){n.style.setProperty(t,i)}function d(n,t,i){n.classList[i?"add":"remove"](t)}function p(){return Object.create(null)}function g(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function f(n,t){return n!=n?t==t:n!==t}function m(n,t){var i=n in this._handlers&&this._handlers[n].slice();if(i)for(var e=0;e<i.length;e+=1){var s=i[e];if(!s.__calling)try{s.__calling=!0,s.call(this,t)}finally{s.__calling=!1}}}function v(){return this._state}function h(n,t){var i=this._handlers[n]||(this._handlers[n]=[]);return i.push(t),{cancel:function(){var n=i.indexOf(t);~n&&i.splice(n,1)}}}function w(n){for(;n&&n.length;)n.shift()()}var _={destroy:function(t){this.destroy=n,this.fire("destroy"),this.set=n,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:v,fire:m,on:h,set:function(n){var i;this._set(t({},n)),this.root._lock||((i=this.root)._lock=!0,w(i._beforecreate),w(i._oncreate),w(i._aftercreate),i._lock=!1)},_recompute:n,_set:function(n){var i=this._state,e={},s=!1;for(var o in n=t(this._staged,n),this._staged={},n)this._differs(n[o],i[o])&&(e[o]=s=!0);s&&(this._state=t(t({},i),n),this._recompute(e,this._state),this._bind&&this._bind(e,this._state),this._fragment&&(this.fire("state",{changed:e,current:this._state,previous:i}),this._fragment.p(e,this._state),this.fire("update",{changed:e,current:this._state,previous:i})))},_stage:function(n){t(this._staged,n)},_mount:function(n,t){this._fragment[this._fragment.i?"i":"m"](n,t||null)},_differs:g},b={};function E(n,t){var i=arguments;if(void 0===t&&(t="core"),n=n.trim(),b[t]||function(n){void 0===n&&(n="core"),"chart"===n?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(b[n]=window.__dw.vis.meta.locale||{}):b[n]="core"===n?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[n])}(t),!b[t][n])return"MISSING:"+n;var e=b[t][n];return"string"==typeof e&&arguments.length>2&&(e=e.replace(/\$(\d)/g,(function(n,t){return t=2+Number(t),void 0===i[t]?n:i[t]}))),e}function S(n,t){void 0===t&&(t={});var i=Object.assign({},{payload:null,raw:!1,method:"get",baseUrl:"//"+dw.backend.__api_domain,mode:"cors",credentials:"include"},t,{headers:Object.assign({},{"Content-Type":"application/json"},t.headers)}),e=i.payload,s=i.baseUrl,o=i.raw,r=function(n,t){var i={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&-1===t.indexOf(e)&&(i[e]=n[e]);return i}(i,["payload","baseUrl","raw"]),a=s.replace(/\/$/,"")+"/"+n.replace(/^\//,"");return e&&(r.body=JSON.stringify(e)),window.fetch(a,r).then((function(n){if(o)return n;if(!n.ok)throw new y(n);if(204!==n.status){var t=n.headers.get("content-type").split(";")[0];return"application/json"===t?n.json():"image/png"===t||"application/pdf"===t?n.blob():n.text()}}))}function P(n){return function(t,i){if(i&&i.method)throw new Error("Setting option.method is not allowed in "+n+"()");return S(t,Object.assign({},i,{method:n}))}}S.get=P("get"),S.patch=P("patch"),S.delete=P("delete"),S.put=P("put"),S.post=P("post"),S.head=P("head");var y=function(n){function t(t){n.call(this),this.name="HttpReqError",this.status=t.status,this.statusText=t.statusText,this.message="["+t.status+"] "+t.statusText,this.response=t}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t}(Error),L=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function N(n){return L.test(n)}var j={doLogIn:async function(){var n=this.get(),t=n.loginEmail,i=n.loginPassword,e=n.rememberLogin;this.set({loggingIn:!0,loginError:"",loginSuccess:""});try{var s=await S.post("/auth/login",{payload:{email:t,pwhash:CryptoJS.HmacSHA256(i,dw.backend.__auth_salt).toString(),keeplogin:e}});"ok"===s.status?(this.set({loginSuccess:"Login successful, reloading page"}),setTimeout((function(){window.window.location.href="/"}),2e3)):this.set({loginError:s.message})}catch(n){if("HttpReqError"===n.name){var o=await n.response.json();this.set({loginError:o?o.message:n.message})}else this.set({loginError:n})}this.set({loggingIn:!1})},doSignUp:async function(){var n=this.get(),t=n.signupEmail,i=n.signupPassword,e=n.signupPassword2;this.set({signingUp:!0,signupError:"",signupSuccess:""});try{await S.post("/users",{payload:{email:t,pwd:CryptoJS.HmacSHA256(i,dw.backend.__auth_salt).toString(),pwd2:CryptoJS.HmacSHA256(e,dw.backend.__auth_salt).toString()}}),this.set({signupSuccess:"Sign up successful. Redirecting to user dashboard."}),setTimeout((function(){window.location.href="/"}),2e3)}catch(n){if("HttpReqError"===n.name){var s=await n.response.json();this.set({signupError:s?s.message:n.message})}else this.set({signupError:n})}this.set({signingUp:!1})},requestNewPassword:async function(){var n=this.get().loginEmail;this.set({requestingPassword:!0,loginError:"",loginSuccess:""});try{var t=await S.post("/account/reset-password",{payload:{email:n}});"ok"===t.status?this.set({loginSuccess:t.data}):this.set({loginError:t.message})}catch(n){"HttpReqError"===n.name?this.set({loginError:n.body?n.body.message:n.message}):this.set({loginError:n})}this.set({requestingPassword:!1})}};function k(n,t,i){var e=Object.create(n);return e.signin=t[i],e}function H(n,t){var i;return{c:function(){(i=o("div")).className="alert alert-success"},m:function(n,s){e(n,i,s),i.innerHTML=t.loginSuccess},p:function(n,t){n.loginSuccess&&(i.innerHTML=t.loginSuccess)},d:function(n){n&&s(i)}}}function T(n,t){var i;return{c:function(){(i=o("div")).className="alert alert-error"},m:function(n,s){e(n,i,s),i.innerHTML=t.loginError},p:function(n,t){n.loginError&&(i.innerHTML=t.loginError)},d:function(n){n&&s(i)}}}function x(n,t){var c,d,p,g,f,m=E("password"),v=!1;function h(){v=!0,n.set({loginPassword:f.value}),v=!1}return{c:function(){c=o("div"),d=o("label"),p=r(m),g=r("\n                        "),f=o("input"),d.className="svelte-ultjro",a(f,"input",h),f.className="login-pwd input-xxlarge span3 svelte-ultjro",f.autocomplete="current-password",l(f,"type","password"),c.className="control-group svelte-ultjro"},m:function(n,s){e(n,c,s),i(c,d),i(d,p),i(c,g),i(c,f),f.value=t.loginPassword},p:function(n,t){!v&&n.loginPassword&&(f.value=t.loginPassword)},d:function(n){n&&s(c),u(f,"input",h)}}}function M(n,t){var d,p,g,f,m,v,h,w,_=E("Remember login?");function b(){n.set({rememberLogin:g.checked})}var S=t.loggingIn&&I();function P(t){t.preventDefault(),n.doLogIn()}return{c:function(){d=o("div"),p=o("label"),g=o("input"),f=r(" "),m=o("noscript"),v=r("\n                    "),h=o("button"),S&&S.c(),w=r(" Login"),a(g,"change",b),g.className="keep-login svelte-ultjro",l(g,"type","checkbox"),p.className="checkbox svelte-ultjro",p.htmlFor="keep-login",c(p,"margin-top","10px"),a(h,"click",P),h.disabled=t.invalidLoginForm,h.className="btn btn-login btn-primary svelte-ultjro"},m:function(n,s){e(n,d,s),i(d,p),i(p,g),g.checked=t.rememberLogin,i(p,f),i(p,m),m.insertAdjacentHTML("afterend",_),i(d,v),i(d,h),S&&S.m(h,null),i(h,w)},p:function(n,t){n.rememberLogin&&(g.checked=t.rememberLogin),t.loggingIn?S||((S=I()).c(),S.m(h,w)):S&&(S.d(1),S=null),n.invalidLoginForm&&(h.disabled=t.invalidLoginForm)},d:function(n){n&&s(d),u(g,"change",b),S&&S.d(),u(h,"click",P)}}}function I(n,t){var i;return{c:function(){(i=o("i")).className="fa fa-fw fa-spinner fa-pulse"},m:function(n,t){e(n,i,t)},d:function(n){n&&s(i)}}}function C(n,t){var l,d,p,g,f=E("Send new password"),m=t.requestingPassword&&A();function v(t){t.preventDefault(),n.requestNewPassword()}return{c:function(){l=o("div"),d=o("button"),m&&m.c(),p=r(" "),g=o("noscript"),a(d,"click",v),d.disabled=t.invalidLoginEmail,d.className="btn btn-send-pw btn-primary",c(l,"padding-bottom","10px")},m:function(n,t){e(n,l,t),i(l,d),m&&m.m(d,null),i(d,p),i(d,g),g.insertAdjacentHTML("afterend",f)},p:function(n,t){t.requestingPassword?m||((m=A()).c(),m.m(d,p)):m&&(m.d(1),m=null),n.invalidLoginEmail&&(d.disabled=t.invalidLoginEmail)},d:function(n){n&&s(l),m&&m.d(),u(d,"click",v)}}}function A(n,t){var i;return{c:function(){(i=o("i")).className="fa fa-fw fa-spinner fa-pulse"},m:function(n,t){e(n,i,t)},d:function(n){n&&s(i)}}}function F(n,t){var i,r=E("Can't recall your password?");function l(t){t.preventDefault(),n.set({forgotPassword:!0})}return{c:function(){a(i=o("a"),"click",l),i.href="#/forgot-password"},m:function(n,t){e(n,i,t),i.innerHTML=r},d:function(n){n&&s(i),u(i,"click",l)}}}function O(n,t){var i,r=E("Return to login...");function l(t){t.preventDefault(),n.set({forgotPassword:!1})}return{c:function(){a(i=o("a"),"click",l),i.href="#/return"},m:function(n,t){e(n,i,t),i.innerHTML=r},d:function(n){n&&s(i),u(i,"click",l)}}}function q(t,i){var r;return{c:function(){(r=o("style")).textContent="#dwLoginForm {\n                width: 420px;\n                margin-left: -210px;\n                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);\n                border: 0;\n                position: relative;\n            }"},m:function(n,t){e(n,r,t)},p:n,d:function(n){n&&s(r)}}}function U(n,t){var c,p,g,f,m,v,h,w,_,b,S,P,y,L,N,j,k,H,T,x,M,I,C,A,F,O,q,U,z,Z,B=E("login / signup / headline"),G=E("login / signup / intro"),K=E("email"),Q=!1,V=E("password"),W=!1,X=E("repeat password"),Y=!1,nn=E("Sign Up"),tn=t.signupSuccess&&R(n,t),en=t.signupError&&D(n,t);function sn(){Q=!0,n.set({signupEmail:L.value}),Q=!1}function on(){W=!0,n.set({signupPassword:x.value}),W=!1}function rn(){Y=!0,n.set({signupPassword2:O.value}),Y=!1}function an(n){return n.signingUp?J:$}var un=an(t),ln=un(n,t);function cn(t){t.preventDefault(),n.doSignUp()}return{c:function(){c=o("div"),p=o("h3"),g=r("\n            "),f=o("p"),m=r("\n\n            "),tn&&tn.c(),v=r(" "),en&&en.c(),h=r("\n\n            "),w=o("div"),_=o("form"),b=o("div"),S=o("label"),P=r(K),y=r("\n                        "),L=o("input"),N=r("\n                    "),j=o("div"),k=o("label"),H=r(V),T=r("\n                        "),x=o("input"),M=r("\n                    "),I=o("div"),C=o("label"),A=r(X),F=r("\n                        "),O=o("input"),q=r("\n                    "),U=o("button"),ln.c(),z=r("\n                        \n                        "),Z=o("noscript"),S.className="svelte-ultjro",a(L,"input",sn),l(L,"type","email"),L.autocomplete="username",L.className="span3 input-xlarge register-email svelte-ultjro",b.className="control-group svelte-ultjro",d(b,"error",t.invalidSignupEmail),k.className="svelte-ultjro",a(x,"input",on),x.autocomplete="new-password",l(x,"type","password"),x.className="span3 input-xlarge register-pwd svelte-ultjro",j.className="control-group svelte-ultjro",C.className="svelte-ultjro",a(O,"input",rn),O.autocomplete="new-password",l(O,"type","password"),O.className="span3 input-xlarge register-pwd-2 svelte-ultjro",I.className="control-group svelte-ultjro",d(I,"error",t.invalidSignupPassword),a(U,"click",cn),U.disabled=t.invalidSignupForm,U.className="btn btn-default",w.className="signup-form form-vertcal",c.className="span3 row-signup"},m:function(n,s){e(n,c,s),i(c,p),p.innerHTML=B,i(c,g),i(c,f),f.innerHTML=G,i(c,m),tn&&tn.m(c,null),i(c,v),en&&en.m(c,null),i(c,h),i(c,w),i(w,_),i(_,b),i(b,S),i(S,P),i(b,y),i(b,L),L.value=t.signupEmail,i(_,N),i(_,j),i(j,k),i(k,H),i(j,T),i(j,x),x.value=t.signupPassword,i(_,M),i(_,I),i(I,C),i(C,A),i(I,F),i(I,O),O.value=t.signupPassword2,i(_,q),i(_,U),ln.m(U,null),i(U,z),i(U,Z),Z.insertAdjacentHTML("afterend",nn)},p:function(t,i){i.signupSuccess?tn?tn.p(t,i):((tn=R(n,i)).c(),tn.m(c,v)):tn&&(tn.d(1),tn=null),i.signupError?en?en.p(t,i):((en=D(n,i)).c(),en.m(c,h)):en&&(en.d(1),en=null),!Q&&t.signupEmail&&(L.value=i.signupEmail),t.invalidSignupEmail&&d(b,"error",i.invalidSignupEmail),!W&&t.signupPassword&&(x.value=i.signupPassword),!Y&&t.signupPassword2&&(O.value=i.signupPassword2),t.invalidSignupPassword&&d(I,"error",i.invalidSignupPassword),un!==(un=an(i))&&(ln.d(1),(ln=un(n,i)).c(),ln.m(U,z)),t.invalidSignupForm&&(U.disabled=i.invalidSignupForm)},d:function(n){n&&s(c),tn&&tn.d(),en&&en.d(),u(L,"input",sn),u(x,"input",on),u(O,"input",rn),ln.d(),u(U,"click",cn)}}}function R(n,t){var i;return{c:function(){(i=o("div")).className="alert alert-success"},m:function(n,s){e(n,i,s),i.innerHTML=t.signupSuccess},p:function(n,t){n.signupSuccess&&(i.innerHTML=t.signupSuccess)},d:function(n){n&&s(i)}}}function D(n,t){var i;return{c:function(){(i=o("div")).className="alert alert-error"},m:function(n,s){e(n,i,s),i.innerHTML=t.signupError},p:function(n,t){n.signupError&&(i.innerHTML=t.signupError)},d:function(n){n&&s(i)}}}function $(n,t){var i;return{c:function(){(i=o("i")).className="fa fa-fw fa-pencil"},m:function(n,t){e(n,i,t)},d:function(n){n&&s(i)}}}function J(n,t){var i;return{c:function(){(i=o("i")).className="fa fa-fw fa-spinner fa-pulse"},m:function(n,t){e(n,i,t)},d:function(n){n&&s(i)}}}function z(n,t){for(var a,u,l,c=E("login / alternative signin"),d=t.alternativeSignIn,p=[],g=0;g<d.length;g+=1)p[g]=B(n,k(t,d,g));return{c:function(){a=o("div"),u=o("noscript"),l=r(" ");for(var n=0;n<p.length;n+=1)p[n].c();a.className="alternative-signin svelte-ultjro"},m:function(n,t){e(n,a,t),i(a,u),u.insertAdjacentHTML("beforebegin",c),i(a,l);for(var s=0;s<p.length;s+=1)p[s].m(a,null)},p:function(t,i){if(t.alternativeSignIn){d=i.alternativeSignIn;for(var e=0;e<d.length;e+=1){var s=k(i,d,e);p[e]?p[e].p(t,s):(p[e]=B(n,s),p[e].c(),p[e].m(a,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=d.length}},d:function(n){n&&s(a),function(n,t){for(var i=0;i<n.length;i+=1)n[i]&&n[i].d(t)}(p,n)}}}function Z(n,t){var i,r;return{c:function(){(i=o("i")).className=r=t.signin.icon+" svelte-ultjro"},m:function(n,t){e(n,i,t)},p:function(n,t){n.alternativeSignIn&&r!==(r=t.signin.icon+" svelte-ultjro")&&(i.className=r)},d:function(n){n&&s(i)}}}function B(n,t){var a,u,l,c,d=t.signin.label,p=t.signin.icon&&Z(0,t);return{c:function(){a=o("a"),p&&p.c(),u=r(" "),l=o("noscript"),a.href=c=t.signin.url,a.className="alternative-signin-link svelte-ultjro"},m:function(n,t){e(n,a,t),p&&p.m(a,null),i(a,u),i(a,l),l.insertAdjacentHTML("afterend",d)},p:function(n,t){t.signin.icon?p?p.p(n,t):((p=Z(0,t)).c(),p.m(a,u)):p&&(p.d(1),p=null),n.alternativeSignIn&&d!==(d=t.signin.label)&&(!function(n){for(;n.nextSibling;)n.parentNode.removeChild(n.nextSibling)}(l),l.insertAdjacentHTML("afterend",d)),n.alternativeSignIn&&c!==(c=t.signin.url)&&(a.href=c)},d:function(n){n&&s(a),p&&p.d()}}}function G(n){!function(n,t){n._handlers=p(),n._slots=p(),n._bind=t._bind,n._staged={},n.options=t,n.root=t.root||n,n.store=t.store||n.root.store,t.root||(n._beforecreate=[],n._oncreate=[],n._aftercreate=[])}(this,n),this._state=t({noSignup:!1,alternativeSignIn:[],forgotPassword:!1,loginEmail:"",loginPassword:"",rememberLogin:!0,loginEmailError:!1,loginError:"",loginSuccess:"",signupEmail:"",signupPassword:"",signupPassword2:"",requestingPassword:!1,loggingIn:!1,signingUp:!1},n.data),this._recompute({loginEmail:1,forgotPassword:1,loginPassword:1,signupEmail:1,signupPassword:1,signupPassword2:1},this._state),this._intro=!0,this._fragment=function(n,t){var c,p,g,f,m,v,h,w,_,b,S,P,y,L,N,j,k,I,A,R,D,$,J,Z,B,G,K,Q,V,W,X,Y,nn,tn,en,sn=E("login / login / headline"),on=E("login / login / intro"),rn=E("email"),an=!1,un=E("login / signup / confirmation-email"),ln=E("login / signup / confirmation-email-hint"),cn=E("login / signup / confirm"),dn=t.loginSuccess&&H(n,t),pn=t.loginError&&T(n,t);function gn(){an=!0,n.set({loginEmail:I.value}),an=!1}var fn=!t.forgotPassword&&x(n,t),mn=!t.forgotPassword&&M(n,t),vn=t.forgotPassword&&C(n,t);function hn(n){return n.forgotPassword?O:F}var wn=hn(t),_n=wn(n,t);function bn(n){return n.noSignup?q:U}var En=bn(t),Sn=En(n,t),Pn=t.alternativeSignIn.length&&z(n,t);function yn(t){t.stopPropagation(),n.fire("keyup",t)}return{c:function(){c=o("div"),(p=o("button")).textContent="×",g=r("\n    "),f=o("div"),m=o("div"),v=o("h3"),h=r("\n\n            "),w=o("p"),_=r("\n\n            "),dn&&dn.c(),b=r(" "),pn&&pn.c(),S=r("\n\n            "),P=o("form"),y=o("div"),L=o("div"),N=o("label"),j=r(rn),k=r("\n                        "),I=o("input"),A=r("\n                    "),fn&&fn.c(),R=r("\n                "),mn&&mn.c(),D=r("\n\n            "),$=o("div"),vn&&vn.c(),J=r("\n                "),Z=o("div"),_n.c(),G=r("\n        "),Sn.c(),K=r("\n\n    "),Pn&&Pn.c(),Q=r("\n\n    "),V=o("div"),W=o("div"),X=o("noscript"),Y=r("\n\n            "),nn=o("div"),tn=r("\n\n            "),en=o("button"),p.type="button",p.className="close",p.dataset.dismiss="modal",N.className="svelte-ultjro",a(I,"input",gn),I.className="login-email input-xxlarge span3 svelte-ultjro",I.autocomplete="username",l(I,"type","email"),L.className="control-group svelte-ultjro",d(L,"error",t.invalidLoginEmail),P.className="login-form form-vertical",m.className=B="span"+(t.noSignup?4:3)+" row-login svelte-ultjro",f.className="row login-signup",nn.className="sub",en.className="button btn btn-got-it",W.className="jumbo-text",V.className="signup-confirm hidden",a(c,"keyup",yn),c.className="modal-body svelte-ultjro",c.dataset.piwikMask=!0},m:function(n,s){e(n,c,s),i(c,p),i(c,g),i(c,f),i(f,m),i(m,v),v.innerHTML=sn,i(m,h),i(m,w),w.innerHTML=on,i(m,_),dn&&dn.m(m,null),i(m,b),pn&&pn.m(m,null),i(m,S),i(m,P),i(P,y),i(y,L),i(L,N),i(N,j),i(L,k),i(L,I),I.value=t.loginEmail,i(y,A),fn&&fn.m(y,null),i(P,R),mn&&mn.m(P,null),i(m,D),i(m,$),vn&&vn.m($,null),i($,J),i($,Z),_n.m(Z,null),i(f,G),Sn.m(f,null),i(c,K),Pn&&Pn.m(c,null),i(c,Q),i(c,V),i(V,W),i(W,X),X.insertAdjacentHTML("beforebegin",un),i(W,Y),i(W,nn),nn.innerHTML=ln,i(W,tn),i(W,en),en.innerHTML=cn},p:function(t,i){i.loginSuccess?dn?dn.p(t,i):((dn=H(n,i)).c(),dn.m(m,b)):dn&&(dn.d(1),dn=null),i.loginError?pn?pn.p(t,i):((pn=T(n,i)).c(),pn.m(m,S)):pn&&(pn.d(1),pn=null),!an&&t.loginEmail&&(I.value=i.loginEmail),t.invalidLoginEmail&&d(L,"error",i.invalidLoginEmail),i.forgotPassword?fn&&(fn.d(1),fn=null):fn?fn.p(t,i):((fn=x(n,i)).c(),fn.m(y,null)),i.forgotPassword?mn&&(mn.d(1),mn=null):mn?mn.p(t,i):((mn=M(n,i)).c(),mn.m(P,null)),i.forgotPassword?vn?vn.p(t,i):((vn=C(n,i)).c(),vn.m($,J)):vn&&(vn.d(1),vn=null),wn!==(wn=hn(i))&&(_n.d(1),(_n=wn(n,i)).c(),_n.m(Z,null)),t.noSignup&&B!==(B="span"+(i.noSignup?4:3)+" row-login svelte-ultjro")&&(m.className=B),En===(En=bn(i))&&Sn?Sn.p(t,i):(Sn.d(1),(Sn=En(n,i)).c(),Sn.m(f,null)),i.alternativeSignIn.length?Pn?Pn.p(t,i):((Pn=z(n,i)).c(),Pn.m(c,Q)):Pn&&(Pn.d(1),Pn=null)},d:function(n){n&&s(c),dn&&dn.d(),pn&&pn.d(),u(I,"input",gn),fn&&fn.d(),mn&&mn.d(),vn&&vn.d(),_n.d(),Sn.d(),Pn&&Pn.d(),u(c,"keyup",yn)}}}(this,this._state),n.target&&(this._fragment.c(),this._mount(n.target,n.anchor))}function K(n,i){this._handlers={},this._dependents=[],this._computed=p(),this._sortedComputedProperties=[],this._state=t({},n),this._differs=i&&i.immutable?f:g}t(G.prototype,_),t(G.prototype,j),G.prototype._recompute=function(n,t){var i,e,s;(n.loginEmail||n.forgotPassword)&&this._differs(t.invalidLoginEmail,t.invalidLoginEmail=(e=(i=t).loginEmail,s=i.forgotPassword,!(N(e)||""===e&&!s)))&&(n.invalidLoginEmail=!0),(n.loginEmail||n.loginPassword)&&this._differs(t.invalidLoginForm,t.invalidLoginForm=function(n){var t=n.loginEmail,i=n.loginPassword;return!N(t)||""===i}(t))&&(n.invalidLoginForm=!0),(n.signupEmail||n.signupPassword||n.signupPassword2)&&this._differs(t.invalidSignupForm,t.invalidSignupForm=function(n){var t=n.signupEmail,i=n.signupPassword,e=n.signupPassword2;return!N(t)||(i!==e||(i.length<4||void 0))}(t))&&(n.invalidSignupForm=!0),(n.signupEmail||n.forgotPassword)&&this._differs(t.invalidSignupEmail,t.invalidSignupEmail=function(n){var t=n.signupEmail;return n.forgotPassword,!N(t)&&""!==t}(t))&&(n.invalidSignupEmail=!0),(n.signupPassword||n.signupPassword2)&&this._differs(t.invalidSignupPassword,t.invalidSignupPassword=function(n){var t=n.signupPassword,i=n.signupPassword2;return""!==t&&t!==i}(t))&&(n.invalidSignupPassword=!0)},t(K.prototype,{_add:function(n,t){this._dependents.push({component:n,props:t})},_init:function(n){for(var t={},i=0;i<n.length;i+=1){var e=n[i];t["$"+e]=this._state[e]}return t},_remove:function(n){for(var t=this._dependents.length;t--;)if(this._dependents[t].component===n)return void this._dependents.splice(t,1)},_set:function(n,i){var e=this,s=this._state;this._state=t(t({},s),n);for(var o=0;o<this._sortedComputedProperties.length;o+=1)this._sortedComputedProperties[o].update(this._state,i);this.fire("state",{changed:i,previous:s,current:this._state}),this._dependents.filter((function(n){for(var t={},s=!1,o=0;o<n.props.length;o+=1){var r=n.props[o];r in i&&(t["$"+r]=e._state[r],s=!0)}if(s)return n.component._stage(t),!0})).forEach((function(n){n.component.set({})})),this.fire("update",{changed:i,previous:s,current:this._state})},_sortComputedProperties:function(){var n,t=this._computed,i=this._sortedComputedProperties=[],e=p();function s(o){var r=t[o];r&&(r.deps.forEach((function(t){if(t===n)throw new Error("Cyclical dependency detected between "+t+" <-> "+o);s(t)})),e[o]||(e[o]=!0,i.push(r)))}for(var o in this._computed)s(n=o)},compute:function(n,i,e){var s,o=this,r={deps:i,update:function(t,r,a){var u=i.map((function(n){return n in r&&(a=!0),t[n]}));if(a){var l=e.apply(null,u);o._differs(l,s)&&(s=l,r[n]=!0,t[n]=s)}}};this._computed[n]=r,this._sortComputedProperties();var a=t({},this._state),u={};r.update(a,u,!0),this._set(a,u)},fire:m,get:v,on:h,set:function(n){var t=this._state,i=this._changed={},e=!1;for(var s in n){if(this._computed[s])throw new Error("'"+s+"' is a read-only computed property");this._differs(n[s],t[s])&&(i[s]=e=!0)}e&&this._set(n,i)}});return{App:G,data:{},store:new K({}),init:function(n){}}}));
