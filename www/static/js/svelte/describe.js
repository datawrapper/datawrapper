!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("cm/lib/codemirror"),require("cm/mode/javascript/javascript"),require("cm/addon/mode/simple"),require("cm/addon/hint/show-hint"),require("cm/addon/edit/matchbrackets"),require("cm/addon/display/placeholder"),require("Handsontable"),require("dayjs")):"function"==typeof define&&define.amd?define("svelte/describe",["cm/lib/codemirror","cm/mode/javascript/javascript","cm/addon/mode/simple","cm/addon/hint/show-hint","cm/addon/edit/matchbrackets","cm/addon/display/placeholder","Handsontable","dayjs"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).describe=e(t.CodeMirror,null,null,null,null,null,t.HOT,t.dayjs)}(this,(function(t,e,n,r,o,i,a,u){"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=s(t),l=s(a),f=s(u);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function m(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(){}function y(t,e){for(var n in e)t[n]=e[n];return t}function b(t,e){for(var n in e)t[n]=1;return t}function w(t){t()}function _(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n)}function N(t){t.parentNode.removeChild(t)}function E(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(){return document.createDocumentFragment()}function A(t){return document.createElement(t)}function O(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function S(){return document.createComment("")}function C(t,e,n,r){t.addEventListener(e,n,r)}function T(t,e,n,r){t.removeEventListener(e,n,r)}function R(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function j(t,e){t.data=""+e}function I(t,e,n){t.style.setProperty(e,n)}function F(t,e){for(var n=0;n<t.options.length;n+=1){var r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function L(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function D(t,e,n){t.classList[n?"add":"remove"](e)}function P(t){return t}function H(t,e,n,r,o){var i,a,u,s=n.call(t,e,r),c=!1;return{t:o?0:1,running:!1,program:null,pending:null,run:function(t,e){var n=this;"function"==typeof s?U.wait().then((function(){s=s(),n._run(t,e)})):this._run(t,e)},_run:function(t,n){i=s.duration||300,a=s.easing||P;var r={start:window.performance.now()+(s.delay||0),b:t,callback:n||g};o&&!c&&(s.css&&s.delay&&(u=e.style.cssText,e.style.cssText+=s.css(0,1)),s.tick&&s.tick(0,1),c=!0),t||(r.group=B.current,B.current.remaining+=1),s.delay?this.pending=r:this.start(r),this.running||(this.running=!0,U.add(this))},start:function(n){if(t.fire("".concat(n.b?"intro":"outro",".start"),{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=i*Math.abs(n.b-n.a),n.end=n.start+n.duration,s.css){s.delay&&(e.style.cssText=u);var r=function(t,e,n){for(var r=t.a,o=t.b,i=t.delta,a=16.666/t.duration,u="{\n",s=0;s<=1;s+=a){var c=r+i*e(s);u+=100*s+"%{".concat(n(c,1-c),"}\n")}return u+"100% {".concat(n(o,1-o),"}\n}")}(n,a,s.css);U.addRule(r,n.name="__svelte_"+function(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(r)),e.style.animation=(e.style.animation||"").split(", ").filter((function(t){return t&&(n.delta<0||!/__svelte/.test(t))})).concat("".concat(n.name," ").concat(n.duration,"ms linear 1 forwards")).join(", ")}this.program=n,this.pending=null},update:function(t){var e=this.program;if(e){var n=t-e.start;this.t=e.a+e.delta*a(n/e.duration),s.tick&&s.tick(this.t,1-this.t)}},done:function(){var n=this.program;this.t=n.b,s.tick&&s.tick(this.t,1-this.t),t.fire("".concat(n.b?"intro":"outro",".end"),{node:e}),n.b||n.invalidated?s.css&&U.deleteRule(e,n.name):(n.group.callbacks.push((function(){n.callback(),s.css&&U.deleteRule(e,n.name)})),0==--n.group.remaining&&n.group.callbacks.forEach(w)),this.running=!!this.pending},abort:function(t){this.program&&(t&&s.tick&&s.tick(1,0),s.css&&U.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate:function(){this.program&&(this.program.invalidated=!0)}}}var B={};var U={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add:function(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(t,e){if(!this.stylesheet){var n=A("style");document.head.appendChild(n),U.stylesheet=n.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule("@keyframes ".concat(e," ").concat(t),this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var t=window.performance.now(),e=this.transitions.length;e--;){var n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(var r=this.stylesheet.cssRules.length;r--;)this.stylesheet.deleteRule(r);this.activeRules={}}},deleteRule:function(t,e){t.style.animation=t.style.animation.split(", ").filter((function(t){return t&&-1===t.indexOf(e)})).join(", ")},wait:function(){return U.promise||(U.promise=Promise.resolve(),U.promise.then((function(){U.promise=null}))),U.promise}};function $(){return Object.create(null)}function z(t,e){return t!=t?e==e:t!==e||t&&"object"===h(t)||"function"==typeof t}function V(t,e){return t!=t?e==e:t!==e}function W(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var o=n[r];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function q(t){t._lock=!0,X(t._beforecreate),X(t._oncreate),X(t._aftercreate),t._lock=!1}function Y(){return this._state}function G(t,e){t._handlers=$(),t._slots=$(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function K(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function X(t){for(;t&&t.length;)t.shift()()}function J(){this.store._remove(this)}var Z={destroy:function(t){this.destroy=g,this.fire("destroy"),this.set=g,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:Y,fire:W,on:K,set:function(t){this._set(y({},t)),this.root._lock||q(this.root)},_recompute:g,_set:function(t){var e=this._state,n={},r=!1;for(var o in t=y(this._staged,t),this._staged={},t)this._differs(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=y(y({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){y(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:z};function Q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var et=function(t){var e=h(t);return null!=t&&("object"==e||"function"==e)},nt="object"==h(tt)&&tt&&tt.Object===Object&&tt,rt=nt,ot="object"==("undefined"==typeof self?"undefined":h(self))&&self&&self.Object===Object&&self,it=rt||ot||Function("return this")(),at=it,ut=function(){return at.Date.now()},st=/\s/;var ct=function(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e},lt=/^\s+/;var ft=function(t){return t?t.slice(0,ct(t)+1).replace(lt,""):t},ht=it.Symbol,pt=ht,dt=Object.prototype,mt=dt.hasOwnProperty,vt=dt.toString,gt=pt?pt.toStringTag:void 0;var yt=function(t){var e=mt.call(t,gt),n=t[gt];try{t[gt]=void 0;var r=!0}catch(t){}var o=vt.call(t);return r&&(e?t[gt]=n:delete t[gt]),o},bt=Object.prototype.toString;var wt=yt,_t=function(t){return bt.call(t)},xt=ht?ht.toStringTag:void 0;var Nt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":xt&&xt in Object(t)?wt(t):_t(t)};var Et=function(t){return null!=t&&"object"==h(t)},Mt=Nt,At=Et;var Ot=function(t){return"symbol"==h(t)||At(t)&&"[object Symbol]"==Mt(t)},kt=ft,St=et,Ct=Ot,Tt=/^[-+]0x[0-9a-f]+$/i,Rt=/^0b[01]+$/i,jt=/^0o[0-7]+$/i,It=parseInt;var Ft=function(t){if("number"==typeof t)return t;if(Ct(t))return NaN;if(St(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=St(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=kt(t);var n=Rt.test(t);return n||jt.test(t)?It(t.slice(2),n?2:8):Tt.test(t)?NaN:+t},Lt=et,Dt=ut,Pt=Ft,Ht=Math.max,Bt=Math.min;var Ut=function(t,e,n){var r,o,i,a,u,s,c=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,i=o;return r=o=void 0,c=e,a=t.apply(i,n)}function d(t){return c=t,u=setTimeout(v,e),l?p(t):a}function m(t){var n=t-s;return void 0===s||n>=e||n<0||f&&t-c>=i}function v(){var t=Dt();if(m(t))return g(t);u=setTimeout(v,function(t){var n=e-(t-s);return f?Bt(n,i-(t-c)):n}(t))}function g(t){return u=void 0,h&&r?p(t):(r=o=void 0,a)}function y(){var t=Dt(),n=m(t);if(r=arguments,o=this,s=t,n){if(void 0===u)return d(s);if(f)return clearTimeout(u),u=setTimeout(v,e),p(s)}return void 0===u&&(u=setTimeout(v,e)),a}return e=Pt(e)||0,Lt(n)&&(l=!!n.leading,i=(f="maxWait"in n)?Ht(Pt(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=s=o=u=void 0},y.flush=function(){return void 0===u?a:g(Dt())},y},$t=Nt,zt=et;var Vt,Wt=function(t){if(!zt(t))return!1;var e=$t(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},qt=it["__core-js_shared__"],Yt=(Vt=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||""))?"Symbol(src)_1."+Vt:"";var Gt=function(t){return!!Yt&&Yt in t},Kt=Function.prototype.toString;var Xt=function(t){if(null!=t){try{return Kt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Jt=Wt,Zt=Gt,Qt=et,te=Xt,ee=/^\[object .+?Constructor\]$/,ne=Function.prototype,re=Object.prototype,oe=ne.toString,ie=re.hasOwnProperty,ae=RegExp("^"+oe.call(ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ue=function(t){return!(!Qt(t)||Zt(t))&&(Jt(t)?ae:ee).test(te(t))},se=function(t,e){return null==t?void 0:t[e]};var ce=function(t,e){var n=se(t,e);return ue(n)?n:void 0},le=ce,fe=function(){try{var t=le(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var he=function(t,e,n){"__proto__"==e&&fe?fe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var pe=function(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r};var de=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}();var me=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},ve=Nt,ge=Et;var ye=function(t){return ge(t)&&"[object Arguments]"==ve(t)},be=Et,we=Object.prototype,_e=we.hasOwnProperty,xe=we.propertyIsEnumerable,Ne=ye(function(){return arguments}())?ye:function(t){return be(t)&&_e.call(t,"callee")&&!xe.call(t,"callee")},Ee=Array.isArray,Me={exports:{}};var Ae=function(){return!1};!function(t,e){var n=it,r=Ae,o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||r;t.exports=u}(Me,Me.exports);var Oe=/^(?:0|[1-9]\d*)$/;var ke=function(t,e){var n=h(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Oe.test(t))&&t>-1&&t%1==0&&t<e};var Se=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ce=Nt,Te=Se,Re=Et,je={};je["[object Float32Array]"]=je["[object Float64Array]"]=je["[object Int8Array]"]=je["[object Int16Array]"]=je["[object Int32Array]"]=je["[object Uint8Array]"]=je["[object Uint8ClampedArray]"]=je["[object Uint16Array]"]=je["[object Uint32Array]"]=!0,je["[object Arguments]"]=je["[object Array]"]=je["[object ArrayBuffer]"]=je["[object Boolean]"]=je["[object DataView]"]=je["[object Date]"]=je["[object Error]"]=je["[object Function]"]=je["[object Map]"]=je["[object Number]"]=je["[object Object]"]=je["[object RegExp]"]=je["[object Set]"]=je["[object String]"]=je["[object WeakMap]"]=!1;var Ie=function(t){return Re(t)&&Te(t.length)&&!!je[Ce(t)]};var Fe=function(t){return function(e){return t(e)}},Le={exports:{}};!function(t,e){var n=nt,r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,i=o&&o.exports===r&&n.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=a}(Le,Le.exports);var De=Ie,Pe=Fe,He=Le.exports,Be=He&&He.isTypedArray,Ue=Be?Pe(Be):De,$e=me,ze=Ne,Ve=Ee,We=Me.exports,qe=ke,Ye=Ue,Ge=Object.prototype.hasOwnProperty;var Ke=function(t,e){var n=Ve(t),r=!n&&ze(t),o=!n&&!r&&We(t),i=!n&&!r&&!o&&Ye(t),a=n||r||o||i,u=a?$e(t.length,String):[],s=u.length;for(var c in t)!e&&!Ge.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qe(c,s))||u.push(c);return u},Xe=Object.prototype;var Je=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Xe)};var Ze=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),Qe=Je,tn=Ze,en=Object.prototype.hasOwnProperty;var nn=Wt,rn=Se;var on=function(t){return null!=t&&rn(t.length)&&!nn(t)},an=Ke,un=function(t){if(!Qe(t))return tn(t);var e=[];for(var n in Object(t))en.call(t,n)&&"constructor"!=n&&e.push(n);return e},sn=on;var cn=function(t){return sn(t)?an(t):un(t)},ln=de,fn=cn;var hn=on;var pn=function(t,e){return function(n,r){if(null==n)return n;if(!hn(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(t,e){return t&&ln(t,e,fn)}));var dn=function(t,e,n,r){return pn(t,(function(t,o,i){e(r,t,n(t),i)})),r};var mn=function(){this.__data__=[],this.size=0};var vn=function(t,e){return t===e||t!=t&&e!=e},gn=vn;var yn=function(t,e){for(var n=t.length;n--;)if(gn(t[n][0],e))return n;return-1},bn=yn,wn=Array.prototype.splice;var _n=yn;var xn=yn;var Nn=yn;var En=mn,Mn=function(t){var e=this.__data__,n=bn(e,t);return!(n<0)&&(n==e.length-1?e.pop():wn.call(e,n,1),--this.size,!0)},An=function(t){var e=this.__data__,n=_n(e,t);return n<0?void 0:e[n][1]},On=function(t){return xn(this.__data__,t)>-1},kn=function(t,e){var n=this.__data__,r=Nn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sn.prototype.clear=En,Sn.prototype.delete=Mn,Sn.prototype.get=An,Sn.prototype.has=On,Sn.prototype.set=kn;var Cn=Sn,Tn=Cn;var Rn=function(){this.__data__=new Tn,this.size=0};var jn=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var In=function(t){return this.__data__.get(t)};var Fn=function(t){return this.__data__.has(t)},Ln=ce(it,"Map"),Dn=ce(Object,"create"),Pn=Dn;var Hn=function(){this.__data__=Pn?Pn(null):{},this.size=0};var Bn=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Un=Dn,$n=Object.prototype.hasOwnProperty;var zn=function(t){var e=this.__data__;if(Un){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return $n.call(e,t)?e[t]:void 0},Vn=Dn,Wn=Object.prototype.hasOwnProperty;var qn=Dn;var Yn=Hn,Gn=Bn,Kn=zn,Xn=function(t){var e=this.__data__;return Vn?void 0!==e[t]:Wn.call(e,t)},Jn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qn&&void 0===e?"__lodash_hash_undefined__":e,this};function Zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zn.prototype.clear=Yn,Zn.prototype.delete=Gn,Zn.prototype.get=Kn,Zn.prototype.has=Xn,Zn.prototype.set=Jn;var Qn=Zn,tr=Cn,er=Ln;var nr=function(t){var e=h(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var rr=function(t,e){var n=t.__data__;return nr(e)?n["string"==typeof e?"string":"hash"]:n.map},or=rr;var ir=rr;var ar=rr;var ur=rr;var sr=function(){this.size=0,this.__data__={hash:new Qn,map:new(er||tr),string:new Qn}},cr=function(t){var e=or(this,t).delete(t);return this.size-=e?1:0,e},lr=function(t){return ir(this,t).get(t)},fr=function(t){return ar(this,t).has(t)},hr=function(t,e){var n=ur(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function pr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pr.prototype.clear=sr,pr.prototype.delete=cr,pr.prototype.get=lr,pr.prototype.has=fr,pr.prototype.set=hr;var dr=pr,mr=Cn,vr=Ln,gr=dr;var yr=Cn,br=Rn,wr=jn,_r=In,xr=Fn,Nr=function(t,e){var n=this.__data__;if(n instanceof mr){var r=n.__data__;if(!vr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gr(r)}return n.set(t,e),this.size=n.size,this};function Er(t){var e=this.__data__=new yr(t);this.size=e.size}Er.prototype.clear=br,Er.prototype.delete=wr,Er.prototype.get=_r,Er.prototype.has=xr,Er.prototype.set=Nr;var Mr=Er;var Ar=dr,Or=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},kr=function(t){return this.__data__.has(t)};function Sr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ar;++e<n;)this.add(t[e])}Sr.prototype.add=Sr.prototype.push=Or,Sr.prototype.has=kr;var Cr=Sr,Tr=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Rr=function(t,e){return t.has(e)};var jr=function(t,e,n,r,o,i){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(t),l=i.get(e);if(c&&l)return c==e&&l==t;var f=-1,h=!0,p=2&n?new Cr:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var d=t[f],m=e[f];if(r)var v=a?r(m,d,f,e,t,i):r(d,m,f,t,e,i);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!Tr(e,(function(t,e){if(!Rr(p,e)&&(d===t||o(d,t,n,r,i)))return p.push(e)}))){h=!1;break}}else if(d!==m&&!o(d,m,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h};var Ir=it.Uint8Array,Fr=vn,Lr=jr,Dr=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Pr=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Hr=ht?ht.prototype:void 0,Br=Hr?Hr.valueOf:void 0;var Ur=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Ir(t),new Ir(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Fr(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Dr;case"[object Set]":var s=1&r;if(u||(u=Pr),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=Lr(u(t),u(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(Br)return Br.call(t)==Br.call(e)}return!1};var $r=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},zr=Ee;var Vr=function(t,e,n){var r=e(t);return zr(t)?r:$r(r,n(t))};var Wr=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i},qr=function(){return[]},Yr=Object.prototype.propertyIsEnumerable,Gr=Object.getOwnPropertySymbols,Kr=Vr,Xr=Gr?function(t){return null==t?[]:(t=Object(t),Wr(Gr(t),(function(e){return Yr.call(t,e)})))}:qr,Jr=cn;var Zr=function(t){return Kr(t,Jr,Xr)},Qr=Object.prototype.hasOwnProperty;var to=function(t,e,n,r,o,i){var a=1&n,u=Zr(t),s=u.length;if(s!=Zr(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:Qr.call(e,l)))return!1}var f=i.get(t),h=i.get(e);if(f&&h)return f==e&&h==t;var p=!0;i.set(t,e),i.set(e,t);for(var d=a;++c<s;){var m=t[l=u[c]],v=e[l];if(r)var g=a?r(v,m,l,e,t,i):r(m,v,l,t,e,i);if(!(void 0===g?m===v||o(m,v,n,r,i):g)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(t),i.delete(e),p},eo=ce(it,"DataView"),no=Ln,ro=ce(it,"Promise"),oo=ce(it,"Set"),io=ce(it,"WeakMap"),ao=Nt,uo=Xt,so=uo(eo),co=uo(no),lo=uo(ro),fo=uo(oo),ho=uo(io),po=ao;(eo&&"[object DataView]"!=po(new eo(new ArrayBuffer(1)))||no&&"[object Map]"!=po(new no)||ro&&"[object Promise]"!=po(ro.resolve())||oo&&"[object Set]"!=po(new oo)||io&&"[object WeakMap]"!=po(new io))&&(po=function(t){var e=ao(t),n="[object Object]"==e?t.constructor:void 0,r=n?uo(n):"";if(r)switch(r){case so:return"[object DataView]";case co:return"[object Map]";case lo:return"[object Promise]";case fo:return"[object Set]";case ho:return"[object WeakMap]"}return e});var mo=Mr,vo=jr,go=Ur,yo=to,bo=po,wo=Ee,_o=Me.exports,xo=Ue,No="[object Object]",Eo=Object.prototype.hasOwnProperty;var Mo=function(t,e,n,r,o,i){var a=wo(t),u=wo(e),s=a?"[object Array]":bo(t),c=u?"[object Array]":bo(e),l=(s="[object Arguments]"==s?No:s)==No,f=(c="[object Arguments]"==c?No:c)==No,h=s==c;if(h&&_o(t)){if(!_o(e))return!1;a=!0,l=!1}if(h&&!l)return i||(i=new mo),a||xo(t)?vo(t,e,n,r,o,i):go(t,e,s,n,r,o,i);if(!(1&n)){var p=l&&Eo.call(t,"__wrapped__"),d=f&&Eo.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,v=d?e.value():e;return i||(i=new mo),o(m,v,n,r,i)}}return!!h&&(i||(i=new mo),yo(t,e,n,r,o,i))},Ao=Et;var Oo=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Ao(e)&&!Ao(n)?e!=e&&n!=n:Mo(e,n,r,o,t,i))},ko=Mr,So=Oo;var Co=et;var To=function(t){return t==t&&!Co(t)},Ro=To,jo=cn;var Io=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}},Fo=function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var s=(u=n[o])[0],c=t[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var f=new ko;if(r)var h=r(c,l,s,t,e,f);if(!(void 0===h?So(l,c,3,r,f):h))return!1}}return!0},Lo=function(t){for(var e=jo(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Ro(o)]}return e},Do=Io;var Po=function(t){var e=Lo(t);return 1==e.length&&e[0][2]?Do(e[0][0],e[0][1]):function(n){return n===t||Fo(n,t,e)}},Ho=Ee,Bo=Ot,Uo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$o=/^\w*$/;var zo=function(t,e){if(Ho(t))return!1;var n=h(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Bo(t))||($o.test(t)||!Uo.test(t)||null!=e&&t in Object(e))},Vo=dr;function Wo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Wo.Cache||Vo),n}Wo.Cache=Vo;var qo=Wo;var Yo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Go=/\\(\\)?/g,Ko=function(t){var e=qo(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Yo,(function(t,n,r,o){e.push(r?o.replace(Go,"$1"):n||t)})),e}));var Xo=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},Jo=Ee,Zo=Ot,Qo=ht?ht.prototype:void 0,ti=Qo?Qo.toString:void 0;var ei=function t(e){if("string"==typeof e)return e;if(Jo(e))return Xo(e,t)+"";if(Zo(e))return ti?ti.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var ni=Ee,ri=zo,oi=Ko,ii=function(t){return null==t?"":ei(t)};var ai=function(t,e){return ni(t)?t:ri(t,e)?[t]:oi(ii(t))},ui=Ot;var si=function(t){if("string"==typeof t||ui(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},ci=ai,li=si;var fi=function(t,e){for(var n=0,r=(e=ci(e,t)).length;null!=t&&n<r;)t=t[li(e[n++])];return n&&n==r?t:void 0},hi=fi;var pi=ai,di=Ne,mi=Ee,vi=ke,gi=Se,yi=si;var bi=function(t,e){return null!=t&&e in Object(t)},wi=function(t,e,n){for(var r=-1,o=(e=pi(e,t)).length,i=!1;++r<o;){var a=yi(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&gi(o)&&vi(a,o)&&(mi(t)||di(t))};var _i=Oo,xi=function(t,e,n){var r=null==t?void 0:hi(t,e);return void 0===r?n:r},Ni=function(t,e){return null!=t&&wi(t,e,bi)},Ei=zo,Mi=To,Ai=Io,Oi=si;var ki=fi;var Si=function(t){return function(e){return null==e?void 0:e[t]}},Ci=function(t){return function(e){return ki(e,t)}},Ti=zo,Ri=si;var ji=Po,Ii=function(t,e){return Ei(t)&&Mi(e)?Ai(Oi(t),e):function(n){var r=xi(n,t);return void 0===r&&r===e?Ni(n,t):_i(e,r,3)}},Fi=function(t){return t},Li=Ee,Di=function(t){return Ti(t)?Si(Ri(t)):Ci(t)};var Pi=pe,Hi=dn,Bi=function(t){return"function"==typeof t?t:null==t?Fi:"object"==h(t)?Li(t)?Ii(t[0],t[1]):ji(t):Di(t)},Ui=Ee;var $i=function(t,e){return function(n,r){var o=Ui(n)?Pi:Hi,i=e?e():{};return o(n,t,Bi(r),i)}},zi=he,Vi=$i,Wi=Object.prototype.hasOwnProperty,qi=Vi((function(t,e,n){Wi.call(t,n)?t[n].push(e):zi(t,n,[e])}));function Yi(t){if(!t||"object"!==h(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}var Gi={};function Ki(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Gi[t]=window.__dw.vis.meta.locale||{}):Gi[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function Xi(t){var e=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),Gi[n]||Ki(n),!Gi[n][t])return"MISSING:"+t;var r=Gi[n][t];return"string"==typeof r&&arguments.length>2&&(r=r.replace(/\$(\d)/g,(function(t,n){return n=2+Number(n),void 0===e[n]?t:e[n]}))),r}function Ji(t,e){return(Ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Qi(t,e,n){return(Qi=Zi()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Ji(o,n.prototype),o}).apply(null,arguments)}var ta="TOP",ea="TPAREN";function na(t,e,n){this.type=t,this.value=e,this.index=n}function ra(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}na.prototype.toString=function(){return this.type+": "+this.value},ra.prototype.newToken=function(t,e,n){return new na(t,e,null!=n?n:this.pos)},ra.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},ra.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},ra.prototype.next=function(){return this.pos>=this.expression.length?this.newToken("TEOF","EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},ra.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var o=this.expression.substring(e+1,r);this.current=this.newToken("TSTRING",this.unescape(o),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},ra.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(ea,t),this.pos++,!0)},ra.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken("TBRACKET",t),this.pos++,!0)},ra.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken("TCOMMA",","),this.pos++,!0)},ra.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken("TSEMICOLON",";"),this.pos++,!0)},ra.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken("TNUMBER",this.consts[r]),this.pos+=r.length,!0}return!1},ra.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(ta,r),this.pos+=r.length,!0}return!1},ra.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var o=this.expression.substring(t,e);return this.current=this.newToken("TNAME",o),this.pos+=o.length,!0}return!1},ra.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var oa=/^[0-9a-f]{4}$/i;ra.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var o=t.substring(e+1,e+5);oa.test(o)||this.parseError("Illegal escape sequence: \\u"+o),n+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var i=t.indexOf("\\",e);n+=t.substring(e,i<0?t.length:i),e=i}return n},ra.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},ra.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,o=n;n<this.expression.length;){var i=this.expression.charAt(n);if(!e.test(i))break;n++,r=!0}return r&&(this.current=this.newToken("TNUMBER",parseInt(this.expression.substring(o,n),t)),this.pos=n),r},ra.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,o=n,i=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:a=!0,n++,e=a;if(e&&(o=n),"e"===t||"E"===t){n++;for(var u=!0,s=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!u||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;s=!0,u=!1}else u=!1;n++}s||(n=o)}return e?(this.current=this.newToken("TNUMBER",parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=o,e},ra.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(ta,e);else if("∙"===e||"•"===e)this.current=this.newToken(ta,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ta,">="),this.pos++):this.current=this.newToken(ta,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ta,"<="),this.pos++):this.current=this.newToken(ta,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(ta,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ta,"=="),this.pos++):this.current=this.newToken(ta,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ta,"!="),this.pos++):this.current=this.newToken(ta,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},ra.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},ra.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},ra.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};var ia="IEXPR";function aa(t,e){this.type=t,this.value=null!=e?e:0}function ua(t){return new aa("IOP1",t)}function sa(t){return new aa("IOP2",t)}function ca(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess}aa.prototype.toString=function(){switch(this.type){case"INUMBER":case"IOP1":case"IOP2":case"IOP3":case"IVAR":case"IVARNAME":case"IENDSTATEMENT":return this.value;case"IFUNCALL":return"CALL "+this.value;case"IFUNDEF":return"DEF "+this.value;case"IARRAY":return"ARRAY "+this.value;case"IMEMBER":return"."+this.value;default:return"Invalid Instruction"}},ca.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},ca.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}(e,t.value):"function"==typeof e?e(t):t.value===e)},ca.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ca.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ca.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},ca.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},ca.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept("TNAME")||this.accept(ta,(function(t){return t.value in e})))t.push(new aa("IVAR",this.current.value));else if(this.accept("TNUMBER"))t.push(new aa("INUMBER",this.current.value));else if(this.accept("TSTRING"))t.push(new aa("INUMBER",this.current.value));else if(this.accept(ea,"("))this.parseExpression(t),this.expect(ea,")");else{if(!this.accept("TBRACKET","["))throw new Error("unexpected "+this.nextToken);if(this.accept("TBRACKET","]"))t.push(new aa("IARRAY",0));else{var n=this.parseArrayList(t);t.push(new aa("IARRAY",n))}}},ca.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},ca.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},ca.prototype.parseUntilEndStatement=function(t,e){return!!this.accept("TSEMICOLON")&&(!this.nextToken||"TEOF"===this.nextToken.type||this.nextToken.type===ea&&")"===this.nextToken.value||e.push(new aa("IENDSTATEMENT")),"TEOF"!==this.nextToken.type&&this.parseExpression(e),t.push(new aa(ia,e)),!0)},ca.prototype.parseArrayList=function(t){for(var e=0;!this.accept("TBRACKET","]");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},ca.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(ta,"=");){var e=t.pop(),n=[],r=t.length-1;if("IFUNCALL"!==e.type){if("IVAR"!==e.type&&"IMEMBER"!==e.type)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new aa("IVARNAME",e.value)),t.push(new aa(ia,n)),t.push(sa("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=e.value+1;o<i;o++){var a=r-o;"IVAR"===t[a].type&&(t[a]=new aa("IVARNAME",t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new aa(ia,n)),t.push(new aa("IFUNDEF",e.value))}}},ca.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(ta,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(ta,":"),this.parseConditionalExpression(n),t.push(new aa(ia,e)),t.push(new aa(ia,n)),t.push(new aa("IOP3","?"))}},ca.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(ta,"or");){var e=[];this.parseAndExpression(e),t.push(new aa(ia,e)),t.push(sa("or"))}},ca.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(ta,"and");){var e=[];this.parseComparison(e),t.push(new aa(ia,e)),t.push(sa("and"))}};var la=["==","!=","<","<=",">=",">","in"];ca.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(ta,la);){var e=this.current;this.parseAddSub(t),t.push(sa(e.value))}};var fa=["+","-","||"];ca.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(ta,fa);){var e=this.current;this.parseTerm(t),t.push(sa(e.value))}};var ha=["*","/","%"];function pa(t,e){return Number(t)+Number(e)}function da(t,e){return t-e}function ma(t,e){return t*e}function va(t,e){return t/e}function ga(t,e){return t%e}function ya(t,e){return t===e}function ba(t,e){return t!==e}function wa(t,e){return t>e}function _a(t,e){return t<e}function xa(t,e){return t>=e}function Na(t,e){return t<=e}function Ea(t,e){return Boolean(t&&e)}function Ma(t,e){return Boolean(t||e)}function Aa(t){return Math.log(t)*Math.LOG10E}function Oa(t){return-t}function ka(t){return!t}function Sa(t){return t<0?Math.ceil(t):Math.floor(t)}function Ca(t){return Math.random()*(t||1)}function Ta(t){return Array.isArray(t)?t.length:String(t).length}function Ra(t,e,n){return t?e:n}function ja(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function Ia(t,e){return t[0|e]}function Fa(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function La(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function Da(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))}function Pa(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)}function Ha(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))}function Ba(t){return(t>0)-(t<0)||+t}function Ua(t){return Math.log(1+t)}function $a(t){return Math.log(t)/Math.LN2}function za(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}function Va(t,e,n){var r,o,i,a,u,s,c=[];if(qa(t))return Ya(t,n);for(var l=t.length,f=0;f<l;f++){var h=t[f],p=h.type;if("INUMBER"===p||"IVARNAME"===p)c.push(h.value);else if("IOP2"===p)o=c.pop(),r=c.pop(),"and"===h.value?c.push(!!r&&!!Va(o,e,n)):"or"===h.value?c.push(!!r||!!Va(o,e,n)):"="===h.value?(a=e.binaryOps[h.value],c.push(a(r,Va(o,e,n),n))):(a=e.binaryOps[h.value],c.push(a(Ya(r,n),Ya(o,n))));else if("IOP3"===p)i=c.pop(),o=c.pop(),r=c.pop(),"?"===h.value?c.push(Va(r?o:i,e,n)):(a=e.ternaryOps[h.value],c.push(a(Ya(r,n),Ya(o,n),Ya(i,n))));else if("IVAR"===p)if(h.value in e.functions)c.push(e.functions[h.value]);else if(h.value in e.unaryOps&&e.parser.isOperatorEnabled(h.value))c.push(e.unaryOps[h.value]);else{var d=n[h.value];if(void 0===d)throw new Error("undefined variable: "+h.value);c.push(d)}else if("IOP1"===p)r=c.pop(),a=e.unaryOps[h.value],c.push(a(Ya(r,n)));else if("IFUNCALL"===p){for(s=h.value,u=[];s-- >0;)u.unshift(Ya(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,u))}else if("IFUNDEF"===p)c.push(function(){for(var t=c.pop(),r=[],o=h.value;o-- >0;)r.unshift(c.pop());var i=c.pop(),a=function(){for(var o=Object.assign({},n),i=0,a=r.length;i<a;i++)o[r[i]]=arguments[i];return Va(t,e,o)};return Object.defineProperty(a,"name",{value:i,writable:!1}),n[i]=a,a}());else if(p===ia)c.push(Wa(h,e));else if("IEXPREVAL"===p)c.push(h);else if("IMEMBER"===p)r=c.pop(),c.push(r[h.value]);else if("IENDSTATEMENT"===p)c.pop();else{if("IARRAY"!==p)throw new Error("invalid Expression");for(s=h.value,u=[];s-- >0;)u.unshift(c.pop());c.push(u)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Ya(c[0],n)}function Wa(t,e,n){return qa(t)?t:{type:"IEXPREVAL",value:function(n){return Va(t.value,e,n)}}}function qa(t){return t&&"IEXPREVAL"===t.type}function Ya(t,e){return qa(t)?t.value(e):t}function Ga(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Ka(t){return t.trim()}function Xa(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||$a,LN:Math.log,LOG10:Math.log10||Aa,LG:Math.log10||Aa,LOG1P:Math.log1p||Ua,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:function(t){return null===t},TRUNC:Math.trunc||Sa,"-":Oa,"+":Number,EXP:Math.exp,NOT:ka,LENGTH:Ta,"!":ka,SIGN:Math.sign||Ba,TEXT:function(t){return e(t)?t.toISOString():String(t)},NUMBER:Number},this.binaryOps={"+":pa,"-":da,"*":ma,"/":va,"%":ga,"^":Math.pow,"==":ya,"!=":ba,">":wa,"<":_a,">=":xa,"<=":Na,and:Ea,or:Ma,in:function(t,e){return Array.isArray(e)?e.includes(t):String(e).includes(t)},"[":Ia},this.ternaryOps={"?":Ra};var e=function(t){return t instanceof Date&&!isNaN(t)},n=function(t){if(e(t))return t;try{var n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((function(t){return!isNaN(t)&&Number.isFinite(t)}))}var o=/\w*/g,i=/\w\S*/g,a=/[\\^$*+?.()|[\]{}]/g;try{o=new RegExp("\\p{L}*","ug"),i=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Ra,RANDOM:Ca,MIN:function(){var t=r.apply(this,arguments);return La(t)},MAX:function(){return Fa(r.apply(this,arguments))},SUM:function(){return za(r.apply(this,arguments))},MEAN:function(){var t=r.apply(this,arguments);return za(t)/t.length},MEDIAN:function(){var t=r.apply(this,arguments).sort((function(t,e){return t-e})),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:ja,CONCAT:function(){return Array.from(arguments).join("")},TRIM:Ka,SUBSTR:function(t,e,n){return t.substr(e,n)},REPLACE:function(t,e,n){return t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n)},REPLACE_REGEX:function(t,e,n){return t.replace(new RegExp(e,"g"),n)},SPLIT:function(t,e){return String(t).split(e)},LOWER:function(t){return String(t).toLowerCase()},UPPER:function(t){return String(t).toUpperCase()},PROPER:function(t){return String(t).replace(o,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},TITLE:function(t){return String(t).replace(i,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},SORT:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((function(t,r){return((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)}))},SLICE:function(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Da,FOLD:Pa,FILTER:Ha,PLUCK:function(t,e){if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((function(t){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:null}))},INDEXOF:function(t,e){return Array.isArray(t)||(t=String(t)),t.indexOf(e)},FIND:function(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");for(var n=t.length,r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},EVERY:function(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");for(var n=t.length,r=!0,o=0;o<n;o++)if(!(r=r&&e(t[o])))return!1;return!0},SOME:function(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");for(var n=t.length,r=!1,o=0;o<n;o++)if(r=r||e(t[o]))return!0;return!1},DATE:function(){return arguments.length>1&&(arguments[1]=arguments[1]-1),Qi(Date,Array.prototype.slice.call(arguments))},YEAR:function(t){return(t=n(t))?t.getFullYear():null},MONTH:function(t){return(t=n(t))?t.getMonth()+1:null},DAY:function(t){return(t=n(t))?t.getDate():null},WEEKDAY:function(t){return(t=n(t))?t.getDay():null},HOURS:function(t){return(t=n(t))?t.getHours():null},MINUTES:function(t){return(t=n(t))?t.getMinutes():null},SECONDS:function(t){return(t=n(t))?t.getSeconds():null},DATEDIFF:function(t,e){return t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null},TIMEDIFF:function(t,e){return t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null}},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}ca.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(ta,ha);){var e=this.current;this.parseFactor(t),t.push(sa(e.value))}},ca.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(ta,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===ea&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if("TSEMICOLON"===this.nextToken.type||"TCOMMA"===this.nextToken.type||"TEOF"===this.nextToken.type||this.nextToken.type===ea&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(ua(n.value))}else this.parseExponential(t)},ca.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(ta,"^");)this.parseFactor(t),t.push(sa("^"))},ca.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(ta,"!");)t.push(ua("!"))},ca.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(ta,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(ua(n.value))}else for(this.parseMemberExpression(t);this.accept(ea,"(");)if(this.accept(ea,")"))t.push(new aa("IFUNCALL",0));else{var r=this.parseArgumentList(t);t.push(new aa("IFUNCALL",r))}},ca.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(ea,")");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},ca.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(ta,".")||this.accept("TBRACKET","[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect("TNAME"),t.push(new aa("IMEMBER",this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect("TBRACKET","]"),t.push(sa("["))}}},Ga.prototype.evaluate=function(t){return t=t||{},Va(this.tokens,this,t)},Ga.prototype.variables=function(){return(this.tokens||[]).filter((function(t){return"IVAR"===t.type})).map((function(t){return t.value}))},Xa.prototype.parse=function(t){var e=[],n=new ca(this,new ra(this,t),{allowMemberAccess:!0});return n.parseExpression(e),n.expect("TEOF","EOF"),new Ga(e,this)},Xa.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Ja=new Xa;Xa.parse=function(t){return Ja.parse(t)},Xa.evaluate=function(t,e){return Ja.parse(t).evaluate(e)},Xa.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Za={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function Qa(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function tu(t){var e=t.get("metadata.describe.computed-columns",[]);return Array.isArray(e)||(e=Object.keys(e).reduce((function(t,n){return t.push({name:n,formula:e[n]}),t}),[])),e}Xa.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(Za,t)?Za[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};var eu={show:function(){var t=this,e=setTimeout((function(){t.set({visible:!0})}),400);this.set({t:e})},hide:function(){var t=this.get().t;clearTimeout(t),this.set({visible:!1})}};function nu(t,e){var n,r,o,i,a,u=t._slotted.default,s="help"===e.type&&ru(),c="upgrade-info"===e.type&&ou();return{c:function(){n=A("div"),s&&s.c(),r=k(" "),c&&c.c(),o=k("\n        "),n.className=a="content "+e.type+" svelte-1qzgns1"},m:function(t,e){x(t,n,e),s&&s.m(n,null),_(n,r),c&&c.m(n,null),_(n,o),u&&(_(n,i||(i=S())),_(n,u))},p:function(t,e){"help"===e.type?s||((s=ru()).c(),s.m(n,r)):s&&(s.d(1),s=null),"upgrade-info"===e.type?c||((c=ou()).c(),c.m(n,o)):c&&(c.d(1),c=null),t.type&&a!==(a="content "+e.type+" svelte-1qzgns1")&&(n.className=a)},d:function(t){t&&N(n),s&&s.d(),c&&c.d(),u&&function(t,e){for(;t.nextSibling;)e.appendChild(t.nextSibling)}(i,u)}}}function ru(t,e){var n;return{c:function(){(n=A("i")).className="hat-icon im im-graduation-hat svelte-1qzgns1"},m:function(t,e){x(t,n,e)},d:function(t){t&&N(n)}}}function ou(t,e){var n,r,o=Xi("upgrade-available");return{c:function(){n=A("div"),r=k(o),n.className="content-header svelte-1qzgns1"},m:function(t,e){x(t,n,e),_(n,r)},d:function(t){t&&N(n)}}}function iu(t){G(this,t),this.refs={},this._state=y({visible:!1,class:"",type:"help"},t.data),this._recompute({type:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,r,o,i,a,u=e.visible&&nu(t,e);function s(e){t.show()}function c(e){t.hide()}return{c:function(){n=A("div"),r=A("span"),i=k("\n    "),u&&u.c(),r.className=o="help-icon "+e.type+" svelte-1qzgns1",D(r,"visible",e.visible),C(n,"mouseenter",s),C(n,"mouseleave",c),n.className=a="help "+e.class+" "+e.type+" svelte-1qzgns1"},m:function(o,a){x(o,n,a),_(n,r),r.innerHTML=e.helpIcon,_(n,i),u&&u.m(n,null),t.refs.helpDisplay=n},p:function(e,i){e.helpIcon&&(r.innerHTML=i.helpIcon),e.type&&o!==(o="help-icon "+i.type+" svelte-1qzgns1")&&(r.className=o),(e.type||e.visible)&&D(r,"visible",i.visible),i.visible?u?u.p(e,i):((u=nu(t,i)).c(),u.m(n,null)):u&&(u.d(1),u=null),(e.class||e.type)&&a!==(a="help "+i.class+" "+i.type+" svelte-1qzgns1")&&(n.className=a)},d:function(e){e&&N(n),u&&u.d(),T(n,"mouseenter",s),T(n,"mouseleave",c),t.refs.helpDisplay===n&&(t.refs.helpDisplay=null)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function au(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uu(t){return(uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function su(t){var e="function"==typeof Map?new Map:void 0;return(su=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Qi(t,arguments,uu(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ji(r,t)})(t)}function cu(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}y(iu.prototype,Z),y(iu.prototype,eu),iu.prototype._recompute=function(t,e){t.type&&this._differs(e.helpIcon,e.helpIcon="upgrade-info"===e.type?'<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>':"?")&&(t.helpIcon=!0)};var lu={exports:{}};
/*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   */!function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var s in i)i[s]&&(u+="; "+s,!0!==i[s]&&(u+="="+i[s].split(";")[0]));return document.cookie=e+"="+n+u}}function a(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var u=i[a].split("="),s=u.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var c=e(u[0]);if(s=(r.read||r)(s,c)||e(s),n)try{s=JSON.parse(s)}catch(t){}if(o[c]=s,t===c)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}(lu);var fu=lu.exports;function hu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=uu(t);if(e){var o=uu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return au(this,n)}}function pu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pu(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var mu=new Set(["get","head","options","trace"]);function vu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.fetch)try{e.fetch=window.fetch}catch(t){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!e.baseUrl)try{e.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(t){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,r=du(du({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},e),{},{headers:du({"Content-Type":"application/json"},e.headers)}),o=r.payload,i=r.baseUrl,a=r.fetch,u=r.raw,s=cu(r,["payload","baseUrl","fetch","raw"]),c="".concat(i.replace(/\/$/,""),"/").concat(t.replace(/^\//,""));if(o&&(s.body=JSON.stringify(o)),mu.has(s.method.toLowerCase()))n=a(c,s);else{var l=fu.get("crumb");l?(s.headers["X-CSRF-Token"]=l,n=a(c,s)):n=vu("/v3/me",{fetch:a,baseUrl:i}).then((function(){var t=fu.get("crumb");t&&(s.headers["X-CSRF-Token"]=t)})).catch((function(){})).then((function(){return a(c,s)}))}return n.then((function(t){if(u)return t;if(!t.ok)throw new bu(t);if(204===t.status||!t.headers.get("content-type"))return t;var e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()}))}vu.get=yu("GET");var gu=vu.patch=yu("PATCH");function yu(t){return function(e,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(t.toLowerCase(),"()"));return vu(e,du(du({},n),{},{method:t}))}}vu.put=yu("PUT"),vu.post=yu("POST"),vu.head=yu("HEAD"),vu.delete=yu("DELETE");var bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ji(t,e)}(n,t);var e=hu(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this)).name="HttpReqError",r.status=t.status,r.statusText=t.statusText,r.message="[".concat(t.status,"] ").concat(t.statusText),r.response=t,r}return n}(su(Error));function wu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){u=!0,i=t})),f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function _u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xu=function(){};var Nu={insert:function(t){var e=this.get().cm;e.replaceSelection(t.key),e.focus()},unmarkErrors:function(){window.document.querySelectorAll("span.parser-error").forEach((function(t){return t.classList.remove("parser-error")}))},removeColumn:function(){var t=this.get().column,e=this.store.get().dw_chart,n=e.dataset(),r=Yi(tu(e)).filter((function(e){return e.name!==t.origName()})),o=n.columnOrder()[n.indexOf(t.name())],i=e.get("metadata.data.changes",[]),a=[];i.forEach((function(t){t.column!==o&&(t.column>o&&t.column--,a.push(t))})),e.set("metadata.describe.computed-columns",r),e.set("metadata.data.changes",a),e.saveSoon(),this.fire("updateTable"),this.fire("unselect")},copyFormulaToData:function(){var t=this.get(),e=t.column,n=t.formula,r=dw.column("",n.split("\n")),o="[".concat(r.values().map((function(t,e){return t instanceof Date&&!isNaN(t)||"string"==typeof t?JSON.stringify(r.raw(e)):t})).join(",\n"),"][ROWNUMBER]");this.set({formula:o,parserErrors:[]}),this.setFormula(o,e.name(),e.origName())},setFormula:function(t,e,n){var r=this;if(void 0!==t){var o=this.store.get().dw_chart,i=this.get().cm;this.set({formula:t});var a=[];t!==i.getValue()&&i.setValue(t),setTimeout((function(){return r.unmarkErrors()}));var u=Yi(tu(o)),s=u.find((function(t){return t.name===n}));if(!s)return setTimeout((function(){r.setFormula(t,e,n)}),100);if(s.formula!==t)s.formula=t,o.set("metadata.describe.computed-columns",u),this.set({checking:!0}),o.saveSoon&&o.saveSoon(),this.store.set({dw_chart:o}),xu();else{var c;try{c=o.dataset().column(e)}catch(t){console.error('Failed to load column "'.concat(e,'"'))}c&&c.errors&&c.errors.forEach((function(t){return a.push(t)}))}this.set({parserErrors:a})}},closeDidYouKnow:function(){try{var t=this;return e=gu("/v3/me/data",{payload:{"new-computed-columns-syntax":1}}),n=function(){window.dw.backend.__userData["new-computed-columns-syntax"]=1,t.set({didYouKnow:!1})},r?n?n(e):e:(e&&e.then||(e=Promise.resolve(e)),n?e.then(n):e)}catch(t){return Promise.reject(t)}var e,n,r}};function Eu(){var t=this,e=this,n=this.get(),r=n.column,o=n.computedColumns,i=this.store.get().dw_chart,a=o.find((function(t){return t.name===r.origName()}));window.dw.backend.__userData["new-computed-columns-syntax"]&&this.set({didYouKnow:!JSON.parse(window.dw.backend.__userData["new-computed-columns-syntax"]||"false")}),this.set({formula:a.formula||"",name:r.origName()});var u=/(?:parse error) \[(\d+):(\d+)\]:/;this.on("hotRendered",(function(){var e=t.get(),n=e.checking,o=e.formula;if(n){var i=[];r.formula===o&&(r.errors||[]).forEach((function(t){i.push(t)})),t.unmarkErrors(),t.set({parserErrors:i,checking:!1})}}));var s,l=c.default.fromTextArea(this.refs.code,{value:this.get().formula||"",mode:"simple",indentUnit:2,tabSize:2,lineWrapping:!0,matchBrackets:!0,placeholder:"",continueComments:"Enter",extraKeys:{Tab:"autocomplete"},hintOptions:{hint:function(t){var n=t.getCursor(),r=t.getTokenAt(n),o=[],i=e.get().keywords;return"variable-x"===r.type?o=i.filter((function(t){return 0===t.toLowerCase().indexOf(r.string.toLowerCase())})):"keyword-x"===r.type&&(o=Xa.keywords.filter((function(t){return 0===t.toLowerCase().indexOf(r.string.toLowerCase())}))),{list:o.sort(),from:c.default.Pos(n.line,r.start),to:c.default.Pos(n.line,r.end)}}}});window.CodeMirror=c.default,this.set({cm:l}),xu=Ut((function(){return e.fire("updateTable")}),1500);var f=this.get(),h=f.formula;function p(t){var e=new RegExp("(?:".concat(t.join("|"),")")),n=new RegExp("(?:".concat(Xa.keywords.join("|"),")"));c.default.defineSimpleMode("simplemode",{start:[{regex:/"(?:[^\\]|\\.)*?(?:"|$)/,token:"string"},{regex:/'(?:[^\\]|\\.)*?(?:'|$)/,token:"string"},{regex:n,token:"keyword"},{regex:/true|false|PI|E/,token:"atom"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:e,token:"variable-2"},{regex:/\/(?:[^\\]|\\.)*?\//,token:"variable-3"},{regex:/[-+/*=<>!^%]+/,token:"operator"},{regex:/[[(]/,indent:!0},{regex:/[\])]/,dedent:!0},{regex:/[a-z$][\w$]*/,token:"variable-x"},{regex:/[A-Z_][\w$]*/,token:"keyword-x"}],meta:{}}),l.setOption("mode","simplemode")}p(f.keywords),this.setFormula(h,r.name(),r.origName()),this.on("state",(function(e){var n=e.changed,r=e.current,o=e.previous;if(n.column){var a=r.column;if(a&&r.computedColumns){var c=r.computedColumns.find((function(t){return t.name===a.origName()})),f=c?c.formula:"";t.set({formula:f,name:a.origName()}),t.setFormula(f,a.name(),a.origName()),l.setValue(f)}}if(n.name&&o.name&&function(e){clearTimeout(s);var n=t.get().column;s=setTimeout((function(){var r=t.get().computedColumns;if(r){var o=(r=Yi(r)).find((function(t){return t.name===n.origName()}));if(o){var a=r.findIndex((function(t){return t.name===e}));-1!==a&&r.splice(a,1),o.name=e,n.name(e),i.set("metadata.describe.computed-columns",r),t.store.set({dw_chart:i}),i.saveSoon&&i.saveSoon(),xu()}else console.error('Computed column "'.concat(n.origName(),'" was not found'))}else console.error("Computed columns are not loaded")}),1500)}(r.name),n.metaColumns&&p(r.keywords),n.errDisplay&&r.errDisplay&&u.test(r.errDisplay)){var h=r.errDisplay.match(u),d=Number(h[1])-1,m=Number(h[2])-1;l.markText({line:d,ch:m},{line:d,ch:m+1},{className:"parser-error"})}})),l.on("change",(function(n){var r=e.get().column;t.setFormula(n.getValue(),r.name(),r.origName())}))}function Mu(t){var e=this._svelte,n=e.component,r=e.ctx;n.insert(r.col)}function Au(t,e,n){var r=Object.create(t);return r.col=e[n],r}function Ou(t,e){var n,r,o,i,a,u,s,c,l,f,h,p,d,m,v,g,y=Xi("cc / formula / did-you-know / title"),b=Xi("cc / formula / did-you-know / text"),w=Xi("cc / formula / did-you-know / link"),E=Xi("cc / formula / did-you-know / link2");function M(e){t.closeDidYouKnow()}return{c:function(){n=A("div"),(r=A("div")).innerHTML='<i class="im im-check-mark-circle"></i>',o=k("\n        "),i=A("h3"),a=k(y),u=k("\n\n        "),s=A("p"),c=k(b),l=k("\n\n        "),f=A("p"),h=k(w),p=k(" "),d=A("i"),m=k("\n            "),v=A("a"),g=k(E),C(r,"click",M),r.className="close",d.className="im im-graduation-hat svelte-1cx0ai0",v.href="https://academy.datawrapper.de/article/249-calculations-in-added-columns-and-tooltips",v.target="_blank",n.className="did-you-know svelte-1cx0ai0",I(n,"margin-top","10px"),I(n,"margin-bottom","1em")},m:function(t,e){x(t,n,e),_(n,r),_(n,o),_(n,i),_(i,a),_(n,u),_(n,s),_(s,c),_(n,l),_(n,f),_(f,h),_(f,p),_(f,d),_(f,m),_(f,v),_(v,g)},d:function(t){t&&N(n),T(r,"click",M)}}}function ku(t,e){var n;return{c:function(){I(n=A("i"),"color","#ccc"),n.className="fa fa-cog fa-spin"},m:function(t,e){x(t,n,e)},d:function(t){t&&N(n)}}}function Su(t,e){var n;return{c:function(){(n=A("p")).className="mini-help errors svelte-1cx0ai0"},m:function(t,r){x(t,n,r),n.innerHTML=e.errNiceDisplay},p:function(t,e){t.errNiceDisplay&&(n.innerHTML=e.errNiceDisplay)},d:function(t){t&&N(n)}}}function Cu(t,e){var n,r,o,i;return{c:function(){n=A("p"),r=A("i"),o=k(" "),i=A("noscript"),r.className="hat-icon im im-graduation-hat svelte-1cx0ai0",n.className="mini-help formula-hint svelte-1cx0ai0"},m:function(t,a){x(t,n,a),_(n,r),_(n,o),_(n,i),i.insertAdjacentHTML("afterend",e.formulaHint)},p:function(t,e){t.formulaHint&&(!function(t){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)}(i),i.insertAdjacentHTML("afterend",e.formulaHint))},d:function(t){t&&N(n)}}}function Tu(t,e){var n,r,o,i,a,u,s,c=Xi("cc / formula / hint / insert-data"),l=Xi("cc / formula / hint / insert-data / action");function f(e){e.preventDefault(),t.copyFormulaToData()}return{c:function(){n=A("div"),r=A("i"),o=k("\n        "),i=k(c),a=k("\n        "),u=A("a"),s=k(l),r.className="hat-icon im im-graduation-hat svelte-1cx0ai0",C(u,"click",f),I(u,"color","white"),I(u,"font-weight","bold"),u.href="/#apply",n.className="mini-help formula-hint svelte-1cx0ai0"},m:function(t,e){x(t,n,e),_(n,r),_(n,o),_(n,i),_(n,a),_(n,u),_(u,s)},d:function(t){t&&N(n),T(u,"click",f)}}}function Ru(t,e){var n,r,o=e.col.key;return{c:function(){n=A("li"),r=k(o),n._svelte={component:t,ctx:e},C(n,"click",Mu),n.className="svelte-1cx0ai0"},m:function(t,e){x(t,n,e),_(n,r)},p:function(t,i){e=i,t.metaColumns&&o!==(o=e.col.key)&&j(r,o),n._svelte.ctx=e},d:function(t){t&&N(n),T(n,"click",Mu)}}}function ju(t){var e=this;G(this,t),this.refs={},this._state=y(y(this.store._init(["dw_chart"]),{name:"",formula:"",parserErrors:[],checking:!1,didYouKnow:!0}),t.data),this.store._add(this,["dw_chart"]),this._recompute({column:1,name:1,$dw_chart:1,columns:1,computedColumns:1,metaColumns:1,formula:1,context:1,error:1,parserErrors:1,errDisplay:1},this._state),this._intro=!0,this._handlers.destroy=[J],this._fragment=function(t,e){var n,r,o,i,a,u,s,c,l,f,h,p,d,m,v,g,y,b,w,O,S,F,L,P,H,B,U,$,z,V,W,q,Y,G,K=Xi("computed columns / modal / intro"),X=Xi("computed columns / modal / name"),J=!1,Z=Xi("computed columns / modal / formula"),Q=Xi("cc / formula / help"),tt=Xi("computed columns / modal / available columns"),et=Xi("computed columns / modal / remove"),nt=e.didYouKnow&&Ou(t);function rt(){J=!0,t.set({name:p.value}),J=!1}for(var ot=e.checking&&!e.error&&ku(),it=new iu({root:t.root,store:t.store,slots:{default:M()}}),at=e.errDisplay&&Su(t,e),ut=e.formulaHint&&Cu(t,e),st=e.looksLikeColumnData&&Tu(t),ct=e.metaColumns,lt=[],ft=0;ft<ct.length;ft+=1)lt[ft]=Ru(t,Au(e,ct,ft));function ht(e){t.removeColumn()}return{c:function(){n=A("div"),nt&&nt.c(),r=k("\n\n    "),o=A("h3"),i=k(e.title),a=k("\n    "),u=A("p"),s=k(K),c=k("\n\n    "),l=A("label"),f=k(X),h=k("\n    "),p=A("input"),d=k("\n\n    "),m=A("label"),v=k(Z),g=k("\n\n        \n        "),ot&&ot.c(),y=k("\n\n        "),b=A("span"),it._fragment.c(),w=k("\n    "),O=A("textarea"),S=k("\n\n    \n    "),at&&at.c(),F=k("\n\n    \n    "),ut&&ut.c(),L=k("\n\n    \n    "),st&&st.c(),P=k("\n\n    "),H=A("p"),B=k(tt),U=k(":"),$=k("\n\n    "),z=A("ul");for(var t=0;t<lt.length;t+=1)lt[t].c();V=k("\n\n"),W=A("button"),q=A("i"),Y=k(" "),G=k(et),o.className="first",l.className="svelte-1cx0ai0",C(p,"input",rt),R(p,"type","text"),m.className="svelte-1cx0ai0",O.className="code svelte-1cx0ai0",D(O,"error",e.errDisplay),I(H,"margin-top","1em"),z.className="col-select svelte-1cx0ai0",I(n,"margin-bottom","15px"),q.className="fa fa-trash",C(W,"click",ht),W.className="btn btn-danger"},m:function(N,E){x(N,n,E),nt&&nt.m(n,null),_(n,r),_(n,o),_(o,i),_(n,a),_(n,u),_(u,s),_(n,c),_(n,l),_(l,f),_(n,h),_(n,p),p.value=e.name,_(n,d),_(n,m),_(m,v),_(m,g),ot&&ot.m(m,null),_(m,y),_(it._slotted.default,b),b.innerHTML=Q,it._mount(m,null),_(n,w),_(n,O),t.refs.code=O,_(n,S),at&&at.m(n,null),_(n,F),ut&&ut.m(n,null),_(n,L),st&&st.m(n,null),_(n,P),_(n,H),_(H,B),_(H,U),_(n,$),_(n,z);for(var M=0;M<lt.length;M+=1)lt[M].m(z,null);x(N,V,E),x(N,W,E),_(W,q),_(W,Y),_(W,G)},p:function(e,o){if(o.didYouKnow?nt||((nt=Ou(t)).c(),nt.m(n,r)):nt&&(nt.d(1),nt=null),e.title&&j(i,o.title),!J&&e.name&&(p.value=o.name),o.checking&&!o.error?ot||((ot=ku()).c(),ot.m(m,y)):ot&&(ot.d(1),ot=null),e.errDisplay&&D(O,"error",o.errDisplay),o.errDisplay?at?at.p(e,o):((at=Su(t,o)).c(),at.m(n,F)):at&&(at.d(1),at=null),o.formulaHint?ut?ut.p(e,o):((ut=Cu(t,o)).c(),ut.m(n,L)):ut&&(ut.d(1),ut=null),o.looksLikeColumnData?st||((st=Tu(t)).c(),st.m(n,P)):st&&(st.d(1),st=null),e.metaColumns){ct=o.metaColumns;for(var a=0;a<ct.length;a+=1){var u=Au(o,ct,a);lt[a]?lt[a].p(e,u):(lt[a]=Ru(t,u),lt[a].c(),lt[a].m(z,null))}for(;a<lt.length;a+=1)lt[a].d(1);lt.length=ct.length}},d:function(e){e&&N(n),nt&&nt.d(),T(p,"input",rt),ot&&ot.d(),it.destroy(),t.refs.code===O&&(t.refs.code=null),at&&at.d(),ut&&ut.d(),st&&st.d(),E(lt,e),e&&(N(V),N(W)),T(W,"click",ht)}}}(this,this._state),this.root._oncreate.push((function(){Eu.call(e),e.fire("update",{changed:b({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),q(this))}function Iu(t){var e=t-1;return e*e*e+1}function Fu(t,e){var n=e.delay;void 0===n&&(n=0);var r=e.duration;void 0===r&&(r=400);var o=e.easing;void 0===o&&(o=Iu);var i=getComputedStyle(t),a=+i.opacity,u=parseFloat(i.height),s=parseFloat(i.paddingTop),c=parseFloat(i.paddingBottom),l=parseFloat(i.marginTop),f=parseFloat(i.marginBottom),h=parseFloat(i.borderTopWidth),p=parseFloat(i.borderBottomWidth);return{delay:n,duration:r,easing:o,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*a+";height: "+t*u+"px;padding-top: "+t*s+"px;padding-bottom: "+t*c+"px;margin-top: "+t*l+"px;margin-bottom: "+t*f+"px;border-top-width: "+t*h+"px;border-bottom-width: "+t*p+"px;"}}}function Lu(t,e){var n,r,o,i,a,u,s,c,l,f=e.help&&Du(t,e);function h(){t.set({value:i.checked,indeterminate:i.indeterminate})}var p=e.disabled&&e.disabledMessage&&Pu(t,e);return{c:function(){f&&f.c(),n=k("\n"),r=A("div"),o=A("label"),i=A("input"),a=A("span"),u=k("\n        "),s=k(e.label),l=k("\n    "),p&&p.c(),C(i,"change",h),"value"in e&&"indeterminate"in e||t.root._beforecreate.push(h),R(i,"type","checkbox"),i.disabled=e.disabled,i.className="svelte-1rmafvf",a.className="css-ui svelte-1rmafvf",o.className=c="checkbox "+(e.disabled?"disabled":"")+" "+(e.faded?"faded":"")+" svelte-1rmafvf",r.className="control-group vis-option-group vis-option-type-checkbox svelte-1rmafvf",D(r,"is-compact",e.compact)},m:function(t,c){f&&f.m(t,c),x(t,n,c),x(t,r,c),_(r,o),_(o,i),i.checked=e.value,i.indeterminate=e.indeterminate,_(o,a),_(o,u),_(o,s),_(r,l),p&&p.i(r,null)},p:function(e,a){a.help?f?f.p(e,a):((f=Du(t,a)).c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),e.value&&(i.checked=a.value),e.indeterminate&&(i.indeterminate=a.indeterminate),e.disabled&&(i.disabled=a.disabled),e.label&&j(s,a.label),(e.disabled||e.faded)&&c!==(c="checkbox "+(a.disabled?"disabled":"")+" "+(a.faded?"faded":"")+" svelte-1rmafvf")&&(o.className=c),a.disabled&&a.disabledMessage?(p?p.p(e,a):(p=Pu(t,a))&&p.c(),p.i(r,null)):p&&(B.current={remaining:0,callbacks:[]},p.o((function(){p.d(1),p=null}))),e.compact&&D(r,"is-compact",a.compact)},d:function(t){f&&f.d(t),t&&(N(n),N(r)),T(i,"change",h),p&&p.d()}}}function Du(t,e){var n,r=new iu({root:t.root,store:t.store,slots:{default:M()}});return{c:function(){n=A("div"),r._fragment.c()},m:function(t,o){_(r._slotted.default,n),n.innerHTML=e.help,r._mount(t,o)},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){r.destroy(t)}}}function Pu(t,e){var n,r,o,i;return{c:function(){n=A("div"),(r=A("div")).className="disabled-msg svelte-1rmafvf"},m:function(t,o){x(t,n,o),_(n,r),r.innerHTML=e.disabledMessage,i=!0},p:function(t,e){i&&!t.disabledMessage||(r.innerHTML=e.disabledMessage)},i:function(e,r){i||(t.root._intro&&(o&&o.invalidate(),t.root._aftercreate.push((function(){o||(o=H(t,n,Fu,{},!0)),o.run(1)}))),this.m(e,r))},o:function(e){i&&(o||(o=H(t,n,Fu,{},!1)),o.run(0,(function(){e(),o=null})),i=!1)},d:function(t){t&&(N(n),o&&o.abort())}}}function Hu(t){G(this,t),this._state=y({value:!1,disabled:!1,faded:!1,compact:!1,indeterminate:!1,disabledMessage:"",help:!1},t.data),this._intro=!0,this._fragment=Lu(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),q(this))}y(ju.prototype,Z),y(ju.prototype,Nu),ju.prototype._recompute=function(t,e){(t.column||t.name)&&this._differs(e.title,e.title=function(t){t.column;var e=t.name;return Xi("describe / edit-column").replace("%s",'"'.concat(e,'"'))}(e))&&(t.title=!0),t.$dw_chart&&this._differs(e.computedColumns,e.computedColumns=tu(e.$dw_chart))&&(t.computedColumns=!0),(t.columns||t.column||t.computedColumns)&&this._differs(e.metaColumns,e.metaColumns=function(t){var e=t.columns,n=t.column;t.computedColumns;var r=[];if(!e)return r;var o,i=Qa(n.origName()),a=wu(e);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(u.name()!==n.name()){var s=Qa(u.isComputed?u.origName():u.name());s&&s!==i&&r.push({key:s,title:u.title(),type:u.isComputed?"computed":u.type()})}}}catch(t){a.e(t)}finally{a.f()}return r}(e))&&(t.metaColumns=!0),t.metaColumns&&(this._differs(e.keywords,e.keywords=function(t){var e=t.metaColumns,n=[];return e.forEach((function(t){"number"===t.type||"computed"===t.type?(n.push(t.key+"__sum"),n.push(t.key+"__min"),n.push(t.key+"__max"),n.push(t.key+"__mean"),n.push(t.key+"__median")):"date"===t.type&&(n.push(t.key+"__min"),n.push(t.key+"__max")),n.push(t.key)})),n.sort((function(t,e){return e.length-t.length}))}(e))&&(t.keywords=!0),this._differs(e.context,e.context=function(t){var e=t.metaColumns,n={ROWNUMBER:1},r=["sum","round","min","max","median","mean"];return e.forEach((function(t){n[t.key]="number"===t.type?42:"text"===t.type?"answer":new Date,"number"!==t.type&&"computed"!==t.type||r.forEach((function(e){n["".concat(t.key,"__").concat(e)]=42}))})),n}(e))&&(t.context=!0)),(t.formula||t.context)&&this._differs(e.error,e.error=function(t){var e=t.formula,n=t.context;try{return""!==e.trim()&&Xa.evaluate(e,n),null}catch(t){return t.message}}(e))&&(t.error=!0),(t.formula||t.error)&&this._differs(e.looksLikeColumnData,e.looksLikeColumnData=function(t){var e=t.formula,n=t.error;return!!(e.split("\n").length>4&&!e.includes("(")&&n)}(e))&&(t.looksLikeColumnData=!0),(t.error||t.parserErrors)&&this._differs(e.errDisplay,e.errDisplay=function(t){var e=t.error,n=t.parserErrors;return n.length?Object.entries(qi(n,(function(t){return t.message}))).map((function(t){var e=Q(t,2),n=e[0],r=e[1];return n+("all"!==r[0].row?" (rows ".concat(function(t){for(var e=0,n=[],r=1;r<t.length;r++)t[r]-t[e]>r-e&&(n.push(r>e+1?"".concat(t[e],"-").concat(t[r-1]):t[e]),e=r);return n.push(t.length>e+1?"".concat(t[e],"-").concat(t[t.length-1]):t[e]),n.join(", ")}(r.map((function(t){return t.row+2}))),")"):"")})).join("<br />"):e||!1}(e))&&(t.errDisplay=!0),t.errDisplay&&this._differs(e.errNiceDisplay,e.errNiceDisplay=function(t){var e=t.errDisplay;return e?e.replace("unexpected TOP",Xi("cc / formula / error / unexpected top")).replace(": Expected EOF","").replace("unexpected TPAREN",Xi("cc / formula / error / unexpected tparen")).replace("unexpected TBRACKET",Xi("cc / formula / error / unexpected tparen")).replace("unexpected TEOF: EOF",Xi("cc / formula / error / unexpected teof")).replace("unexpected TCOMMA",Xi("cc / formula / error / unexpected tcomma")).replace("unexpected TSEMICOLON",Xi("cc / formula / error / unexpected tsemicolon")).replace("undefined variable",Xi("cc / formula / error / undefined variable")).replace("parse error",Xi("cc / formula / error / parser error")).replace("Unknown character",Xi("cc / formula / error / unknown-character")).replace("unexpected",Xi("cc / formula / error / unexpected")).replace("member access is not permitted",Xi("cc / formula / error / member-access")):e}(e))&&(t.errNiceDisplay=!0),(t.errDisplay||t.formula)&&this._differs(e.formulaHint,e.formulaHint=function(t){var e=t.errDisplay,n=t.formula;if("="===n.trim().charAt(0))return Xi("cc / formula / hint / equal-sign");if(!e||"string"!=typeof e)return"";for(var r=e.split("<br />"),o=0;o<r.length;o++)if(r[o].startsWith("undefined variable:")){var i=r[o].split(": ")[1].split("(row")[0].trim();if(Xa.keywords.includes(i.toUpperCase())&&!Xa.keywords.includes(i))return"".concat(Xi("cc / formula / hint / use")," <tt>").concat(i.toUpperCase(),"</tt> ").concat(Xi("cc / formula / hint / instead-of")," <tt>").concat(i,"</tt>");if("row"===i)return"".concat(Xi("cc / formula / hint / use")," <tt>ROWNUMBER</tt> ").concat(Xi("cc / formula / hint / instead-of")," <tt>row</tt>")}var a=(n||"").match(/Math\.([a-zA-Z0-9]+)/);if(a&&Xa.keywords.includes(a[1].toUpperCase()))return"".concat(Xi("cc / formula / hint / use")," <tt>").concat(a[1].toUpperCase(),"</tt> ").concat(Xi("cc / formula / hint / instead-of")," <tt>").concat(a[0],"</tt>");for(var u=[{s:"substr",h:"SUBSTR(x, start, length)"},{s:"substring",h:"SUBSTR(x, start, length)"},{s:"replace",h:"REPLACE(x, old, new)"},{s:"indexOf",h:"INDEXOF(x, search)"},{s:"toFixed",h:"ROUND(x, decimals)"},{s:"length",h:"LENGTH(x)"},{s:"trim",h:"TRIM(x)"},{s:"split",h:"SPLIT(x, sep)"},{s:"join",h:"JOIN(x, sep)"},{s:"getFullYear",h:"YEAR(x)"},{s:"getMonth",h:"MONTH(x)"},{s:"getDate",h:"DAY(x)"},{s:"includes",h:"y in x"}],s=0;s<u.length;s++){var c=u[s],l=c.s,f=c.h,h=new RegExp("([a-z0-9_]+)\\."+l+"\\("),p=n.match(h);if(p)return"".concat(Xi("cc / formula / hint / use")," <tt>").concat(f.replace("%x",p[1]),"</tt> ").concat(Xi("cc / formula / hint / instead-of"),"<tt>x.").concat(l,"()</tt>")}return e.includes('"&"')&&n.includes("&&")?"".concat(Xi("cc / formula / hint / use")," <tt>x and y</tt> ").concat(Xi("cc / formula / hint / instead-of")," <tt>x && y</tt>"):e.includes("is not a function")&&n.includes("||")?"".concat(Xi("cc / formula / hint / use")," <tt>x or y</tt> ").concat(Xi("cc / formula / hint / instead-of")," <tt>x || y</tt>"):""}(e))&&(t.formulaHint=!0)},y(Hu.prototype,Z);var Bu="100px";function Uu(t,e){var n,r={class:e.helpClass},o=new iu({root:t.root,store:t.store,slots:{default:M()},data:r});return{c:function(){n=A("div"),o._fragment.c()},m:function(t,r){_(o._slotted.default,n),n.innerHTML=e.help,o._mount(t,r)},p:function(t,e){t.help&&(n.innerHTML=e.help);var r={};t.helpClass&&(r.class=e.helpClass),o._set(r)},d:function(t){o.destroy(t)}}}function $u(t,e){var n,r,o,i=e.labelHelp&&zu(t,e);return{c:function(){n=A("label"),r=A("noscript"),o=k(" "),i&&i.c(),I(n,"width",e.labelWidth||Bu),n.className="control-label svelte-1ykzs2h",D(n,"disabled",e.disabled)},m:function(t,a){x(t,n,a),_(n,r),r.insertAdjacentHTML("beforebegin",e.label),_(n,o),i&&i.m(n,null)},p:function(e,o){e.label&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(r),r.insertAdjacentHTML("beforebegin",o.label)),o.labelHelp?i?i.p(e,o):((i=zu(t,o)).c(),i.m(n,null)):i&&(i.d(1),i=null),e.labelWidth&&I(n,"width",o.labelWidth||Bu),e.disabled&&D(n,"disabled",o.disabled)},d:function(t){t&&N(n),i&&i.d()}}}function zu(t,e){var n;return{c:function(){(n=A("p")).className="mini-help mt-1"},m:function(t,r){x(t,n,r),n.innerHTML=e.labelHelp},p:function(t,e){t.labelHelp&&(n.innerHTML=e.labelHelp)},d:function(t){t&&N(n)}}}function Vu(t,e){var n,r;return{c:function(){I(n=A("p"),"padding-left",e.inline?0:e.labelWidth||Bu),n.className=r="mt-1 mini-help "+e.type+" svelte-1ykzs2h",D(n,"mini-help-block",!e.inline)},m:function(t,r){x(t,n,r),n.innerHTML=e.miniHelp},p:function(t,e){t.miniHelp&&(n.innerHTML=e.miniHelp),(t.inline||t.labelWidth)&&I(n,"padding-left",e.inline?0:e.labelWidth||Bu),t.type&&r!==(r="mt-1 mini-help "+e.type+" svelte-1ykzs2h")&&(n.className=r),(t.type||t.inline)&&D(n,"mini-help-block",!e.inline)},d:function(t){t&&N(n)}}}function Wu(t){var e,n,r,o,i,a,u,s,c,l,f,h;G(this,t),this._state=y({disabled:!1,help:!1,helpClass:!1,miniHelp:!1,label:!1,labelHelp:!1,inline:!1,labelWidth:!1,type:"default",valign:"baseline"},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,c=e._slotted.default,l=n.help&&Uu(e,n),f=n.label&&$u(e,n),h=n.miniHelp&&Vu(0,n),{c:function(){l&&l.c(),r=k("\n\n"),o=A("div"),f&&f.c(),i=k("\n    "),a=A("div"),u=k("\n    "),h&&h.c(),a.className="controls svelte-1ykzs2h",I(a,"width","calc(100% - "+(n.labelWidth||Bu)+" - 32px)"),D(a,"form-inline",n.inline),o.className=s="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h"},m:function(t,e){l&&l.m(t,e),x(t,r,e),x(t,o,e),f&&f.m(o,null),_(o,i),_(o,a),c&&_(a,c),_(o,u),h&&h.m(o,null)},p:function(t,n){n.help?l?l.p(t,n):((l=Uu(e,n)).c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null),n.label?f?f.p(t,n):((f=$u(e,n)).c(),f.m(o,i)):f&&(f.d(1),f=null),t.labelWidth&&I(a,"width","calc(100% - "+(n.labelWidth||Bu)+" - 32px)"),t.inline&&D(a,"form-inline",n.inline),n.miniHelp?h?h.p(t,n):((h=Vu(0,n)).c(),h.m(o,null)):h&&(h.d(1),h=null),(t.type||t.valign)&&s!==(s="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h")&&(o.className=s)},d:function(t){l&&l.d(t),t&&(N(r),N(o)),f&&f.d(),c&&function(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}(a,c),h&&h.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),q(this))}function qu(t,e,n){var r=Object.create(t);return r.opt=e[n],r}function Yu(t,e,n){var r=Object.create(t);return r.optgroup=e[n],r}function Gu(t,e,n){var r=Object.create(t);return r.opt=e[n],r}function Ku(t,e){for(var n,r=e.options,o=[],i=0;i<r.length;i+=1)o[i]=Xu(t,Gu(e,r,i));return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();n=S()},m:function(t,e){for(var r=0;r<o.length;r+=1)o[r].m(t,e);x(t,n,e)},p:function(e,i){if(e.options||e.value){r=i.options;for(var a=0;a<r.length;a+=1){var u=Gu(i,r,a);o[a]?o[a].p(e,u):(o[a]=Xu(t,u),o[a].c(),o[a].m(n.parentNode,n))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},d:function(t){E(o,t),t&&N(n)}}}function Xu(t,e){var n,r,o,i,a=e.opt.label;return{c:function(){n=A("option"),r=k(a),n.__value=o=e.opt.value,n.value=n.__value,n.selected=i=e.opt.value===e.value},m:function(t,e){x(t,n,e),_(n,r)},p:function(t,e){t.options&&a!==(a=e.opt.label)&&j(r,a),t.options&&o!==(o=e.opt.value)&&(n.__value=o),n.value=n.__value,(t.options||t.value)&&i!==(i=e.opt.value===e.value)&&(n.selected=i)},d:function(t){t&&N(n)}}}function Ju(t,e){for(var n,r=e.optgroups,o=[],i=0;i<r.length;i+=1)o[i]=Qu(t,Yu(e,r,i));return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();n=S()},m:function(t,e){for(var r=0;r<o.length;r+=1)o[r].m(t,e);x(t,n,e)},p:function(e,i){if(e.optgroups||e.value){r=i.optgroups;for(var a=0;a<r.length;a+=1){var u=Yu(i,r,a);o[a]?o[a].p(e,u):(o[a]=Qu(t,u),o[a].c(),o[a].m(n.parentNode,n))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},d:function(t){E(o,t),t&&N(n)}}}function Zu(t,e){var n,r,o,i,a=e.opt.label;return{c:function(){n=A("option"),r=k(a),n.__value=o=e.opt.value,n.value=n.__value,n.selected=i=e.opt.value===e.value},m:function(t,e){x(t,n,e),_(n,r)},p:function(t,e){t.optgroups&&a!==(a=e.opt.label)&&j(r,a),t.optgroups&&o!==(o=e.opt.value)&&(n.__value=o),n.value=n.__value,(t.optgroups||t.value)&&i!==(i=e.opt.value===e.value)&&(n.selected=i)},d:function(t){t&&N(n)}}}function Qu(t,e){for(var n,r,o=e.optgroup.options,i=[],a=0;a<o.length;a+=1)i[a]=Zu(0,qu(e,o,a));return{c:function(){n=A("optgroup");for(var t=0;t<i.length;t+=1)i[t].c();R(n,"label",r=e.optgroup.label)},m:function(t,e){x(t,n,e);for(var r=0;r<i.length;r+=1)i[r].m(n,null)},p:function(t,e){if(t.optgroups||t.value){o=e.optgroup.options;for(var a=0;a<o.length;a+=1){var u=qu(e,o,a);i[a]?i[a].p(t,u):(i[a]=Zu(0,u),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=o.length}t.optgroups&&r!==(r=e.optgroup.label)&&R(n,"label",r)},d:function(t){t&&N(n),E(i,t)}}}function ts(t){G(this,t),this._state=y({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[],value:null,class:""},t.data),this._intro=!0,this._fragment=function(t,e){var n,r,o,i=!1,a=e.options.length&&Ku(t,e),u=e.optgroups.length&&Ju(t,e);function s(){i=!0,t.set({value:L(n)}),i=!1}function c(e){t.fire("change",e)}return{c:function(){n=A("select"),a&&a.c(),r=S(),u&&u.c(),C(n,"change",s),"value"in e||t.root._beforecreate.push(s),C(n,"change",c),n.className=o="select-css "+e.class+" svelte-v0oq4b",n.disabled=e.disabled,I(n,"width",e.width)},m:function(t,o){x(t,n,o),a&&a.m(n,null),_(n,r),u&&u.m(n,null),F(n,e.value)},p:function(e,s){s.options.length?a?a.p(e,s):((a=Ku(t,s)).c(),a.m(n,r)):a&&(a.d(1),a=null),s.optgroups.length?u?u.p(e,s):((u=Ju(t,s)).c(),u.m(n,null)):u&&(u.d(1),u=null),!i&&e.value&&F(n,s.value),e.class&&o!==(o="select-css "+s.class+" svelte-v0oq4b")&&(n.className=o),e.disabled&&(n.disabled=s.disabled),e.width&&I(n,"width",s.width)},d:function(t){t&&N(n),a&&a.d(),u&&u.d(),T(n,"change",s),T(n,"change",c)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),q(this))}function es(t){G(this,t),this._state=y({disabled:!1,width:null,labelWidth:null,options:[],optgroups:[],valign:"middle",inline:!1,help:null,miniHelp:null},t.data),this._recompute({inline:1,width:1,labelWidth:1},this._state),this._intro=!0,this._fragment=function(t,e){var n={},r={width:e.controlWidth,class:"mt-1"};void 0!==e.value&&(r.value=e.value,n.value=!0),void 0!==e.disabled&&(r.disabled=e.disabled,n.disabled=!0),void 0!==e.options&&(r.options=e.options,n.options=!0),void 0!==e.optgroups&&(r.optgroups=e.optgroups,n.optgroups=!0);var o=new ts({root:t.root,store:t.store,data:r,_bind:function(e,r){var o={};!n.value&&e.value&&(o.value=r.value),!n.disabled&&e.disabled&&(o.disabled=r.disabled),!n.options&&e.options&&(o.options=r.options),!n.optgroups&&e.optgroups&&(o.optgroups=r.optgroups),t._set(o),n={}}});t.root._beforecreate.push((function(){o._bind({value:1,disabled:1,options:1,optgroups:1},o.get())})),o.on("change",(function(e){t.fire("change",e)}));var i={type:"select",label:e.label,labelWidth:e.labelWidth,valign:e.valign,disabled:e.disabled,inline:e.inline,miniHelp:e.miniHelp,help:e.help,helpClass:"mt-1"},a=new Wu({root:t.root,store:t.store,slots:{default:M()},data:i});return{c:function(){o._fragment.c(),a._fragment.c()},m:function(t,e){o._mount(a._slotted.default,null),a._mount(t,e)},p:function(t,r){e=r;var i={};t.controlWidth&&(i.width=e.controlWidth),!n.value&&t.value&&(i.value=e.value,n.value=void 0!==e.value),!n.disabled&&t.disabled&&(i.disabled=e.disabled,n.disabled=void 0!==e.disabled),!n.options&&t.options&&(i.options=e.options,n.options=void 0!==e.options),!n.optgroups&&t.optgroups&&(i.optgroups=e.optgroups,n.optgroups=void 0!==e.optgroups),o._set(i),n={};var u={};t.label&&(u.label=e.label),t.labelWidth&&(u.labelWidth=e.labelWidth),t.valign&&(u.valign=e.valign),t.disabled&&(u.disabled=e.disabled),t.inline&&(u.inline=e.inline),t.miniHelp&&(u.miniHelp=e.miniHelp),t.help&&(u.help=e.help),a._set(u)},d:function(t){o.destroy(),a.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),q(this))}y(Wu.prototype,Z),y(ts.prototype,Z),y(es.prototype,Z),es.prototype._recompute=function(t,e){var n,r,o;(t.inline||t.width)&&this._differs(e.controlWidth,e.controlWidth=(r=(n=e).inline,o=n.width,r?o||"auto":o))&&(t.controlWidth=!0),(t.inline||t.labelWidth)&&this._differs(e.labelWidth,e.labelWidth=function(t){var e=t.inline,n=t.labelWidth;return e?n||"auto":n}(e))&&(t.labelWidth=!0)};var ns=Ut,rs=et;var os=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return rs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ns(t,e,{leading:r,maxWait:e,trailing:o})};function is(t){if(Array.isArray(t)){var e={};return Object.keys(t).forEach((function(n){return e[n]=t[n]})),e}return t}var as={autoDivisor:function(){var t=this.store.get().dw_chart,e=this.get().column,n=dw.utils.metricSuffix(t.locale()),r=e.values(),o=dw.utils.significantDimension(r),i=o<-2?3*Math.round(-1*o/3):o>4?-1*o:0,a=r.map((function(t){return t/Math.pow(10,i)})),u=dw.utils.significantDimension(a);u<=0&&(u=a.reduce((function(t,e){return Math.max(t,Math.min(3,dw.utils.tailLength(e)))}),0)),u===i&&(i=0,u=0),i>15&&(i=0,u=0),this.set({columnFormat:{"number-divisor":i,"number-format":"n"+Math.max(0,u),"number-prepend":"","number-append":i?n[i]||" × 10<sup>"+i+"</sup>":""}})},getColumnFormat:function(t){var e=Yi(is(this.store.get().dw_chart.get("metadata.data.column-format",{}))[t.name()]);return e&&"auto"!==e&&void 0===e.length||(e={type:"auto",ignore:!1,"number-divisor":0,"number-prepend":"","number-append":"","number-format":"auto"}),e}};function us(){var t=this,e=os((function(){t.fire("updateTable")}),100,{leading:!1}),n=os((function(){t.fire("updateTable")}),100,{leading:!1}),r=this.get().column;this.set({colTypes:[{value:"auto",label:"auto ("+r.type()+")"},{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"date",label:"Date"}]}),this.set({columnFormat:this.getColumnFormat(r)}),this.on("state",(function(o){var i=o.changed,a=o.current;if(i.column){var u=a.column;t.set({columnFormat:t.getColumnFormat(u)}),t.get().colTypes[0].label="auto ("+r.type()+")"}if(i.columnFormat){var s=a.columnFormat,c=t.store.get().dw_chart,l=a.column,f=is(Yi(c.get("metadata.data.column-format",{}))),h=f[l.name()];if(!h||JSON.stringify(h)!==JSON.stringify(s)){if("auto"===s["number-divisor"])return void setTimeout((function(){return t.autoDivisor()}),100);f[l.name()]=Yi(s),c.set("metadata.data.column-format",f),c.saveSoon&&c.saveSoon(),h&&h.type===s.type?n():e()}}}))}function ss(t,e){var n,r,o,i,a,u,s,c,l,f,h={},p={},d=Xi("Prepend/Append"),m=!1,v=!1,g={label:Xi("Round numbers to"),options:e.roundOptions,optgroups:e.numberFormats,width:"180px"};void 0!==e.columnFormat["number-format"]&&(g.value=e.columnFormat["number-format"],h.value=!0);var y=new es({root:t.root,store:t.store,data:g,_bind:function(n,r){var o={};!h.value&&n.value&&(e.columnFormat["number-format"]=r.value,o.columnFormat=e.columnFormat),t._set(o),h={}}});t.root._beforecreate.push((function(){y._bind({value:1},y.get())}));var b={label:Xi("Divide numbers by"),options:e.divisors_opts,optgroups:e.divisors,width:"180px"};void 0!==e.columnFormat["number-divisor"]&&(b.value=e.columnFormat["number-divisor"],p.value=!0);var w=new es({root:t.root,store:t.store,data:b,_bind:function(n,r){var o={};!p.value&&n.value&&(e.columnFormat["number-divisor"]=r.value,o.columnFormat=e.columnFormat),t._set(o),p={}}});function E(){m=!0,e.columnFormat["number-prepend"]=c.value,t.set({columnFormat:e.columnFormat}),m=!1}function M(){v=!0,e.columnFormat["number-append"]=f.value,t.set({columnFormat:e.columnFormat}),v=!1}return t.root._beforecreate.push((function(){w._bind({value:1},w.get())})),{c:function(){y._fragment.c(),n=k("\n\n        "),w._fragment.c(),r=k("\n\n        "),o=A("div"),i=A("label"),a=k(d),u=k("\n            "),s=A("div"),c=A("input"),l=k("\n                #\n                "),f=A("input"),i.className="control-label svelte-1qp115j",C(c,"input",E),c.autocomplete="screw-you-google-chrome",I(c,"width","6ex"),I(c,"text-align","right"),c.dataset.lpignore="true",c.name="prepend",R(c,"type","text"),C(f,"input",M),f.autocomplete="screw-you-google-chrome",I(f,"width","6ex"),f.dataset.lpignore="true",f.name="append",R(f,"type","text"),s.className="controls form-inline svelte-1qp115j",o.className="control-group vis-option-type-select"},m:function(t,h){y._mount(t,h),x(t,n,h),w._mount(t,h),x(t,r,h),x(t,o,h),_(o,i),_(i,a),_(o,u),_(o,s),_(s,c),c.value=e.columnFormat["number-prepend"],_(s,l),_(s,f),f.value=e.columnFormat["number-append"]},p:function(t,n){e=n;var r={};t.roundOptions&&(r.options=e.roundOptions),t.numberFormats&&(r.optgroups=e.numberFormats),!h.value&&t.columnFormat&&(r.value=e.columnFormat["number-format"],h.value=void 0!==e.columnFormat["number-format"]),y._set(r),h={};var o={};t.divisors_opts&&(o.options=e.divisors_opts),t.divisors&&(o.optgroups=e.divisors),!p.value&&t.columnFormat&&(o.value=e.columnFormat["number-divisor"],p.value=void 0!==e.columnFormat["number-divisor"]),w._set(o),p={},!m&&t.columnFormat&&(c.value=e.columnFormat["number-prepend"]),!v&&t.columnFormat&&(f.value=e.columnFormat["number-append"])},d:function(t){y.destroy(t),t&&N(n),w.destroy(t),t&&(N(r),N(o)),T(c,"input",E),T(f,"input",M)}}}function cs(t){var e=this;G(this,t),this._state=y({columnFormat:{type:"auto",ignore:!1,"number-divisor":0,"number-format":"auto","number-prepend":"","number-append":""},colTypes:[],divisors_opts:[{value:0,label:Xi("describe / column-format / no-change")},{value:"auto",label:Xi("describe / column-format / automatic")}],divisors:[{label:Xi("describe / column-format / divide-by"),options:[{value:3,label:"1000"},{value:6,label:Xi("describe / column-format / million")},{value:9,label:Xi("describe / column-format / billion")}]},{label:Xi("describe / column-format / multiply-by"),options:[{value:-2,label:"100"},{value:-3,label:"1000"},{value:-6,label:Xi("describe / column-format / million")},{value:-9,label:Xi("describe / column-format / billion")},{value:-12,label:Xi("describe / column-format / trillion")}]}],numberFormats:[{label:Xi("Decimal places"),options:[{value:"n3",label:"3 (1,234.568)"},{value:"n2",label:"2 (1,234.57)"},{value:"n1",label:"1 (1,234.6)"},{value:"n0",label:"0 (1,235)"}]},{label:Xi("Significant digits"),options:[{value:"s6",label:"6 (1,234.57)"},{value:"s5",label:"5 (123.45)"},{value:"s4",label:"4 (12.34)"},{value:"s3",label:"3 (1.23)"},{value:"s2",label:"2 (0.12)"},{value:"s1",label:"1 (0.01)"}]}],roundOptions:[{value:"-",label:Xi("describe / column-format / individual")},{value:"auto",label:Xi("describe / column-format / auto-detect")}]},t.data),this._recompute({column:1},this._state),this._intro=!0,this._fragment=function(t,e){var n,r,o,i,a,u,s,c,l,f={},h={},p={label:Xi("Column type"),options:e.colTypes,width:"180px"};void 0!==e.columnFormat.type&&(p.value=e.columnFormat.type,f.value=!0);var d=new es({root:t.root,store:t.store,data:p,_bind:function(n,r){var o={};!f.value&&n.value&&(e.columnFormat.type=r.value,o.columnFormat=e.columnFormat),t._set(o),f={}}});t.root._beforecreate.push((function(){d._bind({value:1},d.get())}));var m={label:Xi("Hide column from visualization")};void 0!==e.columnFormat.ignore&&(m.value=e.columnFormat.ignore,h.value=!0);var v=new Hu({root:t.root,store:t.store,data:m,_bind:function(n,r){var o={};!h.value&&n.value&&(e.columnFormat.ignore=r.value,o.columnFormat=e.columnFormat),t._set(o),h={}}});t.root._beforecreate.push((function(){v._bind({value:1},v.get())}));var g=e.column&&"number"==e.column.type()&&ss(t,e);return{c:function(){n=A("div"),r=A("h3"),o=k(e.title),i=k("\n\n    "),a=A("div"),d._fragment.c(),u=k("\n\n        "),v._fragment.c(),s=k("\n\n        "),c=A("hr"),l=k("\n\n        "),g&&g.c(),r.className="first",a.className="form-horizontal"},m:function(t,e){x(t,n,e),_(n,r),_(r,o),_(n,i),_(n,a),d._mount(a,null),_(a,u),v._mount(a,null),_(a,s),_(a,c),_(a,l),g&&g.m(a,null)},p:function(n,r){e=r,n.title&&j(o,e.title);var i={};n.colTypes&&(i.options=e.colTypes),!f.value&&n.columnFormat&&(i.value=e.columnFormat.type,f.value=void 0!==e.columnFormat.type),d._set(i),f={};var u={};!h.value&&n.columnFormat&&(u.value=e.columnFormat.ignore,h.value=void 0!==e.columnFormat.ignore),v._set(u),h={},e.column&&"number"==e.column.type()?g?g.p(n,e):((g=ss(t,e)).c(),g.m(a,null)):g&&(g.d(1),g=null)},d:function(t){t&&N(n),d.destroy(),v.destroy(),g&&g.d()}}}(this,this._state),this.root._oncreate.push((function(){us.call(e),e.fire("update",{changed:b({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),q(this))}y(cs.prototype,Z),y(cs.prototype,as),cs.prototype._recompute=function(t,e){var n;t.column&&this._differs(e.title,e.title=(n=e.column,Xi("describe / edit-column").replace("%s",'"'.concat(n?n.title()||n.name():"--",'"'))))&&(t.title=!0)};var ls=Math.ceil,fs=Math.max;var hs=vn,ps=on,ds=ke,ms=et;var vs=Ft;var gs=function(t,e,n,r){for(var o=-1,i=fs(ls((e-t)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=t,t+=n;return a},ys=function(t,e,n){if(!ms(n))return!1;var r=h(e);return!!("number"==r?ps(n)&&ds(e,n.length):"string"==r&&e in n)&&hs(n[e],t)},bs=function(t){return t?(t=vs(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var ws=function(t){return function(e,n,r){return r&&"number"!=typeof r&&ys(e,n,r)&&(n=r=void 0),e=bs(e),void 0===n?(n=e,e=0):n=bs(n),r=void 0===r?e<n?1:-1:bs(r),gs(e,n,r,t)}}(),_s=he,xs=$i,Ns=Object.prototype.hasOwnProperty,Es=xs((function(t,e,n){Ns.call(t,n)?++t[n]:_s(t,n,1)}));function Ms(t){return(+t).toFixed(function(t){return Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)}(t))}function As(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Os(t){var e=t,n=t;function r(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;n(t[i],e)<0?r=i+1:o=i}return r}return 1===t.length&&(e=function(e,n){return t(e)-n},n=function(t){return function(e,n){return As(t(e),n)}}(t)),{left:r,center:function(t,n,o,i){null==o&&(o=0),null==i&&(i=t.length);var a=r(t,n,o,i-1);return a>o&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;n(t[i],e)>0?o=i:r=i+1}return r}}}var ks={exports:{}};!function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function p(){}function d(){}var m={};m[o]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(M([])));g&&g!==e&&n.call(g,o)&&(m=g);var y=d.prototype=f.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"===h(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function M(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=y.constructor=d,d.constructor=p,p.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),w.prototype[i]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),u(y,a,"Generator"),y[o]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(ks);var Ss=ks.exports,Cs=Ss.mark(js);function Ts(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Rs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Rs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function js(t,e){var n,r,o,i,a,u,s;return Ss.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==e){c.next=21;break}n=Ts(t),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(o=r.value)&&(o=+o)>=o)){c.next=9;break}return c.next=9,o;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=40;break;case 21:i=-1,a=Ts(t),c.prev=23,a.s();case 25:if((u=a.n()).done){c.next=32;break}if(s=u.value,!(null!=(s=e(s,++i,t))&&(s=+s)>=s)){c.next=30;break}return c.next=30,s;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),a.e(c.t1);case 37:return c.prev=37,a.f(),c.finish(37);case 40:case"end":return c.stop()}}),Cs,null,[[2,13,16,19],[23,34,37,40]])}var Is=Os(As).right;Os((function(t){return null===t?NaN:+t})).center;var Fs=Is;function Ls(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ds(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ds(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ds(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ps(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Hs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Hs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bs(t,e){var n,r;if(void 0===e){var o,i=Ps(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;null!=a&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}}catch(t){i.e(t)}finally{i.f()}}else{var u,s=-1,c=Ps(t);try{for(c.s();!(u=c.n()).done;){var l=u.value;null!=(l=e(l,++s,t))&&(void 0===n?l>=l&&(n=r=l):(n>l&&(n=l),r<l&&(r=l)))}}catch(t){c.e(t)}finally{c.f()}}return[n,r]}function Us(t){return t}var $s=Array.prototype.slice;function zs(t){return function(){return t}}var Vs=Math.sqrt(50),Ws=Math.sqrt(10),qs=Math.sqrt(2);function Ys(t,e,n){var r,o,i,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=Gs(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(o=Math.ceil(e-t+1));++u<o;)i[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),i=new Array(o=Math.ceil(e-t+1));++u<o;)i[u]=(t+u)/a;return r&&i.reverse(),i}function Gs(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Vs?10:i>=Ws?5:i>=qs?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Vs?10:i>=Ws?5:i>=qs?2:1)}function Ks(t){return Math.ceil(Math.log(function(t,e){var n=0;if(void 0===e){var r,o=Ls(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;null!=i&&(i=+i)>=i&&++n}}catch(t){o.e(t)}finally{o.f()}}else{var a,u=-1,s=Ls(t);try{for(s.s();!(a=s.n()).done;){var c=a.value;null!=(c=e(c,++u,t))&&(c=+c)>=c&&++n}}catch(t){s.e(t)}finally{s.f()}}return n}(t))/Math.LN2)+1}function Xs(){var t=Us,e=Bs,n=Ks;function r(r){Array.isArray(r)||(r=Array.from(r));var o,i,a=r.length,u=new Array(a);for(o=0;o<a;++o)u[o]=t(r[o],o,r);var s=e(u),c=s[0],l=s[1],f=n(u,c,l);if(!Array.isArray(f)){if(f=+f,e===Bs){var h=Q(function(t,e,n){for(var r;;){var o=Gs(t,e,n);if(o===r||0===o||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),r=o}}(c,l,f),2);c=h[0],l=h[1]}(f=Ys(c,l,f))[f.length-1]===l&&f.pop()}for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>l;)f.pop(),--p;var d,m=new Array(p+1);for(o=0;o<=p;++o)(d=m[o]=[]).x0=o>0?f[o-1]:c,d.x1=o<p?f[o]:l;for(o=0;o<a;++o)c<=(i=u[o])&&i<=l&&m[Fs(f,i,0,p)].push(r[o]);return m}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:zs(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:zs([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?zs($s.call(t)):zs(t),r):n},r}function Js(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Zs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Zs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qs(t,e){var n;if(void 0===e){var r,o=Js(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;null!=i&&(n<i||void 0===n&&i>=i)&&(n=i)}}catch(t){o.e(t)}finally{o.f()}}else{var a,u=-1,s=Js(t);try{for(s.s();!(a=s.n()).done;){var c=a.value;null!=(c=e(c,++u,t))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(t){s.e(t)}finally{s.f()}}return n}function tc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ec(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ec(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nc(t,e){var n;if(void 0===e){var r,o=tc(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;null!=i&&(n>i||void 0===n&&i>=i)&&(n=i)}}catch(t){o.e(t)}finally{o.f()}}else{var a,u=-1,s=tc(t);try{for(s.s();!(a=s.n()).done;){var c=a.value;null!=(c=e(c,++u,t))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(t){s.e(t)}finally{s.f()}}return n}function rc(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function oc(t,e,n){if(r=(t=Float64Array.from(js(t,n))).length){if((e=+e)<=0||r<2)return nc(t);if(e>=1)return Qs(t);var r,o=(r-1)*e,i=Math.floor(o),a=Qs(function t(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:As;o>r;){if(o-r>600){var a=o-r+1,u=n-r+1,s=Math.log(a),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(a-c)/a)*(u-a/2<0?-1:1),f=Math.max(r,Math.floor(n-u*c/a+l)),h=Math.min(o,Math.floor(n+(a-u)*c/a+l));t(e,n,f,h,i)}var p=e[n],d=r,m=o;for(rc(e,r,n),i(e[o],p)>0&&rc(e,r,o);d<m;){for(rc(e,d,m),++d,--m;i(e[d],p)<0;)++d;for(;i(e[m],p)>0;)--m}0===i(e[r],p)?rc(e,r,m):rc(e,++m,o),m<=n&&(r=m+1),n<=m&&(o=m-1)}return e}(t,i).subarray(0,i+1));return a+(nc(t.subarray(i+1))-a)*(o-i)}}function ic(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ac(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ac(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ac(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uc(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}function sc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function cc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function lc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fc=Symbol("implicit");function hc(){var t=new Map,e=[],n=[],r=fc;function o(o){var i=o+"",a=t.get(i);if(!a){if(r!==fc)return r;t.set(i,a=e.push(o))}return n[(a-1)%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;var r,i=cc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,u=a+"";t.has(u)||t.set(u,e.push(a))}}catch(t){i.e(t)}finally{i.f()}return o},o.range=function(t){return arguments.length?(n=Array.from(t),o):n.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return hc(e,n).unknown(r)},sc.apply(o,arguments),o}function pc(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dc(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mc(){}var vc="\\s*([+-]?\\d+)\\s*",gc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",yc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bc=/^#([0-9a-f]{3,8})$/,wc=new RegExp("^rgb\\("+[vc,vc,vc]+"\\)$"),_c=new RegExp("^rgb\\("+[yc,yc,yc]+"\\)$"),xc=new RegExp("^rgba\\("+[vc,vc,vc,gc]+"\\)$"),Nc=new RegExp("^rgba\\("+[yc,yc,yc,gc]+"\\)$"),Ec=new RegExp("^hsl\\("+[gc,yc,yc]+"\\)$"),Mc=new RegExp("^hsla\\("+[gc,yc,yc,gc]+"\\)$"),Ac={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Oc(){return this.rgb().formatHex()}function kc(){return this.rgb().formatRgb()}function Sc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Cc(e):3===n?new Ic(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Tc(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Tc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=wc.exec(t))?new Ic(e[1],e[2],e[3],1):(e=_c.exec(t))?new Ic(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=xc.exec(t))?Tc(e[1],e[2],e[3],e[4]):(e=Nc.exec(t))?Tc(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ec.exec(t))?Pc(e[1],e[2]/100,e[3]/100,1):(e=Mc.exec(t))?Pc(e[1],e[2]/100,e[3]/100,e[4]):Ac.hasOwnProperty(t)?Cc(Ac[t]):"transparent"===t?new Ic(NaN,NaN,NaN,0):null}function Cc(t){return new Ic(t>>16&255,t>>8&255,255&t,1)}function Tc(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ic(t,e,n,r)}function Rc(t){return t instanceof mc||(t=Sc(t)),t?new Ic((t=t.rgb()).r,t.g,t.b,t.opacity):new Ic}function jc(t,e,n,r){return 1===arguments.length?Rc(t):new Ic(t,e,n,null==r?1:r)}function Ic(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Fc(){return"#"+Dc(this.r)+Dc(this.g)+Dc(this.b)}function Lc(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Dc(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Pc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bc(t,e,n,r)}function Hc(t){if(t instanceof Bc)return new Bc(t.h,t.s,t.l,t.opacity);if(t instanceof mc||(t=Sc(t)),!t)return new Bc;if(t instanceof Bc)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,u=i-o,s=(i+o)/2;return u?(a=e===i?(n-r)/u+6*(n<r):n===i?(r-e)/u+2:(e-n)/u+4,u/=s<.5?i+o:2-i-o,a*=60):u=s>0&&s<1?0:a,new Bc(a,u,s,t.opacity)}function Bc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Uc(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}pc(mc,Sc,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Oc,formatHex:Oc,formatHsl:function(){return Hc(this).formatHsl()},formatRgb:kc,toString:kc}),pc(Ic,jc,dc(mc,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ic(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ic(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fc,formatHex:Fc,formatRgb:Lc,toString:Lc})),pc(Bc,(function(t,e,n,r){return 1===arguments.length?Hc(t):new Bc(t,e,n,null==r?1:r)}),dc(mc,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Bc(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Bc(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Ic(Uc(t>=240?t-240:t+120,o,r),Uc(t,o,r),Uc(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var $c=function(t){return function(){return t}};function zc(t){return 1==(t=+t)?Vc:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):$c(isNaN(e)?n:e)}}function Vc(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):$c(isNaN(t)?e:t)}var Wc=function t(e){var n=zc(e);function r(t,e){var r=n((t=jc(t)).r,(e=jc(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=Vc(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function qc(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function Yc(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=tl(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function Gc(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Kc(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Xc(t,e){var n,r={},o={};for(n in null!==t&&"object"===h(t)||(t={}),null!==e&&"object"===h(e)||(e={}),e)n in t?r[n]=tl(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var Jc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zc=new RegExp(Jc.source,"g");function Qc(t,e){var n,r,o,i=Jc.lastIndex=Zc.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=Jc.exec(t))&&(r=Zc.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Kc(n,r)})),i=Zc.lastIndex;return i<e.length&&(o=e.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function tl(t,e){var n,r,o=h(e);return null==e||"boolean"===o?$c(e):("number"===o?Kc:"string"===o?(n=Sc(e))?(e=n,Wc):Qc:e instanceof Sc?Wc:e instanceof Date?Gc:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Yc:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Xc:Kc:qc))(t,e)}function el(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nl(t){return+t}var rl=[0,1];function ol(t){return t}function il(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function al(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=il(o,r),i=n(a,i)):(r=il(r,o),i=n(i,a)),function(t){return i(r(t))}}function ul(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=il(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=Fs(t,e,1,r)-1;return i[n](o[n](e))}}function sl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function cl(){var t,e,n,r,o,i,a=rl,u=rl,s=tl,c=ol;function l(){var t,e,n,s=Math.min(a.length,u.length);return c!==ol&&(t=a[0],e=a[s-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?ul:al,o=i=null,f}function f(e){return isNaN(e=+e)?n:(o||(o=r(a.map(t),u,s)))(t(c(e)))}return f.invert=function(n){return c(e((i||(i=r(u,a.map(t),Kc)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,nl),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=el,l()},f.clamp=function(t){return arguments.length?(c=!!t||ol,l()):c!==ol},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function ll(){return cl()(ol,ol)}function fl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function hl(t){return(t=fl(Math.abs(t)))?t[1]:NaN}var pl,dl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ml(t){if(!(e=dl.exec(t)))throw new Error("invalid format: "+t);var e;return new vl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function vl(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function gl(t,e){var n=fl(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}ml.prototype=vl.prototype,vl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var yl={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return gl(100*t,e)},r:gl,s:function(t,e){var n=fl(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(pl=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+fl(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function bl(t){return t}var wl,_l,xl,Nl=Array.prototype.map,El=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ml(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?bl:(e=Nl.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,u=e[0],s=0;o>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),i.push(t.substring(o-=u,o+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?bl:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Nl.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=ml(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,m=t.comma,v=t.precision,g=t.trim,y=t.type;"n"===y?(m=!0,y="g"):yl[y]||(void 0===v&&(v=12),g=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===h?o:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?i:/[%p]/.test(y)?s:"",_=yl[y],x=/[defgprs%]/.test(y);function N(t){var o,i,s,h=b,N=w;if("c"===y)N=_(t)+N,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:_(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==f&&(E=!1),h=(E?"("===f?f:c:"-"===f||"("===f?"":f)+h,N=("s"===y?El[8+pl/3]:"")+N+(E&&"("===f?")":""),x)for(o=-1,i=t.length;++o<i;)if(48>(s=t.charCodeAt(o))||s>57){N=(46===s?a+t.slice(o+1):t.slice(o))+N,t=t.slice(0,o);break}}m&&!p&&(t=r(t,1/0));var M=h.length+t.length+N.length,A=M<d?new Array(d-M+1).join(e):"";switch(m&&p&&(t=r(A+t,A.length?d-N.length:1/0),A=""),n){case"<":t=h+t+N+A;break;case"=":t=h+A+t+N;break;case"^":t=A.slice(0,M=A.length>>1)+h+t+N+A.slice(M);break;default:t=A+h+t+N}return u(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),N.toString=function(){return t+""},N}return{format:f,formatPrefix:function(t,e){var n=f(((t=ml(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(hl(e)/3))),o=Math.pow(10,-r),i=El[8+r/3];return function(t){return n(o*t)+i}}}}function Al(t,e,n,r){var o,i=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Vs?o*=10:i>=Ws?o*=5:i>=qs&&(o*=2),e<t?-o:o}(t,e,n);switch((r=ml(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hl(e)/3)))-hl(Math.abs(t)))}(i,a))||(r.precision=o),xl(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hl(e)-hl(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-hl(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return _l(r)}function Ol(t){var e=t.domain;return t.ticks=function(t){var n=e();return Ys(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Al(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,u=i.length-1,s=i[a],c=i[u],l=10;for(c<s&&(o=s,s=c,c=o,o=a,a=u,u=o);l-- >0;){if((o=Gs(s,c,n))===r)return i[a]=s,i[u]=c,e(i);if(o>0)s=Math.floor(s/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;s=Math.ceil(s*o)/o,c=Math.floor(c*o)/o}r=o}return t},t}function kl(){var t=ll();return t.copy=function(){return sl(t,kl())},sc.apply(t,arguments),Ol(t)}wl=Ml({thousands:",",grouping:[3],currency:["$",""]}),_l=wl.format,xl=wl.formatPrefix;var Sl=kl(),Cl=function t(){var e,n,r=hc().unknown(void 0),o=r.domain,i=r.range,a=0,u=1,s=!1,c=0,l=0,f=.5;function h(){var t=o().length,r=u<a,h=r?u:a,p=r?a:u;e=(p-h)/Math.max(1,t-c+2*l),s&&(e=Math.floor(e)),h+=(p-h-e*(t-c))*f,n=e*(1-c),s&&(h=Math.round(h),n=Math.round(n));var d=uc(t).map((function(t){return h+e*t}));return i(r?d.reverse():d)}return delete r.unknown,r.domain=function(t){return arguments.length?(o(t),h()):o()},r.range=function(t){var e;return arguments.length?(e=Q(t,2),a=e[0],u=e[1],a=+a,u=+u,h()):[a,u]},r.rangeRound=function(t){var e;return e=Q(t,2),a=e[0],u=e[1],a=+a,u=+u,s=!0,h()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(t){return arguments.length?(s=!!t,h()):s},r.padding=function(t){return arguments.length?(c=Math.min(1,l=+t),h()):c},r.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),h()):c},r.paddingOuter=function(t){return arguments.length?(l=+t,h()):l},r.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),h()):f},r.copy=function(){return t(o(),[a,u]).round(s).paddingInner(c).paddingOuter(l).align(f)},sc.apply(h(),arguments)}(),Tl=kl(),Rl=function(t){return t?t<.01?"<1%":(100*t).toFixed(0)+"%":"0%"};function jl(t){var e=t.validValues,n=t.format,r=nc(e),o=Qs(e),i=function(t,e){var n=0,r=0;if(void 0===e){var o,i=ic(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;null!=a&&(a=+a)>=a&&(++n,r+=a)}}catch(t){i.e(t)}finally{i.f()}}else{var u,s=-1,c=ic(t);try{for(c.s();!(u=c.n()).done;){var l=u.value;null!=(l=e(l,++s,t))&&(l=+l)>=l&&(++n,r+=l)}}catch(t){c.e(t)}finally{c.f()}}if(n)return r/n}(e),a=function(t,e){return oc(t,.5,e)}(e);return[{x:r,label:n(r),name:Xi("describe / histogram / min")},{x:o,label:n(o),name:Xi("describe / histogram / max")},{x:i,label:n(i),name:Xi("describe / histogram / mean")},{x:a,label:n(a),name:Xi("describe / histogram / median")}]}function Il(t,e,n,r){return(0===e?Xi("describe / histogram / tooltip / first"):e===n.length-1?Xi("describe / histogram / tooltip / last"):Xi("describe / histogram / tooltip")).replace("$1",t.length).replace("$2",Rl(t.length/r)).replace("$3",Ms(t.x0)).replace("$4",Ms(t.x1))}function Fl(){this.resize()}function Ll(t){var e=this._svelte,n=e.component,r=e.ctx;n.show(r.s)}function Dl(t){this._svelte.component.show(!1)}function Pl(t,e,n){var r=Object.create(t);return r.s=e[n],r}function Hl(t,e,n){var r=Object.create(t);return r.bin=e[n],r.i=n,r}function Bl(t,e,n){var r=Object.create(t);return r.tick=e[n],r}function Ul(t,e){var n,r,o,i,a,u=e.tick.label;return{c:function(){n=O("g"),r=O("line"),o=O("text"),i=k(u),R(r,"y2","3"),R(r,"class","svelte-p5ucpx"),R(o,"y","5"),R(o,"class","svelte-p5ucpx"),R(n,"class","tick svelte-p5ucpx"),R(n,"transform",a="translate("+e.xScale(e.tick.x)+",0)")},m:function(t,e){x(t,n,e),_(n,r),_(n,o),_(o,i)},p:function(t,e){t.ticks&&u!==(u=e.tick.label)&&j(i,u),(t.xScale||t.ticks)&&a!==(a="translate("+e.xScale(e.tick.x)+",0)")&&R(n,"transform",a)},d:function(t){t&&N(n)}}}function $l(t,e){var n,r;return{c:function(){R(n=O("polygon"),"transform",r="translate("+e.xScale(e.highlight.x)+",0)"),R(n,"points","0,0,4,6,-4,6")},m:function(t,e){x(t,n,e)},p:function(t,e){(t.xScale||t.highlight)&&r!==(r="translate("+e.xScale(e.highlight.x)+",0)")&&R(n,"transform",r)},d:function(t){t&&N(n)}}}function zl(t,e){var n,r,o,i,a,u,s,c=Il(e.bin,e.i,e.bins,e.validValues.length);return{c:function(){n=O("g"),r=O("title"),o=k(c),R(i=O("rect"),"width",a=e.bin.x1!=e.bin.x0?e.xScaleBand.bandwidth():20),R(i,"height",u=e.innerHeight-e.yScale(e.bin.length)),R(i,"class","svelte-p5ucpx"),R(n,"class","bar"),R(n,"transform",s="translate("+e.xScaleBand(e.bin.x0)+","+e.yScale(e.bin.length)+")")},m:function(t,e){x(t,n,e),_(n,r),_(r,o),_(n,i)},p:function(t,e){(t.bins||t.validValues)&&c!==(c=Il(e.bin,e.i,e.bins,e.validValues.length))&&j(o,c),(t.bins||t.xScaleBand)&&a!==(a=e.bin.x1!=e.bin.x0?e.xScaleBand.bandwidth():20)&&R(i,"width",a),(t.innerHeight||t.yScale||t.bins)&&u!==(u=e.innerHeight-e.yScale(e.bin.length))&&R(i,"height",u),(t.xScaleBand||t.bins||t.yScale)&&s!==(s="translate("+e.xScaleBand(e.bin.x0)+","+e.yScale(e.bin.length)+")")&&R(n,"transform",s)},d:function(t){t&&N(n)}}}function Vl(t,e){var n,r,o,i,a,u=e.s.name,s=e.s.label;return{c:function(){n=A("li"),r=k(u),o=k(": "),i=A("tt"),a=k(s),i._svelte={component:t,ctx:e},C(i,"mouseleave",Dl),C(i,"mouseenter",Ll),i.className="svelte-p5ucpx",n.className="svelte-p5ucpx"},m:function(t,e){x(t,n,e),_(n,r),_(n,o),_(n,i),_(i,a)},p:function(t,n){e=n,t.stats&&u!==(u=e.s.name)&&j(r,u),t.stats&&s!==(s=e.s.label)&&j(a,s),i._svelte.ctx=e},d:function(t){t&&N(n),T(i,"mouseleave",Dl),T(i,"mouseenter",Ll)}}}function Wl(t,e){var n,r,o,i,a,u,s,c,l=Xi("describe / histogram / invalid"),f=Rl(e.NAs/e.values.length);return{c:function(){n=A("li"),r=k(l),o=k(":\n        "),i=A("tt"),a=k(e.NAs),u=k(" ("),s=k(f),c=k(")"),I(i,"color","#c71e1d"),i.className="svelte-p5ucpx",n.className="svelte-p5ucpx"},m:function(t,e){x(t,n,e),_(n,r),_(n,o),_(n,i),_(i,a),_(n,u),_(n,s),_(n,c)},p:function(t,e){t.NAs&&j(a,e.NAs),(t.NAs||t.values)&&f!==(f=Rl(e.NAs/e.values.length))&&j(s,f)},d:function(t){t&&N(n)}}}function ql(t){var e=this;G(this,t),this.refs={},this._state=y({format:function(t){return t},t:0,padding:{top:10,right:65,bottom:20,left:5},height:200,width:500,values:[],highlight:!1},t.data),this._recompute({values:1,validValues:1,format:1,niceDomain:1,width:1,padding:1,bins:1,innerWidth:1,xScaleBand:1,xScale:1,height:1,innerHeight:1},this._state),this._intro=!0,this._fragment=function(t,e){for(var n,r,o,i,a,u,s,c,l,f,h,p,d,m,v,g=Xi("describe / histogram"),y=Xi("describe / histogram / learn-more"),b=e.ticks,w=[],M=0;M<b.length;M+=1)w[M]=Ul(t,Bl(e,b,M));var C=e.highlight&&$l(t,e),T=e.bins,j=[];for(M=0;M<T.length;M+=1)j[M]=zl(t,Hl(e,T,M));var I=e.stats,F=[];for(M=0;M<I.length;M+=1)F[M]=Vl(t,Pl(e,I,M));var L=e.NAs>0&&Wl(t,e);return{c:function(){n=A("h3"),r=k(g),o=k("\n"),i=O("svg"),a=O("g"),u=O("g");for(var t=0;t<w.length;t+=1)w[t].c();s=S(),C&&C.c(),l=O("g");for(t=0;t<j.length;t+=1)j[t].c();h=k("\n"),p=A("ul");for(t=0;t<F.length;t+=1)F[t].c();d=k(" "),L&&L.c(),m=k("\n"),v=A("p"),n.className="svelte-p5ucpx",R(u,"class","axis x-axis svelte-p5ucpx"),R(u,"transform",c="translate(0, "+e.innerHeight+")"),R(l,"class","bars svelte-p5ucpx"),R(a,"transform",f="translate("+[e.padding.left,e.padding.top]+")"),R(i,"class","svelte-p5ucpx"),p.className="svelte-p5ucpx",v.className="learn-more"},m:function(e,c){x(e,n,c),_(n,r),x(e,o,c),x(e,i,c),_(i,a),_(a,u);for(var f=0;f<w.length;f+=1)w[f].m(u,null);_(u,s),C&&C.m(u,null),_(a,l);for(f=0;f<j.length;f+=1)j[f].m(l,null);t.refs.svg=i,x(e,h,c),x(e,p,c);for(f=0;f<F.length;f+=1)F[f].m(p,null);_(p,d),L&&L.m(p,null),x(e,m,c),x(e,v,c),v.innerHTML=y},p:function(e,n){if(e.xScale||e.ticks){b=n.ticks;for(var r=0;r<b.length;r+=1){var o=Bl(n,b,r);w[r]?w[r].p(e,o):(w[r]=Ul(t,o),w[r].c(),w[r].m(u,s))}for(;r<w.length;r+=1)w[r].d(1);w.length=b.length}if(n.highlight?C?C.p(e,n):((C=$l(t,n)).c(),C.m(u,null)):C&&(C.d(1),C=null),e.innerHeight&&c!==(c="translate(0, "+n.innerHeight+")")&&R(u,"transform",c),e.xScaleBand||e.bins||e.yScale||e.innerHeight||e.validValues){T=n.bins;for(r=0;r<T.length;r+=1){var i=Hl(n,T,r);j[r]?j[r].p(e,i):(j[r]=zl(t,i),j[r].c(),j[r].m(l,null))}for(;r<j.length;r+=1)j[r].d(1);j.length=T.length}if(e.padding&&f!==(f="translate("+[n.padding.left,n.padding.top]+")")&&R(a,"transform",f),e.stats){I=n.stats;for(r=0;r<I.length;r+=1){var h=Pl(n,I,r);F[r]?F[r].p(e,h):(F[r]=Vl(t,h),F[r].c(),F[r].m(p,d))}for(;r<F.length;r+=1)F[r].d(1);F.length=I.length}n.NAs>0?L?L.p(e,n):((L=Wl(t,n)).c(),L.m(p,null)):L&&(L.d(1),L=null)},d:function(e){e&&(N(n),N(o),N(i)),E(w,e),C&&C.d(),E(j,e),t.refs.svg===i&&(t.refs.svg=null),e&&(N(h),N(p)),E(F,e),L&&L.d(),e&&(N(m),N(v))}}}(this,this._state),this.root._oncreate.push((function(){Fl.call(e),e.fire("update",{changed:b({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),q(this))}y(ql.prototype,Z),y(ql.prototype,{show:function(t){this.set({highlight:t})},resize:function(){var t=this.refs.svg.getBoundingClientRect();this.set({width:t.right-t.left,height:t.bottom-t.top})}}),ql.prototype._recompute=function(t,e){var n,r,o;t.values&&(this._differs(e.NAs,e.NAs=e.values.filter((function(t){return"string"==typeof t||Number.isNaN(t)})).length)&&(t.NAs=!0),this._differs(e.validValues,e.validValues=e.values.filter((function(t){return"number"==typeof t&&!Number.isNaN(t)})))&&(t.validValues=!0)),(t.validValues||t.format)&&this._differs(e.stats,e.stats=jl(e))&&(t.stats=!0),t.validValues&&this._differs(e.niceDomain,e.niceDomain=function(t){var e=t.validValues;return kl().domain(Bs(e)).nice().domain()}(e))&&(t.niceDomain=!0),(t.niceDomain||t.validValues)&&this._differs(e.bins,e.bins=function(t){var e=t.niceDomain,n=t.validValues,r=e,o=Xs().domain(r).thresholds(Ks)(n),i=Es(o.map((function(t){return t.x1-t.x0})));if(o.length>2&&Object.keys(i).length>1){var a=o[1].x1-o[1].x0,u=r[0]+Math.ceil((r[1]-r[0])/a)*a;return Xs().domain([r[0],u]).thresholds(ws(r[0],u+.4*a,a))(n)}return o}(e))&&(t.bins=!0),(t.width||t.padding)&&this._differs(e.innerWidth,e.innerWidth=(r=(n=e).width,o=n.padding,r-o.left-o.right))&&(t.innerWidth=!0),(t.bins||t.innerWidth)&&this._differs(e.xScaleBand,e.xScaleBand=function(t){var e=t.bins,n=t.innerWidth;return Cl.domain(e.map((function(t){return t.x0}))).paddingInner(.1).rangeRound([0,n]).align(0)}(e))&&(t.xScaleBand=!0),(t.niceDomain||t.bins||t.xScaleBand)&&this._differs(e.xScale,e.xScale=function(t){var e=t.niceDomain,n=t.bins,r=t.xScaleBand;return Sl.domain(e).rangeRound([0,r.step()*n.length])}(e))&&(t.xScale=!0),(t.xScale||t.format)&&this._differs(e.ticks,e.ticks=function(t){var e=t.xScale,n=t.format;return e.ticks(4).map((function(t){return{x:t,label:n(t)}}))}(e))&&(t.ticks=!0),(t.height||t.padding)&&this._differs(e.innerHeight,e.innerHeight=function(t){var e=t.height,n=t.padding;return e-n.bottom-n.top}(e))&&(t.innerHeight=!0),(t.innerHeight||t.bins)&&this._differs(e.yScale,e.yScale=function(t){var e=t.innerHeight,n=t.bins;return Tl.domain([0,Qs(n,(function(t){return t.length}))]).range([e,0])}(e))&&(t.yScale=!0),(t.bins||t.xScale)&&this._differs(e.barWidth,e.barWidth=function(t){var e=t.bins,n=t.xScale;return n(e[0].x1)-n(e[0].x0)-1}(e))&&(t.barWidth=!0)};var Yl=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,Gl=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function Kl(t,e){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0&&t.indexOf(">")<0)return t;if(t=function(t,e){e=(((void 0!==e?e||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=t,r=t;for(;;)if(r=(n=r).replace(Gl,"").replace(Yl,(function(t,n){return e.indexOf("<"+n.toLowerCase()+">")>-1?t:""})),n===r)return r}(t,e),"undefined"==typeof document)return t;var n=document.createElement("div");n.innerHTML="<span>".concat(t,"</span>");for(var r=n.childNodes[0].querySelectorAll("*"),o=0;o<r.length;o++){"a"===r[o].nodeName.toLowerCase()&&("_self"!==r[o].getAttribute("target")&&r[o].setAttribute("target","_blank"),r[o].setAttribute("rel","nofollow noopener noreferrer"),r[o].getAttribute("href")&&r[o].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&r[o].setAttribute("href",""));for(var i=[],a=0;a<r[o].attributes.length;a++){var u=r[o].attributes[a];u.specified&&"on"===u.name.substr(0,2)&&i.push(u.name)}i.forEach((function(t){return r[o].removeAttribute(t)}))}return n.childNodes[0].innerHTML}}var Xl="object"==("undefined"==typeof self?"undefined":h(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":h(global))&&global.global===global&&global||Function("return this")()||{},Jl=Array.prototype,Zl=Object.prototype,Ql="undefined"!=typeof Symbol?Symbol.prototype:null,tf=Jl.push,ef=Jl.slice,nf=Zl.toString,rf=Zl.hasOwnProperty,of="undefined"!=typeof ArrayBuffer,af="undefined"!=typeof DataView,uf=Array.isArray,sf=Object.keys,cf=Object.create,lf=of&&ArrayBuffer.isView,ff=isNaN,hf=isFinite,pf=!{toString:null}.propertyIsEnumerable("toString"),df=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],mf=Math.pow(2,53)-1;function vf(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=r,t.apply(this,i)}}function gf(t){var e=h(t);return"function"===e||"object"===e&&!!t}function yf(t){return void 0===t}function bf(t){return!0===t||!1===t||"[object Boolean]"===nf.call(t)}function wf(t){var e="[object "+t+"]";return function(t){return nf.call(t)===e}}var _f=wf("String"),xf=wf("Number"),Nf=wf("Date"),Ef=wf("RegExp"),Mf=wf("Error"),Af=wf("Symbol"),Of=wf("ArrayBuffer"),kf=wf("Function"),Sf=Xl.document&&Xl.document.childNodes;"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":h(Int8Array))&&"function"!=typeof Sf&&(kf=function(t){return"function"==typeof t||!1});var Cf=kf,Tf=wf("Object"),Rf=af&&Tf(new DataView(new ArrayBuffer(8))),jf="undefined"!=typeof Map&&Tf(new Map),If=wf("DataView");var Ff=Rf?function(t){return null!=t&&Cf(t.getInt8)&&Of(t.buffer)}:If,Lf=uf||wf("Array");function Df(t,e){return null!=t&&rf.call(t,e)}var Pf=wf("Arguments");!function(){Pf(arguments)||(Pf=function(t){return Df(t,"callee")})}();var Hf=Pf;function Bf(t){return xf(t)&&ff(t)}function Uf(t){return function(){return t}}function $f(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=mf}}function zf(t){return function(e){return null==e?void 0:e[t]}}var Vf=zf("byteLength"),Wf=$f(Vf),qf=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Yf=of?function(t){return lf?lf(t)&&!Ff(t):Wf(t)&&qf.test(nf.call(t))}:Uf(!1),Gf=zf("length");function Kf(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=df.length,r=t.constructor,o=Cf(r)&&r.prototype||Zl,i="constructor";for(Df(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=df[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}function Xf(t){if(!gf(t))return[];if(sf)return sf(t);var e=[];for(var n in t)Df(t,n)&&e.push(n);return pf&&Kf(t,e),e}function Jf(t,e){var n=Xf(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0}function Zf(t){return t instanceof Zf?t:this instanceof Zf?void(this._wrapped=t):new Zf(t)}function Qf(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Vf(t))}Zf.VERSION="1.13.1",Zf.prototype.value=function(){return this._wrapped},Zf.prototype.valueOf=Zf.prototype.toJSON=Zf.prototype.value,Zf.prototype.toString=function(){return String(this._wrapped)};function th(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=h(t);return("function"===o||"object"===o||"object"==h(e))&&function t(e,n,r,o){e instanceof Zf&&(e=e._wrapped);n instanceof Zf&&(n=n._wrapped);var i=nf.call(e);if(i!==nf.call(n))return!1;if(Rf&&"[object Object]"==i&&Ff(e)){if(!Ff(n))return!1;i="[object DataView]"}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return Ql.valueOf.call(e)===Ql.valueOf.call(n);case"[object ArrayBuffer]":case"[object DataView]":return t(Qf(e),Qf(n),r,o)}var a="[object Array]"===i;if(!a&&Yf(e)){if(Vf(e)!==Vf(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;a=!0}if(!a){if("object"!=h(e)||"object"!=h(n))return!1;var u=e.constructor,s=n.constructor;if(u!==s&&!(Cf(u)&&u instanceof u&&Cf(s)&&s instanceof s)&&"constructor"in e&&"constructor"in n)return!1}o=o||[];var c=(r=r||[]).length;for(;c--;)if(r[c]===e)return o[c]===n;if(r.push(e),o.push(n),a){if((c=e.length)!==n.length)return!1;for(;c--;)if(!th(e[c],n[c],r,o))return!1}else{var l,f=Xf(e);if(c=f.length,Xf(n).length!==c)return!1;for(;c--;)if(l=f[c],!Df(n,l)||!th(e[l],n[l],r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n,r)}function eh(t){if(!gf(t))return[];var e=[];for(var n in t)e.push(n);return pf&&Kf(t,e),e}function nh(t){var e=Gf(t);return function(n){if(null==n)return!1;var r=eh(n);if(Gf(r))return!1;for(var o=0;o<e;o++)if(!Cf(n[t[o]]))return!1;return t!==uh||!Cf(n[rh])}}var rh="forEach",oh=["clear","delete"],ih=["get","has","set"],ah=oh.concat(rh,ih),uh=oh.concat(ih),sh=["add"].concat(oh,rh,"has"),ch=jf?nh(ah):wf("Map"),lh=jf?nh(uh):wf("WeakMap"),fh=jf?nh(sh):wf("Set"),hh=wf("WeakSet");function ph(t){for(var e=Xf(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function dh(t){for(var e={},n=Xf(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function mh(t){var e=[];for(var n in t)Cf(t[n])&&e.push(n);return e.sort()}function vh(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=t(i),u=a.length,s=0;s<u;s++){var c=a[s];e&&void 0!==n[c]||(n[c]=i[c])}return n}}var gh=vh(eh),yh=vh(Xf),bh=vh(eh,!0);function wh(t){if(!gf(t))return{};if(cf)return cf(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function _h(t){return gf(t)?Lf(t)?t.slice():gh({},t):t}function xh(t){return Lf(t)?t:[t]}function Nh(t){return Zf.toPath(t)}function Eh(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Mh(t,e,n){var r=Eh(t,Nh(e));return yf(r)?n:r}function Ah(t){return t}function Oh(t){return t=yh({},t),function(e){return Jf(e,t)}}function kh(t){return t=Nh(t),function(e){return Eh(e,t)}}function Sh(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}function Ch(t,e,n){return null==t?Ah:Cf(t)?Sh(t,e,n):gf(t)&&!Lf(t)?Oh(t):kh(t)}function Th(t,e){return Ch(t,e,1/0)}function Rh(t,e,n){return Zf.iteratee!==Th?Zf.iteratee(t,e):Ch(t,e,n)}function jh(){}function Ih(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}Zf.toPath=xh,Zf.iteratee=Th;var Fh=Date.now||function(){return(new Date).getTime()};function Lh(t){var e=function(e){return t[e]},n="(?:"+Xf(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}var Dh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ph=Lh(Dh),Hh=Lh(dh(Dh)),Bh=Zf.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Uh=/(.)^/,$h={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},zh=/\\|'|\r|\n|\u2028|\u2029/g;function Vh(t){return"\\"+$h[t]}var Wh=/^\s*(\w|\$)+\s*$/;var qh=0;function Yh(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=wh(t.prototype),a=t.apply(i,o);return gf(a)?a:i}var Gh=vf((function(t,e){var n=Gh.placeholder;return function r(){for(var o=0,i=e.length,a=Array(i),u=0;u<i;u++)a[u]=e[u]===n?arguments[o++]:e[u];for(;o<arguments.length;)a.push(arguments[o++]);return Yh(t,r,this,this,a)}}));Gh.placeholder=Zf;var Kh=vf((function(t,e,n){if(!Cf(t))throw new TypeError("Bind must be called on a function");var r=vf((function(o){return Yh(t,r,e,this,n.concat(o))}));return r})),Xh=$f(Gf);function Jh(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,a=Gf(t);i<a;i++){var u=t[i];if(Xh(u)&&(Lf(u)||Hf(u)))if(e>1)Jh(u,e-1,n,r),o=r.length;else for(var s=0,c=u.length;s<c;)r[o++]=u[s++];else n||(r[o++]=u)}return r}var Zh=vf((function(t,e){var n=(e=Jh(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Kh(t[r],t)}return t}));var Qh=vf((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),tp=Gh(Qh,Zf,1);function ep(t){return function(){return!t.apply(this,arguments)}}function np(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var rp=Gh(np,2);function op(t,e,n){e=Rh(e,n);for(var r,o=Xf(t),i=0,a=o.length;i<a;i++)if(e(t[r=o[i]],r,t))return r}function ip(t){return function(e,n,r){n=Rh(n,r);for(var o=Gf(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(n(e[i],i,e))return i;return-1}}var ap=ip(1),up=ip(-1);function sp(t,e,n,r){for(var o=(n=Rh(n,r,1))(e),i=0,a=Gf(t);i<a;){var u=Math.floor((i+a)/2);n(t[u])<o?i=u+1:a=u}return i}function cp(t,e,n){return function(r,o,i){var a=0,u=Gf(r);if("number"==typeof i)t>0?a=i>=0?i:Math.max(i+u,a):u=i>=0?Math.min(i+1,u):i+u+1;else if(n&&i&&u)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=e(ef.call(r,a,u),Bf))>=0?i+a:-1;for(i=t>0?a:u-1;i>=0&&i<u;i+=t)if(r[i]===o)return i;return-1}}var lp=cp(1,ap,sp),fp=cp(-1,up);function hp(t,e,n){var r=(Xh(t)?ap:op)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function pp(t,e,n){var r,o;if(e=Sh(e,n),Xh(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var i=Xf(t);for(r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t)}return t}function dp(t,e,n){e=Rh(e,n);for(var r=!Xh(t)&&Xf(t),o=(r||t).length,i=Array(o),a=0;a<o;a++){var u=r?r[a]:a;i[a]=e(t[u],u,t)}return i}function mp(t){var e=function(e,n,r,o){var i=!Xh(e)&&Xf(e),a=(i||e).length,u=t>0?0:a-1;for(o||(r=e[i?i[u]:u],u+=t);u>=0&&u<a;u+=t){var s=i?i[u]:u;r=n(r,e[s],s,e)}return r};return function(t,n,r,o){var i=arguments.length>=3;return e(t,Sh(n,o,4),r,i)}}var vp=mp(1),gp=mp(-1);function yp(t,e,n){var r=[];return e=Rh(e,n),pp(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function bp(t,e,n){e=Rh(e,n);for(var r=!Xh(t)&&Xf(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(!e(t[a],a,t))return!1}return!0}function wp(t,e,n){e=Rh(e,n);for(var r=!Xh(t)&&Xf(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(e(t[a],a,t))return!0}return!1}function _p(t,e,n,r){return Xh(t)||(t=ph(t)),("number"!=typeof n||r)&&(n=0),lp(t,e,n)>=0}var xp=vf((function(t,e,n){var r,o;return Cf(e)?o=e:(e=Nh(e),r=e.slice(0,-1),e=e[e.length-1]),dp(t,(function(t){var i=o;if(!i){if(r&&r.length&&(t=Eh(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)}))}));function Np(t,e){return dp(t,kh(e))}function Ep(t,e,n){var r,o,i=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=h(t[0])&&null!=t)for(var u=0,s=(t=Xh(t)?t:ph(t)).length;u<s;u++)null!=(r=t[u])&&r>i&&(i=r);else e=Rh(e,n),pp(t,(function(t,n,r){((o=e(t,n,r))>a||o===-1/0&&i===-1/0)&&(i=t,a=o)}));return i}function Mp(t,e,n){if(null==e||n)return Xh(t)||(t=ph(t)),t[Ih(t.length-1)];var r=Xh(t)?_h(t):ph(t),o=Gf(r);e=Math.max(Math.min(e,o),0);for(var i=o-1,a=0;a<e;a++){var u=Ih(a,i),s=r[a];r[a]=r[u],r[u]=s}return r.slice(0,e)}function Ap(t,e){return function(n,r,o){var i=e?[[],[]]:{};return r=Rh(r,o),pp(n,(function(e,o){var a=r(e,o,n);t(i,e,a)})),i}}var Op=Ap((function(t,e,n){Df(t,n)?t[n].push(e):t[n]=[e]})),kp=Ap((function(t,e,n){t[n]=e})),Sp=Ap((function(t,e,n){Df(t,n)?t[n]++:t[n]=1})),Cp=Ap((function(t,e,n){t[n?0:1].push(e)}),!0),Tp=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Rp(t,e,n){return e in n}var jp=vf((function(t,e){var n={},r=e[0];if(null==t)return n;Cf(r)?(e.length>1&&(r=Sh(r,e[1])),e=eh(t)):(r=Rp,e=Jh(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var a=e[o],u=t[a];r(u,a,t)&&(n[a]=u)}return n})),Ip=vf((function(t,e){var n,r=e[0];return Cf(r)?(r=ep(r),e.length>1&&(n=e[1])):(e=dp(Jh(e,!1,!1),String),r=function(t,n){return!_p(e,n)}),jp(t,r,n)}));function Fp(t,e,n){return ef.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Lp(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:Fp(t,t.length-e)}function Dp(t,e,n){return ef.call(t,null==e||n?1:e)}var Pp=vf((function(t,e){return e=Jh(e,!0,!0),yp(t,(function(t){return!_p(e,t)}))})),Hp=vf((function(t,e){return Pp(t,e)}));function Bp(t,e,n,r){bf(e)||(r=n,n=e,e=!1),null!=n&&(n=Rh(n,r));for(var o=[],i=[],a=0,u=Gf(t);a<u;a++){var s=t[a],c=n?n(s,a,t):s;e&&!n?(a&&i===c||o.push(s),i=c):n?_p(i,c)||(i.push(c),o.push(s)):_p(o,s)||o.push(s)}return o}var Up=vf((function(t){return Bp(Jh(t,!0,!0))}));function $p(t){for(var e=t&&Ep(t,Gf).length||0,n=Array(e),r=0;r<e;r++)n[r]=Np(t,r);return n}var zp=vf($p);function Vp(t,e){return t._chain?Zf(e).chain():e}function Wp(t){return pp(mh(t),(function(e){var n=Zf[e]=t[e];Zf.prototype[e]=function(){var t=[this._wrapped];return tf.apply(t,arguments),Vp(this,n.apply(Zf,t))}})),Zf}pp(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=Jl[t];Zf.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Vp(this,n)}})),pp(["concat","join","slice"],(function(t){var e=Jl[t];Zf.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Vp(this,t)}}));var qp=Wp(Object.freeze({__proto__:null,VERSION:"1.13.1",restArguments:vf,isObject:gf,isNull:function(t){return null===t},isUndefined:yf,isBoolean:bf,isElement:function(t){return!(!t||1!==t.nodeType)},isString:_f,isNumber:xf,isDate:Nf,isRegExp:Ef,isError:Mf,isSymbol:Af,isArrayBuffer:Of,isDataView:Ff,isArray:Lf,isFunction:Cf,isArguments:Hf,isFinite:function(t){return!Af(t)&&hf(t)&&!isNaN(parseFloat(t))},isNaN:Bf,isTypedArray:Yf,isEmpty:function(t){if(null==t)return!0;var e=Gf(t);return"number"==typeof e&&(Lf(t)||_f(t)||Hf(t))?0===e:0===Gf(Xf(t))},isMatch:Jf,isEqual:function(t,e){return th(t,e)},isMap:ch,isWeakMap:lh,isSet:fh,isWeakSet:hh,keys:Xf,allKeys:eh,values:ph,pairs:function(t){for(var e=Xf(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r},invert:dh,functions:mh,methods:mh,extend:gh,extendOwn:yh,assign:yh,defaults:bh,create:function(t,e){var n=wh(t);return e&&yh(n,e),n},clone:_h,tap:function(t,e){return e(t),t},get:Mh,has:function(t,e){for(var n=(e=Nh(e)).length,r=0;r<n;r++){var o=e[r];if(!Df(t,o))return!1;t=t[o]}return!!n},mapObject:function(t,e,n){e=Rh(e,n);for(var r=Xf(t),o=r.length,i={},a=0;a<o;a++){var u=r[a];i[u]=e(t[u],u,t)}return i},identity:Ah,constant:Uf,noop:jh,toPath:xh,property:kh,propertyOf:function(t){return null==t?jh:function(e){return Mh(t,e)}},matcher:Oh,matches:Oh,times:function(t,e,n){var r=Array(Math.max(0,t));e=Sh(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r},random:Ih,now:Fh,escape:Ph,unescape:Hh,templateSettings:Bh,template:function(t,e,n){!e&&n&&(e=n),e=bh({},e,Zf.templateSettings);var r=RegExp([(e.escape||Uh).source,(e.interpolate||Uh).source,(e.evaluate||Uh).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,(function(e,n,r,a,u){return i+=t.slice(o,u).replace(zh,Vh),o=u+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e})),i+="';\n";var a,u=e.variable;if(u){if(!Wh.test(u))throw new Error("variable is not a bare identifier: "+u)}else i="with(obj||{}){\n"+i+"}\n",u="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{a=new Function(u,"_",i)}catch(t){throw t.source=i,t}var s=function(t){return a.call(this,t,Zf)};return s.source="function("+u+"){\n"+i+"}",s},result:function(t,e,n){var r=(e=Nh(e)).length;if(!r)return Cf(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=Cf(i)?i.call(t):i}return t},uniqueId:function(t){var e=++qh+"";return t?t+e:e},chain:function(t){var e=Zf(t);return e._chain=!0,e},iteratee:Th,partial:Gh,bind:Kh,bindAll:Zh,memoize:function(t,e){var n=function n(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return Df(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n},delay:Qh,defer:tp,throttle:function(t,e,n){var r,o,i,a,u=0;n||(n={});var s=function(){u=!1===n.leading?0:Fh(),r=null,a=t.apply(o,i),r||(o=i=null)},c=function(){var c=Fh();u||!1!==n.leading||(u=c);var l=e-(c-u);return o=this,i=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),u=c,a=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(s,l)),a};return c.cancel=function(){clearTimeout(r),u=0,r=o=i=null},c},debounce:function(t,e,n){var r,o,i,a,u,s=function s(){var c=Fh()-o;e>c?r=setTimeout(s,e-c):(r=null,n||(a=t.apply(u,i)),r||(i=u=null))},c=vf((function(c){return u=this,i=c,o=Fh(),r||(r=setTimeout(s,e),n&&(a=t.apply(u,i))),a}));return c.cancel=function(){clearTimeout(r),r=i=u=null},c},wrap:function(t,e){return Gh(e,t)},negate:ep,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:np,once:rp,findKey:op,findIndex:ap,findLastIndex:up,sortedIndex:sp,indexOf:lp,lastIndexOf:fp,find:hp,detect:hp,findWhere:function(t,e){return hp(t,Oh(e))},each:pp,forEach:pp,map:dp,collect:dp,reduce:vp,foldl:vp,inject:vp,reduceRight:gp,foldr:gp,filter:yp,select:yp,reject:function(t,e,n){return yp(t,ep(Rh(e)),n)},every:bp,all:bp,some:wp,any:wp,contains:_p,includes:_p,include:_p,invoke:xp,pluck:Np,where:function(t,e){return yp(t,Oh(e))},max:Ep,min:function(t,e,n){var r,o,i=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=h(t[0])&&null!=t)for(var u=0,s=(t=Xh(t)?t:ph(t)).length;u<s;u++)null!=(r=t[u])&&r<i&&(i=r);else e=Rh(e,n),pp(t,(function(t,n,r){((o=e(t,n,r))<a||o===1/0&&i===1/0)&&(i=t,a=o)}));return i},shuffle:function(t){return Mp(t,1/0)},sample:Mp,sortBy:function(t,e,n){var r=0;return e=Rh(e,n),Np(dp(t,(function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:Op,indexBy:kp,countBy:Sp,partition:Cp,toArray:function(t){return t?Lf(t)?ef.call(t):_f(t)?t.match(Tp):Xh(t)?dp(t,Ah):ph(t):[]},size:function(t){return null==t?0:Xh(t)?t.length:Xf(t).length},pick:jp,omit:Ip,first:Lp,head:Lp,take:Lp,initial:Fp,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Dp(t,Math.max(0,t.length-e))},rest:Dp,tail:Dp,drop:Dp,compact:function(t){return yp(t,Boolean)},flatten:function(t,e){return Jh(t,e,!1)},without:Hp,uniq:Bp,unique:Bp,union:Up,intersection:function(t){for(var e=[],n=arguments.length,r=0,o=Gf(t);r<o;r++){var i=t[r];if(!_p(e,i)){var a;for(a=1;a<n&&_p(arguments[a],i);a++);a===n&&e.push(i)}}return e},difference:Pp,unzip:$p,transpose:$p,zip:zp,object:function(t,e){for(var n={},r=0,o=Gf(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(ef.call(t,r,r+=e));return n},mixin:Wp,default:Zf}));function Yp(t){if(!t.format())return Ah;switch(t.precision()){case"year":return function(t){return Nf(t)?t.getFullYear():t};case"half":return function(t){return Nf(t)?t.getFullYear()+" H"+(t.getMonth()/6+1):t};case"quarter":return function(t){return Nf(t)?t.getFullYear()+" Q"+(t.getMonth()/3+1):t};case"month":return function(t){return Nf(t)?f.default(t).format("MMM YY"):t};case"week":return function(t){return Nf(t)?function(t){var e=t.getUTCDay(),n=new Date(t.valueOf());n.setDate(n.getDate()-(e+6)%7+3);var r=n.getUTCFullYear(),o=Math.floor((n.getTime()-new Date(r,0,1,-6))/864e5);return[r,1+Math.floor(o/7),e>0?e:7]}(t).slice(0,2).join(" W"):t};case"day":return function(t,e){return Nf(t)?f.default(t).format(e?"dddd, MMMM DD, YYYY":"l"):t};case"day-minutes":return function(t){return Nf(t)?f.default(t).format("MMM DD").replace(" ","&nbsp;")+" - "+f.default(t).format("LT").replace(" ","&nbsp;"):t};case"day-seconds":return function(t){return Nf(t)?f.default(t).format("LTS").replace(" ","&nbsp;"):t}}}qp._=qp;var Gp={exports:{}};
/*! @preserve
   * numeral.js
   * version : 2.0.6
   * author : Adam Draper
   * license : MIT
   * http://adamwdraper.github.com/Numeral-js/
   */!function(t){!function(e,n){t.exports?t.exports=n():e.numeral=n()}(tt,(function(){var t,e,n,r,o,i={},a={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function c(t,e){this._input=t,this._value=e}return(t=function(n){var r,o,a,u;if(t.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||e.isNaN(n))r=null;else if("string"==typeof n)if(s.zeroFormat&&n===s.zeroFormat)r=0;else if(s.nullFormat&&n===s.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(o in i)if((u="function"==typeof i[o].regexps.unformat?i[o].regexps.unformat():i[o].regexps.unformat)&&n.match(u)){a=i[o].unformat;break}r=(a=a||t._.stringToNumber)(n)}else r=Number(n)||null;return new c(n,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof c},t._=e={numberToFormat:function(e,n,r){var o,i,u,s,c,l,f,h,p=a[t.options.currentLocale],d=!1,m=!1,v="",g="",y=!1;if(e=e||0,u=Math.abs(e),t._.includes(n,"(")?(d=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(l=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],t._.includes(n," a")&&(v=" "),n=n.replace(new RegExp(v+"a[kmbt]?"),""),u>=1e12&&!i||"t"===i?(v+=p.abbreviations.trillion,e/=1e12):u<1e12&&u>=1e9&&!i||"b"===i?(v+=p.abbreviations.billion,e/=1e9):u<1e9&&u>=1e6&&!i||"m"===i?(v+=p.abbreviations.million,e/=1e6):(u<1e6&&u>=1e3&&!i||"k"===i)&&(v+=p.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),s=e.toString().split(".")[0],c=n.split(".")[1],f=n.indexOf(","),o=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(t._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),g=t._.toFixed(e,c[0].length+c[1].length,r,c[1].length)):g=t._.toFixed(e,c.length,r),s=g.split(".")[0],g=t._.includes(g,".")?p.delimiters.decimal+g.split(".")[1]:"",m&&0===Number(g.slice(1))&&(g="")):s=t._.toFixed(e,0,r),v&&!i&&Number(s)>=1e3&&v!==p.abbreviations.trillion)switch(s=String(Number(s)/1e3),v){case p.abbreviations.thousand:v=p.abbreviations.million;break;case p.abbreviations.million:v=p.abbreviations.billion;break;case p.abbreviations.billion:v=p.abbreviations.trillion}if(t._.includes(s,"-")&&(s=s.slice(1),y=!0),s.length<o)for(var b=o-s.length;b>0;b--)s="0"+s;return f>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===n.indexOf(".")&&(s=""),h=s+g+(v||""),d?h=(d&&y?"(":"")+h+(d&&y?")":""):l>=0?h=0===l?(y?"-":"+")+h:h+(y?"-":"+"):y&&(h="-"+h),h},stringToNumber:function(t){var e,n,r,o=a[s.currentLocale],i=t,u={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&t===s.zeroFormat)n=0;else if(s.nullFormat&&t===s.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==o.delimiters.decimal&&(t=t.replace(/\./g,"").replace(o.delimiters.decimal,".")),u)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[e]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),i.match(r)){n*=Math.pow(10,u[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return"number"==typeof t&&isNaN(t)})),includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),o=r.length>>>0,i=0;if(3===arguments.length)n=arguments[2];else{for(;i<o&&!(i in r);)i++;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;i++)i in r&&(n=e(n,r[i],i,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,n){var r=e.multiplier(n);return t>r?t:r}),1)},toFixed:function(t,e,n,r){var o,i,a,u,s=t.toString().split("."),c=e-(r||0);return o=2===s.length?Math.min(Math.max(s[1].length,c),e):c,a=Math.pow(10,o),u=(n(t+"e+"+o)/a).toFixed(o),r>e-o&&(i=new RegExp("\\.?0{1,"+(r-(e-o))+"}$"),u=u.replace(i,"")),u}},t.options=s,t.formats=i,t.locales=a,t.locale=function(t){return t&&(s.currentLocale=t.toLowerCase()),s.currentLocale},t.localeData=function(t){if(!t)return a[s.currentLocale];if(t=t.toLowerCase(),!a[t])throw new Error("Unknown locale : "+t);return a[t]},t.reset=function(){for(var t in u)s[t]=u[t]},t.zeroFormat=function(t){s.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){s.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){s.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,o,i,a,u,s,c,l;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{c=t.localeData(n)}catch(e){c=t.localeData(t.locale())}return i=c.currency.symbol,u=c.abbreviations,r=c.delimiters.decimal,o="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(l=e.match(/^[^\d]+/))||(e=e.substr(1),l[0]===i))&&((null===(l=e.match(/[^\d]+$/))||(e=e.slice(0,-1),l[0]===u.thousand||l[0]===u.million||l[0]===u.billion||l[0]===u.trillion))&&(s=new RegExp(o+"{2}"),!e.match(/[^\d.,]/g)&&(!((a=e.split(r)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(s):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(s)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(s)&&!!a[1].match(/^\d+$/)))))},t.fn=c.prototype={clone:function(){return t(this)},format:function(e,n){var r,o,a,u=this._value,c=e||s.defaultFormat;if(n=n||Math.round,0===u&&null!==s.zeroFormat)o=s.zeroFormat;else if(null===u&&null!==s.nullFormat)o=s.nullFormat;else{for(r in i)if(c.match(i[r].regexps.format)){a=i[r].format;break}o=(a=a||t._.numberToFormat)(u,c,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],(function(t,e,r,o){return t+Math.round(n*e)}),0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],(function(t,e,r,o){return t-Math.round(n*e)}),Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],(function(t,n,r,o){var i=e.correctionFactor(t,n);return Math.round(t*i)*Math.round(n*i)/Math.round(i*i)}),1),this},divide:function(t){return this._value=e.reduce([this._value,t],(function(t,n,r,o){var i=e.correctionFactor(t,n);return Math.round(t*i)/Math.round(n*i)})),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var o,i=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),o=t._.numberToFormat(e,n,r),t._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"BPS"),o=o.join("")):o=o+i+"BPS",o},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},o="("+(o=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter((function(t){return n.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(o)},format:function(e,o,i){var a,u,s,c=t._.includes(o,"ib")?r:n,l=t._.includes(o," b")||t._.includes(o," ib")?" ":"";for(o=o.replace(/\s?i?b/,""),a=0;a<=c.suffixes.length;a++)if(u=Math.pow(c.base,a),s=Math.pow(c.base,a+1),null===e||0===e||e>=u&&e<s){l+=c.suffixes[a],u>0&&(e/=u);break}return t._.numberToFormat(e,o,i)+l},unformat:function(e){var o,i,a=t._.stringToNumber(e);if(a){for(o=n.suffixes.length-1;o>=0;o--){if(t._.includes(e,n.suffixes[o])){i=Math.pow(n.base,o);break}if(t._.includes(e,r.suffixes[o])){i=Math.pow(r.base,o);break}}a*=i||1}return a}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var o,i,a=t.locales[t.options.currentLocale],u={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),o=t._.numberToFormat(e,n,r),e>=0?(u.before=u.before.replace(/[\-\(]/,""),u.after=u.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(u.before,"-")&&!t._.includes(u.before,"(")&&(u.before="-"+u.before),i=0;i<u.before.length;i++)switch(u.before[i]){case"$":o=t._.insert(o,a.currency.symbol,i);break;case" ":o=t._.insert(o," ",i+a.currency.symbol.length-1)}for(i=u.after.length-1;i>=0;i--)switch(u.after[i]){case"$":o=i===u.after.length-1?o+a.currency.symbol:t._.insert(o,a.currency.symbol,-(u.after.length-(1+i)));break;case" ":o=i===u.after.length-1?o+" ":t._.insert(o," ",-(u.after.length-(1+i)+a.currency.symbol.length-1))}return o}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var o=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(o[0]),n,r)+"e"+o[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),o=Number(n[1]);return o=t._.includes(e,"e-")?o*=-1:o,t._.reduce([r,Math.pow(10,o)],(function(e,n,r,o){var i=t._.correctionFactor(e,n);return e*i*(n*i)/(i*i)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var o=t.locales[t.options.currentLocale],i=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),i+=o.ordinal(e),t._.numberToFormat(e,n,r)+i}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var o,i=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),o=t._.numberToFormat(e,n,r),t._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"%"),o=o.join("")):o=o+i+"%",o},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),o=Math.floor((t-60*r*60)/60),i=Math.round(t-60*r*60-60*o);return r+":"+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t}))}(Gp);var Kp=Gp.exports;function Xp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jp(t,e){if(e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xp(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({format:"0.[00]",prepend:"",append:"",minusChar:"−",plusMinusChar:"±",multiply:1},e),void 0===t||isNaN(t)||""===t||null===t)return"";var n=e,r=n.format,o=n.append,i=n.prepend,a=n.minusChar,u=n.plusMinusChar,s=n.multiply;r.includes("%")&&Number.isFinite(t)&&(t*=.01),t*=s;var c=r.indexOf("(")>-1,l=Kp(c?t:Math.abs(t)).format(r);return i&&!c&&t<0&&Zp.has(i.trim().toLowerCase())?"".concat(a).concat(i).concat(l.replace("+","")).concat(o):i&&t>=0&&Zp.has(i.trim().toLowerCase())&&r.includes("+")?"".concat(0===t?u:"+").concat(i).concat(l.replace("+","")).concat(o):0===t&&r.includes("+")?"".concat(i).concat(l.replace("+",u)).concat(o):t<0&&!c?"".concat(i).concat(a).concat(l.replace("+","")).concat(o):"".concat(i).concat(l).concat(o)}var Zp=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);function Qp(t,e){return Math.abs(t-e)<1e-6}function td(t){var e=t["number-format"]||"-",n=Number(t["number-divisor"]||0),r=(t["number-append"]||"").replace(/ /g," "),o=(t["number-prepend"]||"").replace(/ /g," ");return function(t,i,a){if(isNaN(t))return t;var u,s,c=e,l=0;0!==n&&"-"===c&&(l=1),"s"===c.substr(0,1)&&(l=Math.max(0,(u=t,s=+c.substr(1),0===u?0:Math.round(s-Math.ceil(Math.log(Math.abs(u))/Math.LN10))))),a&&(l=0),"-"===c&&(l=Qp(t,Math.round(t))?0:Qp(t,.1*Math.round(10*t))?1:Qp(t,.01*Math.round(100*t))?2:Qp(t,.001*Math.round(1e3*t))?3:Qp(t,1e-4*Math.round(1e4*t))?4:Qp(t,1e-5*Math.round(1e5*t))?5:6),"n"===c[0]&&(l=Number(c.substr(1,c.length)));for(var f="0,0",h=0;h<l;h++)0===h&&(f+="."),f+="0";return Jp(t,{format:f,prepend:i?o:"",append:i?r:"",multiply:Math.pow(10,-1*n)})}}var ed=function(t){return t};function nd(t,e,n){return"date"===t.type()?Yp(t.type(!0)):"number"===t.type()?td(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;for(var r=Array.isArray(e)?e:e.split("."),o=t,i=0;i<r.length&&null!=o;i++)o=o[r[i]];return null==o?n:o}(e,"data.column-format.".concat(n),{})):ed}function rd(t,e,n,r){var o={date:"fa fa-clock-o"};return function(i,a,u,s,c,l,f){if(!(n.numColumns()<=s)&&n.hasColumn(s)){var h=n.column(s),p=t.get(),d=p.searchResults,m=p.currentResult,v=p.activeColumn,g=t.getColumnFormat(h.name());if((u=i.toPhysicalRow(u))>0){var y=nd(h,e.get().metadata,h.name());l=null===h.val(u-1)||""===h.val(u-1)?"–":y(h.val(u-1),!0)}parseInt(l)<0&&a.classList.add("negative"),a.classList.add(h.type()+"Type"),a.dataset.column=s,"text"===h.type()&&l&&l.length>70&&(l=l.substr(0,60)+"…"),0===u?(a.classList.add("firstRow"),o[h.type()]&&(l='<i class="'+o[h.type()]+'"></i> '+l)):a.classList.add(u%2?"oddRow":"evenRow"),g.ignore&&a.classList.add("ignored"),v&&v.name()===h.name()&&a.classList.add("active");var b=r.hooks.run(i,"modifyRow",u);d.forEach((function(t){t.row===b&&t.col===s&&a.classList.add("htSearchResult")})),m&&m.row===b&&m.col===s&&a.classList.add("htCurrentSearchResult"),u>0&&!h.type(!0).isValid(h.val(u-1))&&null!==h.val(u-1)&&""!==h.val(u-1)&&a.classList.add("parsingError"),u>0&&(null===h.val(u-1)||""===h.val(u-1))&&a.classList.add("noData"),h.isComputed&&h.errors.length&&h.errors.find((function(t){return"all"===t.row||t.row===u-1}))&&a.classList.add("parsingError"),f.readOnly&&a.classList.add("readOnly"),e.dataCellChanged(s,u)&&a.classList.add("changed"),function(t,e,n,o,i,a,u){var s=Kl(r.helper.stringify(a));e.innerHTML=s}(0,a,0,0,0,l)}}}var od=null,id=null;var ad={render:function(){this.get().hot.render()},doSearch:function(){var t=this,e=this.get(),n=e.hot,r=e.search;clearTimeout(id),id=setTimeout((function(){if(n&&r){var e=n.getPlugin("search").query(r);t.set({searchResults:e})}else t.set({searchResults:[]})}),300)},update:function(){var t=this,e=this.get(),n=e.data,r=e.transpose,o=e.firstRowIsHeader,i=e.skipRows,a=e.hot;if(n){var u=this.store.get().dw_chart,s=u.dataset(dw.datasource.delimited({csv:n,transpose:r,firstRowIsHeader:o,skipRows:i}).parse()).dataset();this.set({columnOrder:s.columnOrder()});var c=[[]];s.eachColumn((function(t){return c[0].push(t.title())})),s.eachRow((function(t){var e=[];s.eachColumn((function(n){return e.push(n.raw(t))})),c.push(e)})),a.loadData(c);var f=rd(this,u,s,l.default);a.updateSettings({cells:function(e,n){return{readOnly:t.get().readonly||s.hasColumn(n)&&s.column(n).isComputed&&0===e,renderer:f}},manualColumnMove:[]}),this.set({ds:s}),this.set({has_changes:Yi(chart.get("metadata.data.changes",[])).length>0}),l.default.hooks.once("afterRender",(function(){return t.initCustomEvents()})),l.default.hooks.once("afterRender",(function(){return t.fire("afterRender")})),a.render()}},dataChanged:function(t){var e=this,n=this.get().hot,r=!1;t.forEach((function(t){var o=Q(t,4),i=o[0],a=o[1],u=o[2],s=o[3];if(u!==s){var c=e.store.get().dw_chart,l=e.get().transpose,f=Yi(c.get("metadata.data.changes",[]));if(i=n.toPhysicalRow(i),a=c.dataset().columnOrder()[a],l){var h=i;i=a,a=h}f.push({column:a,row:i,value:s,previous:u,time:(new Date).getTime()}),c.set("metadata.data.changes",f),r=!0}})),r&&setTimeout((function(){e.update(),chart.save()}),100)},columnMoved:function(t,e){var n=this,r=this.get().hot;if(t.length){var o=this.get().columnOrder,i=o.slice(0),a=o[e],u=i.splice(t[0],t.length),s=void 0===a?i.length:a?i.indexOf(a):0;i.splice.apply(i,[s,0].concat(m(u))),this.store.get().dw_chart.set("metadata.data.column-order",i.slice(0)),this.set({columnOrder:i}),l.default.hooks.once("afterRender",(function(){setTimeout((function(){n.fire("resetSort"),r.selectCell(0,s,r.countRows()-1,s+u.length-1)}),10)})),this.update()}},updateHeight:function(){var t=document.querySelector(".ht_master.handsontable .wtHolder .wtHider").getBoundingClientRect().height;this.refs.hot.style.height=Math.min(500,t+10)+"px"},checkRange:function(t,e,n,r){var o=this.get().hot,i=this.get().ds;if(e!==r||0!==t||n!==o.countRows()-1)if(e===r||0!==t||n!==o.countRows()-1)this.set({activeColumn:null,multiSelection:!1});else{for(var a=[],u=Math.min(e,r);u<=Math.max(e,r);u++)a.push(+document.querySelector("#data-preview .htCore tbody tr:first-child td:nth-child(".concat(u+2,")")).dataset.column);this.set({multiSelection:a.map((function(t){return i.column(t)})),activeColumn:null})}},initCustomEvents:function(){var t=this;setTimeout((function(){t.refs.hot.querySelectorAll(".htCore thead th:first-child").forEach((function(t){t.removeEventListener("click",ld),t.addEventListener("click",ld)})),t.refs.hot.querySelectorAll(".htCore thead th+th").forEach((function(t){t.removeEventListener("click",cd),t.addEventListener("click",cd)}))}),500)},getColumnFormat:function(t){return this.store.get().dw_chart.get("metadata.data.column-format",{})[t]||{type:"auto",ignore:!1}}};function ud(){var t=this;od=this,l.default.hooks.once("afterRender",(function(){return t.initCustomEvents()})),window.addEventListener("keyup",(function(e){var n=t.get(),r=n.activeColumn,o=n.ds;if(r&&"input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase()&&("ArrowRight"===e.key||"ArrowLeft"===e.key)){e.preventDefault(),e.stopPropagation();var i=o.indexOf(r.name());"ArrowRight"===e.key?t.set({activeColumn:o.column((i+1)%o.numColumns())}):t.set({activeColumn:o.column((i-1+o.numColumns())%o.numColumns())})}}));var e=this.store.get().dw_chart,n=new l.default(this.refs.hot,{data:[],rowHeaders:function(t){return l.default.hooks.run(n,"modifyRow",t)+1},colHeaders:!0,fixedRowsTop:1,fixedColumnsLeft:this.get().fixedColumnsLeft,filters:!0,startRows:13,startCols:8,fillHandle:!1,stretchH:"all",height:500,manualColumnMove:!0,selectionMode:"range",autoColumnSize:{useHeaders:!0,syncLimit:5},sortIndicator:!0,columnSorting:!0,sortFunction:function(t,n){if(n.col>-1){var r=e.dataset().column(n.col),o=r.type();return function(e,n){return 0===e[0]?-1:(e[1]=r.val(e[0]-1),n[1]=r.val(n[0]-1),"number"===o&&(isNaN(e[1])&&(e[1]=t?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY),isNaN(n[1])&&(n[1]=t?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY)),"date"===o&&("string"==typeof e[1]&&(e[1]=new Date(110,0,1)),"string"==typeof n[1]&&(n[1]=new Date(110,0,1))),("desc"===t?-1:1)*(e[1]>n[1]?1:e[1]<n[1]?-1:0))}}return function(t,e){return t[0]-e[0]}},afterGetColHeader:function(e,n){var r=t.get(),o=r.activeColumn,i=r.ds;i&&i.hasColumn(e)&&((0===e||e)&&o&&i.column(e).name()===o.name()&&n.classList.add("selected"),(0===e||e)&&(t.getColumnFormat(i.column(e).name()).ignore?n.classList.add("ignored"):n.classList.remove("ignored")))},search:"search"});window.HT=n,this.set({hot:n}),l.default.hooks.add("afterSetDataAtCell",(function(e){return t.dataChanged(e)})),l.default.hooks.add("afterColumnMove",(function(e,n){return t.columnMoved(e,n)})),l.default.hooks.add("afterRender",(function(){return t.updateHeight()})),l.default.hooks.add("afterSelection",(function(e,n,r,o){return t.checkRange(e,n,r,o)}))}function sd(t){var e=t.changed,n=t.current,r=t.previous,o=n.hot;if(o){if(e.data&&this.update(),e.firstRowIsHeader&&r&&void 0!==r.firstRowIsHeader&&this.update(),e.hot&&this.update(),e.search&&r&&(this.doSearch(),this.set({searchIndex:0})),e.searchResults&&o.render(),e.currentResult&&n.currentResult){o.render();var i=n.currentResult;o.scrollViewportTo(i.row,i.col),setTimeout((function(){o.scrollViewportTo(i.row,i.col)}),100)}e.activeColumn&&setTimeout((function(){return o.render()}),10),e.fixedColumnsLeft&&o.updateSettings({fixedColumnsLeft:n.fixedColumnsLeft}),e.sorting&&o.getPlugin("columnSorting").sort(chart.dataset().indexOf(n.sorting.sortBy),n.sorting.sortDir?"asc":"desc")}}function cd(t){for(var e=this.parentNode.children.length,n=-1,r=0;r<e;r++)if(this.parentNode.children.item(r)===this){n=r;break}var o=+od.refs.hot.querySelector(".htCore tbody tr:first-child td:nth-child(".concat(n+1,")")).dataset.column,i=od.store.get().dw_chart,a=od.get(),u=a.activeColumn,s=a.hot;if(i.dataset().hasColumn(o)){var c=i.dataset().column(+o);u&&u.name()===c.name()?(t.target.parentNode.classList.remove("selected"),od.set({activeColumn:!1}),s.deselectCell()):(t.target.parentNode.classList.add("selected"),od.set({activeColumn:c}))}}function ld(t){t.preventDefault();var e=od.get().transpose;od.set({transpose:!e}),od.update()}function fd(t){var e=this;G(this,t),this.refs={},this._state=y({hot:null,data:"",readonly:!1,skipRows:0,firstRowIsHeader:!0,fixedColumnsLeft:0,searchIndex:0,sortBy:"-",transpose:!1,activeColumn:null,search:"",searchResults:[]},t.data),this._recompute({searchResults:1,searchIndex:1},this._state),this._intro=!0,this._handlers.state=[sd],sd.call(this,{changed:b({},this._state),current:this._state}),this._fragment=function(t,e){var n;return{c:function(){(n=A("div")).id="data-preview"},m:function(e,r){x(e,n,r),t.refs.hot=n},p:g,d:function(e){e&&N(n),t.refs.hot===n&&(t.refs.hot=null)}}}(this,this._state),this.root._oncreate.push((function(){ud.call(e),e.fire("update",{changed:b({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),q(this))}y(fd.prototype,Z),y(fd.prototype,ad),fd.prototype._recompute=function(t,e){(t.searchResults||t.searchIndex)&&this._differs(e.currentResult,e.currentResult=function(t){var e=t.searchResults,n=t.searchIndex;if(!e||!e.length)return null;var r=e.length;if(n<0||n>=r){for(;n<0;)n+=r;n>r&&(n%=r)}return e[n]}(e))&&(t.currentResult=!0)};var hd={nextResult:function(t){var e=this.get(),n=e.searchIndex,r=e.searchResults;(n+=t)<0&&(n+=r.length),n%=r.length,this.set({searchIndex:n})},keyPress:function(t){"F3"!==t.key&&"Enter"!==t.key||this.nextResult(t.shiftKey?-1:1)},toggleTranspose:function(){var t=this;this.set({activeColumn:!1}),this.set({transpose:!this.get().transpose}),setTimeout((function(){return t.refs.hot.update()}),500)},revertChanges:function(){var t=this.store.get().dw_chart;t.setMetadata("data.changes",[]),t.saveSoon(),this.refs.hot.update()},cmFocus:function(){var t=this;setTimeout((function(){t.refs.hot.get().hot.render()}),100)},addComputedColumn:function(){for(var t=this.store.get().dw_chart,e=t.dataset(),n=tu(t),r=1;e.hasColumn("Column ".concat(r));)r++;var o="Column ".concat(r);n.push({name:o,formula:""}),t.setMetadata("describe.computed-columns",n),t.saveSoon();var i=t.dataset(!0);this.refs.hot.update(),this.set({activeColumn:i.column(o)}),this.store.set({dw_chart:t})},sort:function(t,e,n){t.preventDefault(),t.stopPropagation(),this.set({sortBy:e,sortDir:n}),this.refs.sortDropdownGroup.classList.remove("open")},force:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.preventDefault(),this.set({forceColumnFormat:e})},hideMultiple:function(t,e){var n=this,r=this.store.get().dw_chart,o=Yi(r.get("metadata.data.column-format",{}));t.forEach((function(t){o[t.name()]?o[t.name()].ignore=e:o[t.name()]={type:"auto",ignore:e}})),r.setMetadata("data.column-format",o),r.saveSoon(),setTimeout((function(){n.refs.hot.get().hot.render()}),10),this.set({multiSelection:!1})},afterRender:function(){this.refs.ccEd&&this.refs.ccEd.fire("hotRendered")}};function pd(){var t=this;window.addEventListener("keypress",(function(e){e.ctrlKey&&"f"===e.key&&(e.preventDefault(),t.refs.search!==window.document.activeElement?t.refs.search.focus():t.nextResult(1))}))}function dd(t){var e=this,n=t.changed,r=t.current;n.activeColumn&&!r.activeColumn&&this.set({forceColumnFormat:!1});var o={transpose:"metadata.data.transpose",firstRowIsHeader:"metadata.data.horizontal-header",locale:"language"};Object.keys(o).forEach((function(t){if(n[t]){var i=r[t],a=o[t];if(e.store.get().dw_chart.set("".concat(a),i),"locale"===t){if(!i)return;e.store.get().dw_chart.locale(i,(function(){e.refs.hot.render()}))}}}))}function md(t){var e=this._svelte,n=e.component,r=e.ctx;n.sort(t,r.col.name(),!0)}function vd(t){var e=this._svelte,n=e.component,r=e.ctx;n.sort(t,r.col.name(),!1)}function gd(t){var e=this._svelte,n=e.component,r=e.ctx;n.sort(t,r.col.name(),!0)}function yd(t,e,n){var r=Object.create(t);return r.col=e[n],r}function bd(t,e,n){var r=Object.create(t);return r.locale=e[n],r}function wd(t,e){var n,r,o,i,a,u,s,c=Xi("Make sure the data looks right"),l=Xi("describe / data-looks-right"),f={},h={label:Xi("First row as label")};void 0!==e.firstRowIsHeader&&(h.value=e.firstRowIsHeader,f.value=!0);var p=new Hu({root:t.root,store:t.store,data:h,_bind:function(e,n){var r={};!f.value&&e.value&&(r.firstRowIsHeader=n.value),t._set(r),f={}}});t.root._beforecreate.push((function(){p._bind({value:1},p.get())}));var d=e.showLocale&&Nd(t,e);return{c:function(){n=A("h3"),r=k(c),o=k("\n\n                "),i=A("p"),a=k("\n\n                "),p._fragment.c(),u=k(" "),d&&d.c(),s=S(),n.className="first"},m:function(t,e){x(t,n,e),_(n,r),x(t,o,e),x(t,i,e),i.innerHTML=l,x(t,a,e),p._mount(t,e),x(t,u,e),d&&d.m(t,e),x(t,s,e)},p:function(n,r){e=r;var o={};!f.value&&n.firstRowIsHeader&&(o.value=e.firstRowIsHeader,f.value=void 0!==e.firstRowIsHeader),p._set(o),f={},e.showLocale?d?d.p(n,e):((d=Nd(t,e)).c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null)},d:function(t){t&&(N(n),N(o),N(i),N(a)),p.destroy(t),t&&N(u),d&&d.d(t),t&&N(s)}}}function _d(t,e){var n,r,o,i,a,u,s,c,l,f,h,p,d,m,v,g=Xi("describe / show-hide-multi"),y=Xi("describe / show-selected"),b=Xi("describe / hide-selected");function w(n){t.hideMultiple(e.multiSelection,!1)}function E(n){t.hideMultiple(e.multiSelection,!0)}return{c:function(){n=A("h3"),r=k(g),o=k("\n\n                "),i=A("ul"),a=A("li"),u=A("button"),s=A("i"),c=k(" "),l=k(y),f=k("\n                    "),h=A("li"),p=A("button"),d=A("i"),m=k(" "),v=k(b),n.className="first",s.className="fa fa-eye",C(u,"click",w),u.className="btn",I(a,"margin-bottom","5px"),d.className="fa fa-eye-slash",C(p,"click",E),p.className="btn",i.className="unstyled"},m:function(t,e){x(t,n,e),_(n,r),x(t,o,e),x(t,i,e),_(i,a),_(a,u),_(u,s),_(u,c),_(u,l),_(i,f),_(i,h),_(h,p),_(p,d),_(p,m),_(p,v)},p:function(t,n){e=n},d:function(t){t&&(N(n),N(o),N(i)),T(u,"click",w),T(p,"click",E)}}}function xd(t,e){var n,r;function o(t){return t.customColumn?Ad:t.columnFormat?Md:void 0}var i=o(e),a=i&&i(t,e),u="number"==e.activeColumn.type()&&kd(t,e);return{c:function(){a&&a.c(),n=k(" "),u&&u.c(),r=S()},m:function(t,e){a&&a.m(t,e),x(t,n,e),u&&u.m(t,e),x(t,r,e)},p:function(e,s){i===(i=o(s))&&a?a.p(e,s):(a&&a.d(1),(a=i&&i(t,s))&&a.c(),a&&a.m(n.parentNode,n)),"number"==s.activeColumn.type()?u?u.p(e,s):((u=kd(t,s)).c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d:function(t){a&&a.d(t),t&&N(n),u&&u.d(t),t&&N(r)}}}function Nd(t,e){for(var n,r,o,i,a,u,s=Xi("describe / locale-select / hed"),c=Xi("describe / locale-select / body"),l=!1,f=e.locales,h=[],p=0;p<f.length;p+=1)h[p]=Ed(t,bd(e,f,p));function d(){l=!0,t.set({locale:L(u)}),l=!1}return{c:function(){n=A("h4"),r=k(s),o=k("\n\n                "),i=A("p"),a=k("\n\n                "),u=A("select");for(var c=0;c<h.length;c+=1)h[c].c();C(u,"change",d),"locale"in e||t.root._beforecreate.push(d)},m:function(t,s){x(t,n,s),_(n,r),x(t,o,s),x(t,i,s),i.innerHTML=c,x(t,a,s),x(t,u,s);for(var l=0;l<h.length;l+=1)h[l].m(u,null);F(u,e.locale)},p:function(e,n){if(e.locales){f=n.locales;for(var r=0;r<f.length;r+=1){var o=bd(n,f,r);h[r]?h[r].p(e,o):(h[r]=Ed(t,o),h[r].c(),h[r].m(u,null))}for(;r<h.length;r+=1)h[r].d(1);h.length=f.length}!l&&e.locale&&F(u,n.locale)},d:function(t){t&&(N(n),N(o),N(i),N(a),N(u)),E(h,t),T(u,"change",d)}}}function Ed(t,e){var n,r,o,i,a,u,s=e.locale.label,c=e.locale.value;return{c:function(){n=A("option"),r=k(s),o=k(" ("),i=k(c),a=k(")"),n.__value=u=e.locale.value,n.value=n.__value},m:function(t,e){x(t,n,e),_(n,r),_(n,o),_(n,i),_(n,a)},p:function(t,e){t.locales&&s!==(s=e.locale.label)&&j(r,s),t.locales&&c!==(c=e.locale.value)&&j(i,c),t.locales&&u!==(u=e.locale.value)&&(n.__value=u),n.value=n.__value},d:function(t){t&&N(n)}}}function Md(t,e){var n,r,o={},i={};void 0!==e.columnFormat&&(i.column=e.columnFormat,o.column=!0),void 0!==e.normalColumns&&(i.columns=e.normalColumns,o.columns=!0);var a=new cs({root:t.root,store:t.store,data:i,_bind:function(e,n){var r={};!o.column&&e.column&&(r.columnFormat=n.column),!o.columns&&e.columns&&(r.normalColumns=n.columns),t._set(r),o={}}});t.root._beforecreate.push((function(){a._bind({column:1,columns:1},a.get())})),a.on("updateTable",(function(e){t.refs.hot.update()})),a.on("renderTable",(function(e){t.refs.hot.render()}));var u=e.columnFormat.isComputed&&Od(t);return{c:function(){a._fragment.c(),n=k("\n\n                "),u&&u.c(),r=S()},m:function(t,e){a._mount(t,e),x(t,n,e),u&&u.m(t,e),x(t,r,e)},p:function(n,i){e=i;var s={};!o.column&&n.columnFormat&&(s.column=e.columnFormat,o.column=void 0!==e.columnFormat),!o.columns&&n.normalColumns&&(s.columns=e.normalColumns,o.columns=void 0!==e.normalColumns),a._set(s),o={},e.columnFormat.isComputed?u||((u=Od(t)).c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d:function(t){a.destroy(t),t&&N(n),u&&u.d(t),t&&N(r)}}}function Ad(t,e){var n,r,o,i={},a=Xi("describe / edit-format"),u={};void 0!==e.customColumn&&(u.column=e.customColumn,i.column=!0),void 0!==e.columns&&(u.columns=e.columns,i.columns=!0);var s=new ju({root:t.root,store:t.store,data:u,_bind:function(e,n){var r={};!i.column&&e.column&&(r.customColumn=n.column),!i.columns&&e.columns&&(r.columns=n.columns),t._set(r),i={}}});function c(e){t.force(e,!0)}return t.root._beforecreate.push((function(){s._bind({column:1,columns:1},s.get())})),s.on("updateTable",(function(e){t.refs.hot.update()})),s.on("renderTable",(function(e){t.refs.hot.render()})),s.on("unselect",(function(e){t.set({activeColumn:!1})})),t.refs.ccEd=s,{c:function(){s._fragment.c(),n=k("\n\n                "),r=A("button"),o=k(a),C(r,"click",c),r.className="btn"},m:function(t,e){s._mount(t,e),x(t,n,e),x(t,r,e),_(r,o)},p:function(t,n){e=n;var r={};!i.column&&t.customColumn&&(r.column=e.customColumn,i.column=void 0!==e.customColumn),!i.columns&&t.columns&&(r.columns=e.columns,i.columns=void 0!==e.columns),s._set(r),i={}},d:function(e){s.destroy(e),t.refs.ccEd===s&&(t.refs.ccEd=null),e&&(N(n),N(r)),T(r,"click",c)}}}function Od(t,e){var n,r,o,i,a=Xi("describe / edit-formula");function u(e){t.force(e,!1)}return{c:function(){n=A("button"),r=A("i"),o=k(" "),i=k(a),r.className="fa fa-chevron-left",C(n,"click",u),n.className="btn"},m:function(t,e){x(t,n,e),_(n,r),_(n,o),_(n,i)},d:function(t){t&&N(n),T(n,"click",u)}}}function kd(t,e){var n={},r={};void 0!==e.activeValues&&(r.values=e.activeValues,n.values=!0),void 0!==e.activeFormat&&(r.format=e.activeFormat,n.format=!0);var o=new ql({root:t.root,store:t.store,data:r,_bind:function(e,r){var o={};!n.values&&e.values&&(o.activeValues=r.values),!n.format&&e.format&&(o.activeFormat=r.format),t._set(o),n={}}});return t.root._beforecreate.push((function(){o._bind({values:1,format:1},o.get())})),{c:function(){o._fragment.c()},m:function(t,e){o._mount(t,e)},p:function(t,r){e=r;var i={};!n.values&&t.activeValues&&(i.values=e.activeValues,n.values=void 0!==e.activeValues),!n.format&&t.activeFormat&&(i.format=e.activeFormat,n.format=void 0!==e.activeFormat),o._set(i),n={}},d:function(t){o.destroy(t)}}}function Sd(t,e){var n,r,o,i,a,u,s,c,l,f,h,p=e.col.title();return{c:function(){n=A("li"),r=A("a"),o=A("i"),a=k("\n                                    "),u=A("i"),c=k("   "),l=k(p),o._svelte={component:t,ctx:e},C(o,"click",gd),o.className=i="fa fa-sort-"+("text"==e.col.type()?"alpha":"amount")+"-asc fa-fw svelte-1ymbvw3",u._svelte={component:t,ctx:e},C(u,"click",vd),u.className=s="fa fa-sort-"+("text"==e.col.type()?"alpha":"amount")+"-desc fa-fw svelte-1ymbvw3",r._svelte={component:t,ctx:e},C(r,"click",md),r.href=f="#/"+e.col.name(),r.className="svelte-1ymbvw3",n.className=h=e.col.name()==e.sortBy?"active":""},m:function(t,e){x(t,n,e),_(n,r),_(r,o),_(r,a),_(r,u),_(r,c),_(r,l)},p:function(t,a){e=a,o._svelte.ctx=e,t.normalColumns&&i!==(i="fa fa-sort-"+("text"==e.col.type()?"alpha":"amount")+"-asc fa-fw svelte-1ymbvw3")&&(o.className=i),u._svelte.ctx=e,t.normalColumns&&s!==(s="fa fa-sort-"+("text"==e.col.type()?"alpha":"amount")+"-desc fa-fw svelte-1ymbvw3")&&(u.className=s),t.normalColumns&&p!==(p=e.col.title())&&j(l,p),r._svelte.ctx=e,t.normalColumns&&f!==(f="#/"+e.col.name())&&(r.href=f),(t.normalColumns||t.sortBy)&&h!==(h=e.col.name()==e.sortBy?"active":"")&&(n.className=h)},d:function(t){t&&N(n),T(o,"click",gd),T(u,"click",vd),T(r,"click",md)}}}function Cd(t,e){var n,r,o,i;function a(e){t.nextResult(-1)}function u(e){t.nextResult(1)}return{c:function(){n=A("div"),(r=A("button")).innerHTML='<i class="fa fa-chevron-up"></i>',o=k("\n                            "),(i=A("button")).innerHTML='<i class="fa fa-chevron-down"></i>',C(r,"click",a),r.className="btn svelte-1ymbvw3",C(i,"click",u),i.className="btn svelte-1ymbvw3",n.className="btn-group"},m:function(t,e){x(t,n,e),_(n,r),_(n,o),_(n,i)},d:function(t){t&&N(n),T(r,"click",a),T(i,"click",u)}}}function Td(t,e){var n,r;return{c:function(){n=A("div"),r=k(e.resultsDisplay),n.className="results svelte-1ymbvw3"},m:function(t,e){x(t,n,e),_(n,r)},p:function(t,e){t.resultsDisplay&&j(r,e.resultsDisplay)},d:function(t){t&&N(n)}}}function Rd(t){var e=this;G(this,t),this.refs={},this._state=y(y(this.store._init(["dw_chart"]),{locale:"en-US",search:"",chartData:"",readonly:!1,transpose:!1,firstRowIsHeader:!0,fixedColumnsLeft:0,searchIndex:0,activeColumn:!1,customColumn:!1,columnFormat:!1,multiSelection:!1,forceColumnFormat:!1,searchResults:[],sortBy:"-",sortDir:!0}),t.data),this.store._add(this,["dw_chart"]),this._recompute({searchIndex:1,searchResults:1,activeColumn:1,forceColumnFormat:1,$dw_chart:1,columns:1,sortBy:1,sortDir:1,searchIndexSafe:1},this._state),this._intro=!0,this._handlers.update=[dd],this._handlers.destroy=[J],this._fragment=function(t,e){var n,r,o,i,a,u,s,c,l,f,h,p,d,m,v,g,y,b,w,M,O,S,j,F,L,D,P,H,B,U,$,z,V,W,q,Y,G,K,X,J,Z,Q,tt,et,nt,rt,ot,it,at,ut,st,ct,lt,ft,ht,pt,dt,mt,vt,gt,yt,bt,wt,_t,xt,Nt,Et,Mt=Xi("Back"),At=Xi("Proceed"),Ot=Xi("describe / info-table-header"),kt=Xi("describe / sort-by"),St=Xi("describe / no-sorting"),Ct=!1,Tt={},Rt=Xi("describe / transpose-long"),jt=Xi("computed columns / add-btn"),It=Xi("Revert changes");function Ft(t){return t.activeColumn?xd:t.multiSelection?_d:wd}var Lt=Ft(e),Dt=Lt(t,e);function Pt(e){t.sort(e,"-")}for(var Ht=e.normalColumns,Bt=[],Ut=0;Ut<Ht.length;Ut+=1)Bt[Ut]=Sd(t,yd(e,Ht,Ut));function $t(){Ct=!0,t.set({search:tt.value}),Ct=!1}function zt(e){t.keyPress(e)}var Vt=e.searchResults.length>0&&Cd(t),Wt=e.search&&Td(t,e),qt={};void 0!==e.chartData&&(qt.data=e.chartData,Tt.data=!0),void 0!==e.transpose&&(qt.transpose=e.transpose,Tt.transpose=!0),void 0!==e.firstRowIsHeader&&(qt.firstRowIsHeader=e.firstRowIsHeader,Tt.firstRowIsHeader=!0),void 0!==e.fixedColumnsLeft&&(qt.fixedColumnsLeft=e.fixedColumnsLeft,Tt.fixedColumnsLeft=!0),void 0!==e.activeColumn&&(qt.activeColumn=e.activeColumn,Tt.activeColumn=!0),void 0!==e.readonly&&(qt.readonly=e.readonly,Tt.readonly=!0),void 0!==e.sorting&&(qt.sorting=e.sorting,Tt.sorting=!0),void 0!==e.search&&(qt.search=e.search,Tt.search=!0),void 0!==e.searchResults&&(qt.searchResults=e.searchResults,Tt.searchResults=!0),void 0!==e.searchIndex&&(qt.searchIndex=e.searchIndex,Tt.searchIndex=!0),void 0!==e.multiSelection&&(qt.multiSelection=e.multiSelection,Tt.multiSelection=!0);var Yt=new fd({root:t.root,store:t.store,data:qt,_bind:function(e,n){var r={};!Tt.data&&e.data&&(r.chartData=n.data),!Tt.transpose&&e.transpose&&(r.transpose=n.transpose),!Tt.firstRowIsHeader&&e.firstRowIsHeader&&(r.firstRowIsHeader=n.firstRowIsHeader),!Tt.fixedColumnsLeft&&e.fixedColumnsLeft&&(r.fixedColumnsLeft=n.fixedColumnsLeft),!Tt.activeColumn&&e.activeColumn&&(r.activeColumn=n.activeColumn),!Tt.readonly&&e.readonly&&(r.readonly=n.readonly),!Tt.sorting&&e.sorting&&(r.sorting=n.sorting),!Tt.search&&e.search&&(r.search=n.search),!Tt.searchResults&&e.searchResults&&(r.searchResults=n.searchResults),!Tt.searchIndex&&e.searchIndex&&(r.searchIndex=n.searchIndex),!Tt.multiSelection&&e.multiSelection&&(r.multiSelection=n.multiSelection),t._set(r),Tt={}}});function Gt(e){t.toggleTranspose()}function Kt(e){t.addComputedColumn()}function Xt(e){t.revertChanges()}return t.root._beforecreate.push((function(){Yt._bind({data:1,transpose:1,firstRowIsHeader:1,fixedColumnsLeft:1,activeColumn:1,readonly:1,sorting:1,search:1,searchResults:1,searchIndex:1,multiSelection:1},Yt.get())})),Yt.on("resetSort",(function(e){t.set({sortBy:"-"})})),Yt.on("afterRender",(function(e){t.afterRender()})),t.refs.hot=Yt,{c:function(){n=A("div"),r=A("div"),o=A("div"),i=A("div"),Dt.c(),a=k("\n\n                "),u=A("hr"),s=k("\n\n                "),c=A("div"),l=A("a"),f=A("i"),h=k(" "),p=k(Mt),d=k("\n                    "),m=A("a"),v=k(At),g=k(" "),y=A("i"),b=k("\n        "),w=A("div"),M=A("div"),O=A("noscript"),S=k("\n                "),j=A("img"),F=k("\n            "),L=A("div"),D=A("div"),P=A("div"),H=A("button"),B=A("noscript"),U=k("… "),$=A("span"),z=k("\n                        "),V=A("ul"),W=A("li"),q=A("a"),G=k("\n                            ");for(var t=0;t<Bt.length;t+=1)Bt[t].c();K=k("\n\n                "),X=A("div"),J=A("i"),Z=k("\n                    "),Q=A("div"),tt=A("input"),nt=k("\n                        "),Vt&&Vt.c(),ot=k("\n\n                    "),Wt&&Wt.c(),it=k("\n\n            "),Yt._fragment.c(),at=k("\n\n            "),ut=A("div"),st=A("button"),ct=A("img"),lt=k("\n                    "),ft=k(Rt),ht=k("\n\n                "),pt=A("button"),dt=A("i"),mt=k(" "),vt=k(jt),gt=k("…"),yt=k("\n\n                "),bt=A("button"),wt=A("i"),_t=k(" "),xt=k(It),Nt=k("…"),f.className="icon-chevron-left",l.className="btn submit",l.href="upload",y.className="icon-chevron-right icon-white",m.href="visualize",m.className="submit btn btn-primary",m.id="describe-proceed",c.className="btn-group",i.className="sidebar",o.className="span4",j.alt="arrow",j.src="/static/img/arrow.svg",M.className="help svelte-1ymbvw3",$.className="caret",H.className="btn dropdown-toggle",H.dataset.toggle="dropdown",C(q,"click",Pt),q.href="#s",q.className="svelte-1ymbvw3",W.className=Y="-"==e.sortBy?"active":"",V.className="dropdown-menu sort-menu",P.className="btn-group",D.className="sort-box svelte-1ymbvw3",J.className="im im-magnifier svelte-1ymbvw3",C(tt,"input",$t),C(tt,"keypress",zt),tt.autocomplete="screw-you-google-chrome",R(tt,"type","search"),tt.placeholder=Xi("describe / search / placeholder"),tt.className=et=(e.searchResults.length>0?"with-results":"")+" search-query svelte-1ymbvw3",Q.className=rt=e.searchResults.length>0?"input-append":"",X.className="search-box form-search svelte-1ymbvw3",L.className="pull-right",I(L,"margin-bottom","10px"),ct.alt="transpose",ct.src="/static/css/chart-editor/transpose.png",ct.className="svelte-1ymbvw3",C(st,"click",Gt),st.className="btn transpose svelte-1ymbvw3",dt.className="fa fa-calculator",C(pt,"click",Kt),pt.className="btn computed-columns",wt.className="fa fa-undo",C(bt,"click",Xt),bt.className=Et="btn "+(e.has_changes?"":"disabled")+" svelte-1ymbvw3",bt.id="reset-data-changes",ut.className="buttons below-table pull-right svelte-1ymbvw3",w.className="span8 svelte-1ymbvw3",r.className="row",n.className="chart-editor"},m:function(N,E){x(N,n,E),_(n,r),_(r,o),_(o,i),Dt.m(i,null),_(i,a),_(i,u),_(i,s),_(i,c),_(c,l),_(l,f),_(l,h),_(l,p),_(c,d),_(c,m),_(m,v),_(m,g),_(m,y),_(r,b),_(r,w),_(w,M),_(M,O),O.insertAdjacentHTML("beforebegin",Ot),_(M,S),_(M,j),_(w,F),_(w,L),_(L,D),_(D,P),_(P,H),_(H,B),B.insertAdjacentHTML("beforebegin",kt),_(H,U),_(H,$),_(P,z),_(P,V),_(V,W),_(W,q),q.innerHTML=St,_(V,G);for(var A=0;A<Bt.length;A+=1)Bt[A].m(V,null);t.refs.sortDropdownGroup=P,_(L,K),_(L,X),_(X,J),_(X,Z),_(X,Q),_(Q,tt),t.refs.search=tt,tt.value=e.search,_(Q,nt),Vt&&Vt.m(Q,null),_(X,ot),Wt&&Wt.m(X,null),_(w,it),Yt._mount(w,null),_(w,at),_(w,ut),_(ut,st),_(st,ct),_(st,lt),_(st,ft),_(ut,ht),_(ut,pt),_(pt,dt),_(pt,mt),_(pt,vt),_(pt,gt),_(ut,yt),_(ut,bt),_(bt,wt),_(bt,_t),_(bt,xt),_(bt,Nt)},p:function(n,r){if(Lt===(Lt=Ft(e=r))&&Dt?Dt.p(n,e):(Dt.d(1),(Dt=Lt(t,e)).c(),Dt.m(i,a)),n.sortBy&&Y!==(Y="-"==e.sortBy?"active":"")&&(W.className=Y),n.normalColumns||n.sortBy){Ht=e.normalColumns;for(var o=0;o<Ht.length;o+=1){var u=yd(e,Ht,o);Bt[o]?Bt[o].p(n,u):(Bt[o]=Sd(t,u),Bt[o].c(),Bt[o].m(V,null))}for(;o<Bt.length;o+=1)Bt[o].d(1);Bt.length=Ht.length}!Ct&&n.search&&(tt.value=e.search),n.searchResults&&et!==(et=(e.searchResults.length>0?"with-results":"")+" search-query svelte-1ymbvw3")&&(tt.className=et),e.searchResults.length>0?Vt||((Vt=Cd(t)).c(),Vt.m(Q,null)):Vt&&(Vt.d(1),Vt=null),n.searchResults&&rt!==(rt=e.searchResults.length>0?"input-append":"")&&(Q.className=rt),e.search?Wt?Wt.p(n,e):((Wt=Td(t,e)).c(),Wt.m(X,null)):Wt&&(Wt.d(1),Wt=null);var s={};!Tt.data&&n.chartData&&(s.data=e.chartData,Tt.data=void 0!==e.chartData),!Tt.transpose&&n.transpose&&(s.transpose=e.transpose,Tt.transpose=void 0!==e.transpose),!Tt.firstRowIsHeader&&n.firstRowIsHeader&&(s.firstRowIsHeader=e.firstRowIsHeader,Tt.firstRowIsHeader=void 0!==e.firstRowIsHeader),!Tt.fixedColumnsLeft&&n.fixedColumnsLeft&&(s.fixedColumnsLeft=e.fixedColumnsLeft,Tt.fixedColumnsLeft=void 0!==e.fixedColumnsLeft),!Tt.activeColumn&&n.activeColumn&&(s.activeColumn=e.activeColumn,Tt.activeColumn=void 0!==e.activeColumn),!Tt.readonly&&n.readonly&&(s.readonly=e.readonly,Tt.readonly=void 0!==e.readonly),!Tt.sorting&&n.sorting&&(s.sorting=e.sorting,Tt.sorting=void 0!==e.sorting),!Tt.search&&n.search&&(s.search=e.search,Tt.search=void 0!==e.search),!Tt.searchResults&&n.searchResults&&(s.searchResults=e.searchResults,Tt.searchResults=void 0!==e.searchResults),!Tt.searchIndex&&n.searchIndex&&(s.searchIndex=e.searchIndex,Tt.searchIndex=void 0!==e.searchIndex),!Tt.multiSelection&&n.multiSelection&&(s.multiSelection=e.multiSelection,Tt.multiSelection=void 0!==e.multiSelection),Yt._set(s),Tt={},n.has_changes&&Et!==(Et="btn "+(e.has_changes?"":"disabled")+" svelte-1ymbvw3")&&(bt.className=Et)},d:function(e){e&&N(n),Dt.d(),T(q,"click",Pt),E(Bt,e),t.refs.sortDropdownGroup===P&&(t.refs.sortDropdownGroup=null),T(tt,"input",$t),T(tt,"keypress",zt),t.refs.search===tt&&(t.refs.search=null),Vt&&Vt.d(),Wt&&Wt.d(),Yt.destroy(),t.refs.hot===Yt&&(t.refs.hot=null),T(st,"click",Gt),T(pt,"click",Kt),T(bt,"click",Xt)}}}(this,this._state),this.root._oncreate.push((function(){pd.call(e),e.fire("update",{changed:b({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),q(this))}function jd(t,e){this._handlers={},this._dependents=[],this._computed=$(),this._sortedComputedProperties=[],this._state=y({},t),this._differs=e&&e.immutable?V:z}y(Rd.prototype,Z),y(Rd.prototype,hd),Rd.prototype._recompute=function(t,e){var n,r,o,i,a,u,s;(t.searchIndex||t.searchResults)&&this._differs(e.searchIndexSafe,e.searchIndexSafe=(r=(n=e).searchIndex,o=n.searchResults,r<0&&(r+=o.length),r%=o.length))&&(t.searchIndexSafe=!0),(t.activeColumn||t.forceColumnFormat)&&(this._differs(e.customColumn,e.customColumn=(a=(i=e).activeColumn,u=i.forceColumnFormat,!(!a||u||!a.isComputed)&&a))&&(t.customColumn=!0),this._differs(e.columnFormat,e.columnFormat=function(t){var e=t.activeColumn,n=t.forceColumnFormat;return!(!e||e.isComputed&&!n)&&e}(e))&&(t.columnFormat=!0)),t.activeColumn&&this._differs(e.activeValues,e.activeValues=function(t){var e=t.activeColumn;return e?e.values():[]}(e))&&(t.activeValues=!0),(t.activeColumn||t.$dw_chart)&&this._differs(e.activeFormat,e.activeFormat=function(t){var e=t.activeColumn,n=t.$dw_chart;return e?nd(e,n.get().metadata,e.name()):function(t){return t}}(e))&&(t.activeFormat=!0),t.activeColumn&&this._differs(e.columns,e.columns=function(t){t.activeColumn;var e=chart.dataset();return e?e.columns():[]}(e))&&(t.columns=!0),t.columns&&this._differs(e.normalColumns,e.normalColumns=e.columns.filter((function(t){return!t.isComputed})))&&(t.normalColumns=!0),(t.sortBy||t.sortDir)&&this._differs(e.sorting,e.sorting={sortBy:(s=e).sortBy,sortDir:s.sortDir})&&(t.sorting=!0),(t.searchResults||t.searchIndexSafe)&&this._differs(e.resultsDisplay,e.resultsDisplay=function(t){var e=t.searchResults,n=t.searchIndexSafe;return e.length>0?"".concat(n+1," ").concat(Xi("describe / search / of")," ").concat(e.length," ").concat(Xi("describe / search / results")):Xi("describe / search / no-matches")}(e))&&(t.resultsDisplay=!0)},y(jd.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n];e["$"+r]=this._state[r]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var n=this,r=this._state;this._state=y(y({},r),t);for(var o=0;o<this._sortedComputedProperties.length;o+=1)this._sortedComputedProperties[o].update(this._state,e);this.fire("state",{changed:e,previous:r,current:this._state}),this._dependents.filter((function(t){for(var r={},o=!1,i=0;i<t.props.length;i+=1){var a=t.props[i];a in e&&(r["$"+a]=n._state[a],o=!0)}if(o)return t.component._stage(r),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:r,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],r=$();function o(i){var a=e[i];a&&(a.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(i));o(e)})),r[i]||(r[i]=!0,n.push(a)))}for(var i in this._computed)o(t=i)},compute:function(t,e,n){var r,o=this,i={deps:e,update:function(i,a,u){var s=e.map((function(t){return t in a&&(u=!0),i[t]}));if(u){var c=n.apply(null,s);o._differs(c,r)&&(r=c,a[t]=!0,i[t]=r)}}};this._computed[t]=i,this._sortComputedProperties();var a=y({},this._state),u={};i.update(a,u,!0),this._set(a,u)},fire:W,get:Y,on:K,set:function(t){var e=this._state,n=this._changed={},r=!1;for(var o in t){if(this._computed[o])throw new Error("'".concat(o,"' is a read-only computed property"));this._differs(t[o],e[o])&&(n[o]=r=!0)}r&&this._set(t,n)}});return{App:Rd,data:{chart:{id:""},readonly:!1,chartData:"",transpose:!1,firstRowIsHeader:!0,skipRows:0},store:new jd({})}}));
