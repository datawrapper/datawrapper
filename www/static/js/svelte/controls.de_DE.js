!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("chroma")):"function"==typeof define&&define.amd?define(["chroma"],t):e.controls=t(e.chroma)}(this,function(e){"use strict";function t(){}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){t.appendChild(e)}function i(e,t,n){t.insertBefore(e,n)}function a(e){e.parentNode.removeChild(e)}function c(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function l(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function s(e){for(var t=0;t<e.length;t+=1)e[t]&&e[t].d()}function r(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function h(){return document.createComment("")}function f(e,t,n){e.addEventListener(t,n,!1)}function d(e,t,n){e.removeEventListener(t,n,!1)}function v(e,t,n){e.setAttribute(t,n)}function p(e){return""===e?void 0:+e}function m(e,t,n){e.style.setProperty(t,n)}function g(e,t){for(var n=0;n<e.options.length;n+=1){var o=e.options[n];if(o.__value===t)return void(o.selected=!0)}}function b(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function x(e){this.destroy=t,this.fire("destroy"),this.set=this.get=t,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function k(e,t){e._handlers=Object.create(null),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function y(e){for(;e&&e.length;)e.shift()()}function N(){this.store._remove(this)}e=e&&e.hasOwnProperty("default")?e.default:e;var C,M={destroy:x,get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var o=0;o<n.length;o+=1){var i=n[o];i.__calling||(i.__calling=!0,i.call(this,t),i.__calling=!1)}},observe:function(e,t,n){var o=t.bind(this);return n&&!1===n.init||o(this.get()[e],void 0),this.on(n&&n.defer?"update":"state",function(t){t.changed[e]&&o(t.current[e],t.previous&&t.previous[e])})},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){this._set(n({},e)),this.root._lock||(this.root._lock=!0,y(this.root._beforecreate),y(this.root._oncreate),y(this.root._aftercreate),this.root._lock=!1)},teardown:x,_recompute:t,_set:function(e){var t=this._state,o={},i=!1;for(var a in e)this._differs(e[a],t[a])&&(o[a]=i=!0);i&&(this._state=n(n({},t),e),this._recompute(o,this._state),this._bind&&this._bind(o,this._state),this._fragment&&(this.fire("state",{changed:o,current:this._state,previous:t}),this._fragment.p(o,this._state),this.fire("update",{changed:o,current:this._state,previous:t})))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}};function w(e){k(this,e),this._state=n({disabled:!1},e.data),this._fragment=function(e,t){var n,c,l,s,h,_;function p(){e.set({value:l.checked})}return{c:function(){n=r("div"),c=r("label"),l=r("input"),s=u(" "),h=u(t.label),this.h()},h:function(){f(l,"change",p),v(l,"type","checkbox"),l.disabled=t.disabled,l.className="svelte-llolt7",c.className=_="checkbox "+(t.disabled?"disabled":"")+" svelte-llolt7",n.className="control-group vis-option-group vis-option-type-checkbox"},m:function(e,a){i(n,e,a),o(c,n),o(l,c),l.checked=t.value,o(s,c),o(h,c)},p:function(e,t){l.checked=t.value,e.disabled&&(l.disabled=t.disabled),e.label&&(h.data=t.label),e.disabled&&_!==(_="checkbox "+(t.disabled?"disabled":"")+" svelte-llolt7")&&(c.className=_)},u:function(){a(n)},d:function(){d(l,"change",p)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}n(w.prototype,M);var H={bodyClick:function(e){if(C.get){var t=C.get().visible,n=e.target;if(t){for(;!n.classList.contains("color-picker-cont")&&"body"!=n.nodeName.toLowerCase();)n=n.parentNode;C.set({visible:n!=window.document.body})}}}};function L(){window.document.body.removeEventListener("click",this.bodyClick)}function $(t,n){var o=-1,i=999999;return t[0]==t[1]?"-":(t.forEach(function(t,a){var c=e.distance(t,n,"lab");c<i&&(i=c,o=a)}),t[o])}function T(e,t,n,o,i){var a=[e],c=t/n,l=0;for(o=_.isUndefined(o)?n:o,i=i||1;n-- >0;)l+=c,a.unshift(e-l),o-- >0&&a.push(e+l);return a}function Y(e,t){var n,o,c=t.c;t.each_value,t.c_index;return{c:function(){n=r("div"),this.h()},h:function(){f(n,"click",O),f(n,"dblclick",S),n.className="color",n.dataset.color=o=c,m(n,"background",c),n._svelte={component:e,each_value:t.each_value,c_index:t.c_index}},m:function(e,t){i(n,e,t)},p:function(e,t){c=t.c,t.each_value,t.c_index,e.palette&&o!==(o=c)&&(n.dataset.color=o),e.palette&&m(n,"background",c),n._svelte.each_value=t.each_value,n._svelte.c_index=t.c_index},u:function(){a(n)},d:function(){d(n,"click",O),d(n,"dblclick",S)}}}function K(e,t){var n,o,c,l=t.c;t.each_value_1,t.c_index_1;return{c:function(){n=r("div"),this.h()},h:function(){f(n,"click",E),n.className=o="color "+(l==t.nearest_l?"selected":"")+" svelte-sffwrd",n.dataset.color=c=l,m(n,"background",l),n._svelte={component:e,each_value_1:t.each_value_1,c_index_1:t.c_index_1}},m:function(e,t){i(n,e,t)},p:function(e,t){l=t.c,t.each_value_1,t.c_index_1,(e.gradient_l||e.nearest_l)&&o!==(o="color "+(l==t.nearest_l?"selected":"")+" svelte-sffwrd")&&(n.className=o),e.gradient_l&&c!==(c=l)&&(n.dataset.color=c),e.gradient_l&&m(n,"background",l),n._svelte.each_value_1=t.each_value_1,n._svelte.c_index_1=t.c_index_1},u:function(){a(n)},d:function(){d(n,"click",E)}}}function j(e,t){var n,o,c,l=t.c;t.each_value_2,t.c_index_2;return{c:function(){n=r("div"),this.h()},h:function(){f(n,"click",F),n.className=o="color "+(l==t.nearest_c?"selected":"")+" svelte-sffwrd",n.dataset.color=c=l,m(n,"background",l),n._svelte={component:e,each_value_2:t.each_value_2,c_index_2:t.c_index_2}},m:function(e,t){i(n,e,t)},p:function(e,t){l=t.c,t.each_value_2,t.c_index_2,(e.gradient_c||e.nearest_c)&&o!==(o="color "+(l==t.nearest_c?"selected":"")+" svelte-sffwrd")&&(n.className=o),e.gradient_c&&c!==(c=l)&&(n.dataset.color=c),e.gradient_c&&m(n,"background",l),n._svelte.each_value_2=t.each_value_2,n._svelte.c_index_2=t.c_index_2},u:function(){a(n)},d:function(){d(n,"click",F)}}}function z(e,t){var n,o,c,l=t.c;t.each_value_3,t.c_index_3;return{c:function(){n=r("div"),this.h()},h:function(){f(n,"click",Q),n.className=o="color "+(l==t.nearest_h?"selected":"")+" svelte-sffwrd",n.dataset.color=c=l,m(n,"background",l),n._svelte={component:e,each_value_3:t.each_value_3,c_index_3:t.c_index_3}},m:function(e,t){i(n,e,t)},p:function(e,t){l=t.c,t.each_value_3,t.c_index_3,(e.gradient_h||e.nearest_h)&&o!==(o="color "+(l==t.nearest_h?"selected":"")+" svelte-sffwrd")&&(n.className=o),e.gradient_h&&c!==(c=l)&&(n.dataset.color=c),e.gradient_h&&m(n,"background",l),n._svelte.each_value_3=t.each_value_3,n._svelte.c_index_3=t.c_index_3},u:function(){a(n)},d:function(){d(n,"click",Q)}}}function A(e,t){for(var c,l,h,_,p,g,b,x,k,y,N,C,M,w,H,L=!1,$=t.palette,T=[],A=0;A<$.length;A+=1)T[A]=Y(e,n(n({},t),{each_value:$,c:$[A],c_index:A}));var O=t.gradient_l,S=[];for(A=0;A<O.length;A+=1)S[A]=K(e,n(n({},t),{each_value_1:O,c:O[A],c_index_1:A}));var E=t.gradient_c,F=[];for(A=0;A<E.length;A+=1)F[A]=j(e,n(n({},t),{each_value_2:E,c:E[A],c_index_2:A}));var Q=t.gradient_h,D=[];for(A=0;A<Q.length;A+=1)D[A]=z(e,n(n({},t),{each_value_3:Q,c:Q[A],c_index_3:A}));function G(){L=!0,e.set({color:N.value}),L=!1}function P(t){e.set({visible:!1})}return{c:function(){c=r("div"),l=r("div");for(var e=0;e<T.length;e+=1)T[e].c();h=u("\n\n        "),_=r("div");for(e=0;e<S.length;e+=1)S[e].c();p=u("\n        "),g=r("div");for(e=0;e<F.length;e+=1)F[e].c();b=u("\n        "),x=r("div");for(e=0;e<D.length;e+=1)D[e].c();k=u("\n\n        "),y=r("div"),N=r("input"),C=u("\n            "),(M=r("button")).innerHTML='<i class="icon-ok"></i>',w=u("\n            "),H=r("div"),this.h()},h:function(){l.className="palette",_.className="color-axis lightness",g.className="color-axis saturation",x.className="color-axis hue",f(N,"input",G),v(N,"type","text"),m(N,"background",t.color),m(N,"border-color",t.borderColor),m(N,"color",t.textColor),N.className="hex svelte-sffwrd",f(M,"click",P),M.className="btn btn-small ok",H.className="color selected",m(H,"background",t.color),y.className="footer",c.className="color-selector"},m:function(e,n){i(c,e,n),o(l,c);for(var a=0;a<T.length;a+=1)T[a].m(l,null);o(h,c),o(_,c);for(a=0;a<S.length;a+=1)S[a].m(_,null);o(p,c),o(g,c);for(a=0;a<F.length;a+=1)F[a].m(g,null);o(b,c),o(x,c);for(a=0;a<D.length;a+=1)D[a].m(x,null);o(k,c),o(y,c),o(N,y),N.value=t.color,o(C,y),o(M,y),o(w,y),o(H,y)},p:function(t,o){var i=o.palette;if(t.palette){for(var a=0;a<i.length;a+=1){var c=n(n({},o),{each_value:i,c:i[a],c_index:a});T[a]?T[a].p(t,c):(T[a]=Y(e,c),T[a].c(),T[a].m(l,null))}for(;a<T.length;a+=1)T[a].u(),T[a].d();T.length=i.length}var s=o.gradient_l;if(t.gradient_l||t.nearest_l){for(a=0;a<s.length;a+=1){var r=n(n({},o),{each_value_1:s,c:s[a],c_index_1:a});S[a]?S[a].p(t,r):(S[a]=K(e,r),S[a].c(),S[a].m(_,null))}for(;a<S.length;a+=1)S[a].u(),S[a].d();S.length=s.length}var u=o.gradient_c;if(t.gradient_c||t.nearest_c){for(a=0;a<u.length;a+=1){var h=n(n({},o),{each_value_2:u,c:u[a],c_index_2:a});F[a]?F[a].p(t,h):(F[a]=j(e,h),F[a].c(),F[a].m(g,null))}for(;a<F.length;a+=1)F[a].u(),F[a].d();F.length=u.length}var f=o.gradient_h;if(t.gradient_h||t.nearest_h){for(a=0;a<f.length;a+=1){var d=n(n({},o),{each_value_3:f,c:f[a],c_index_3:a});D[a]?D[a].p(t,d):(D[a]=z(e,d),D[a].c(),D[a].m(x,null))}for(;a<D.length;a+=1)D[a].u(),D[a].d();D.length=f.length}L||(N.value=o.color),t.color&&m(N,"background",o.color),t.borderColor&&m(N,"border-color",o.borderColor),t.textColor&&m(N,"color",o.textColor),t.color&&m(H,"background",o.color)},u:function(){a(c);for(var e=0;e<T.length;e+=1)T[e].u();for(e=0;e<S.length;e+=1)S[e].u();for(e=0;e<F.length;e+=1)F[e].u();for(e=0;e<D.length;e+=1)D[e].u()},d:function(){s(T),s(S),s(F),s(D),d(N,"input",G),d(M,"click",P)}}}function O(e){var t=this._svelte.component,n=this._svelte.each_value[this._svelte.c_index];t.set({color:n})}function S(e){var t=this._svelte.component,n=this._svelte.each_value[this._svelte.c_index];t.set({color:n,visible:!1})}function E(e){var t=this._svelte.component,n=this._svelte.each_value_1[this._svelte.c_index_1];t.set({color:n})}function F(e){var t=this._svelte.component,n=this._svelte.each_value_2[this._svelte.c_index_2];t.set({color:n})}function Q(e){var t=this._svelte.component,n=this._svelte.each_value_3[this._svelte.c_index_3];t.set({color:n})}function D(e){k(this,e),this._state=n({palette:[],color:"#63c0de",visible:!1},e.data),this._recompute({color:1,palette:1,gradient_l:1,gradient_c:1,gradient_h:1},this._state),this._handlers.destroy=[L];var t=this;e.root||(this._oncreate=[]),this._fragment=function(e,t){var n,c,l;function s(t){e.set({visible:!0})}var h=t.visible&&t.color&&A(e,t);return{c:function(){n=r("div"),(c=r("div")).innerHTML='<div class="arrow"></div>',l=u("\n    "),h&&h.c(),this.h()},h:function(){f(c,"click",s),c.className="base-color-picker color-picker",m(c,"background",t.color+" none repeat scroll 0% 0%"),n.className="color-picker-cont svelte-sffwrd"},m:function(e,t){i(n,e,t),o(c,n),o(l,n),h&&h.m(n,null)},p:function(t,o){t.color&&m(c,"background",o.color+" none repeat scroll 0% 0%"),o.visible&&o.color?h?h.p(t,o):((h=A(e,o)).c(),h.m(n,null)):h&&(h.u(),h.d(),h=null)},u:function(){a(n),h&&h.u()},d:function(){d(c,"click",s),h&&h.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this;e.observe("color",function(t,n){e.get().visible&&t!=n&&e.fire("change",t)}),C=this,window.document.body.addEventListener("click",this.bodyClick)}).call(t),t.fire("update",{changed:{color:1,palette:1,gradient_l:1,gradient_c:1,gradient_h:1,visible:1,nearest_l:1,nearest_c:1,nearest_h:1,borderColor:1,textColor:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),y(this._oncreate))}function G(e,t,n,o,i){return e&&t?(n?_.unique(e.axes(!0)[n].values()):e.colorKeys?e.colorKeys():e.keys()).map(function(e){var t;return t=e,{key:e=dw.utils.purifyHtml(t,""),defined:void 0!==o[e],color:void 0!==o[e]?I(o[e],i):"#cccccc"}}):[]}n(D.prototype,M),n(D.prototype,H),D.prototype._recompute=function(t,n){var o,i,a;t.color&&this._differs(n.gradient_l,n.gradient_l=(o=n.color,i=e(o).lch(),a=T(70,55,7,6).map(function(t){return e.lch(t,i[1],i[2]).hex()}),e.scale(["#000000"].concat(a).concat("#ffffff")).mode("lch").gamma(.8).padding(.1).colors(14)))&&(t.gradient_l=!0),(t.color||t.palette)&&this._differs(n.gradient_c,n.gradient_c=function(t,n){var o=e(t).set("lch.c",120);isNaN(o.get("lch.h"))&&(o=e.lch(o.get("lch.l"),50,e(n[0]).get("lch.h")));var i=e(t).set("lch.c",3);return e.scale([i,o]).mode("lch").gamma(1.2).colors(14)}(n.color,n.palette))&&(t.gradient_c=!0),t.color&&this._differs(n.gradient_h,n.gradient_h=function(t){var n=e(t).lch(),o=T(n[2],75,7,6).map(function(t){return e.lch(n[0],n[1],t).hex()});return e.scale(o).mode("lch").colors(14)}(n.color))&&(t.gradient_h=!0),(t.color||t.gradient_l)&&this._differs(n.nearest_l,n.nearest_l=function(e,t){return $(t,e)}(n.color,n.gradient_l))&&(t.nearest_l=!0),(t.color||t.gradient_c)&&this._differs(n.nearest_c,n.nearest_c=function(e,t){return $(t,e)}(n.color,n.gradient_c))&&(t.nearest_c=!0),(t.color||t.gradient_h)&&this._differs(n.nearest_h,n.nearest_h=function(e,t){return $(t,e)}(n.color,n.gradient_h))&&(t.nearest_h=!0),t.color&&(this._differs(n.textColor,n.textColor=function(t){return e(t).get("lab.l")>60?"black":"white"}(n.color))&&(t.textColor=!0),this._differs(n.borderColor,n.borderColor=function(t){return e(t).darker().hex()}(n.color))&&(t.borderColor=!0))};var P={update:function(e){var t=this.get().palette;this.set({value:q(e,t)})},updateCustom:function(e){var t=this.get(),n=t.selected,o=t.palette,i=t.custom;n.forEach(function(t){return i[t]=q(e,o)}),this.set({custom:i})},toggle:function(e){e.preventDefault(),this.set({expanded:!this.get("expanded")})},toggleSelect:function(e,t){t.preventDefault();var n=this.get().selected,o=n.indexOf(e);t.shiftKey?o>-1?n.splice(o,1):n.push(e):(n.length=1,n[0]=e),this.set({selected:n})},getColor:function(e){return I(e,this.get().palette)},reset:function(){var e=this.get(),t=e.selected,n=e.custom;t.forEach(function(e){return delete n[e]}),this.set({custom:n})},resetAll:function(){var e=this.get().custom;Object.keys(e).forEach(function(t){return delete e[t]}),this.set({custom:e})},selectAll:function(e){e.preventDefault();var t=this.get(),n=t.selected;t.colorKeys.forEach(function(e){n.indexOf(e.key)<0&&n.push(e.key)}),this.set({selected:n})},selectNone:function(e){e.preventDefault();var t=this.get().selected;t.length=0,this.set({selected:t})},selectInvert:function(e){e.preventDefault();var t=this.get(),n=t.selected,o=t.colorKeys;console.log(n),o.forEach(function(e){var t=n.indexOf(e.key);t<0?n.push(e.key):n.splice(t,1)}),console.log(n),this.set({selected:n})}};function q(e,t){var n=t.indexOf(e);return n>-1?n:e}function I(e,t){return"number"==typeof e?t[e%t.length]:e}function R(e,t){var n={},o={color:t.hexColor,palette:t.palette};"open"in t&&(o.visible=t.open,n.visible=!0);var i=new D({root:e.root,data:o,_bind:function(t,o){e.get();var i={};!n.visible&&t.visible&&(i.open=o.visible),e._set(i),n={}}});return e.root._beforecreate.push(function(){i._bind({visible:1},i.get())}),i.on("change",function(t){e.update(t)}),{c:function(){i._fragment.c()},m:function(e,t){i._mount(e,t)},p:function(e,t){var o={};e.hexColor&&(o.color=t.hexColor),e.palette&&(o.palette=t.palette),!n.visible&&e.open&&(o.visible=t.open,n.visible=!0),i._set(o),n={}},u:function(){i._unmount()},d:function(){i.destroy(!1)}}}function B(e,t){var n,c,l;function s(t){e.toggle(t)}return{c:function(){n=r("span"),(c=r("a")).textContent="customize colors...",this.h()},h:function(){f(c,"click",s),c.href="#customize",c.className=l="btn btn-small custom "+(t.expanded?"btn-primary":""),v(c,"role","button"),n.className="custom-color-selector-head"},m:function(e,t){i(n,e,t),o(c,n)},p:function(e,t){e.expanded&&l!==(l="btn btn-small custom "+(t.expanded?"btn-primary":""))&&(c.className=l)},u:function(){a(n)},d:function(){d(c,"click",s)}}}function U(e,t){var n,c,l,s,h,_,v,p,g=t.k,b=(t.each_value,t.k_index,g.defined?"":"×"),x=g.key;return{c:function(){n=r("li"),c=r("div"),l=u(b),s=u("\n                    "),h=r("label"),_=u(x),this.h()},h:function(){c.className="color",m(c,"background",g.color),f(n,"click",X),n.className=v=t.selected.indexOf(g.key)>-1?"selected":"",n.dataset.series=p=g.key,n._svelte={component:e,each_value:t.each_value,k_index:t.k_index}},m:function(e,t){i(n,e,t),o(c,n),o(l,c),o(s,n),o(h,n),o(_,h)},p:function(e,t){g=t.k,t.each_value,t.k_index,e.colorKeys&&b!==(b=g.defined?"":"×")&&(l.data=b),e.colorKeys&&m(c,"background",g.color),e.colorKeys&&x!==(x=g.key)&&(_.data=x),(e.selected||e.colorKeys)&&v!==(v=t.selected.indexOf(g.key)>-1?"selected":"")&&(n.className=v),e.colorKeys&&p!==(p=g.key)&&(n.dataset.series=p),n._svelte.each_value=t.each_value,n._svelte.k_index=t.k_index},u:function(){a(n)},d:function(){d(n,"click",X)}}}function J(e,t){var n,c,l,s={},h={color:t.customColor,palette:t.palette};"openCustom"in t&&(h.visible=t.openCustom,s.visible=!0);var _=new D({root:e.root,data:h,_bind:function(t,n){e.get();var o={};!s.visible&&t.visible&&(o.openCustom=n.visible),e._set(o),s={}}});function v(t){e.reset()}return e.root._beforecreate.push(function(){_._bind({visible:1},_.get())}),_.on("change",function(t){e.updateCustom(t)}),{c:function(){n=r("div"),_._fragment.c(),c=u("\n                "),(l=r("button")).textContent="Reset",this.h()},h:function(){f(l,"click",v),l.className="btn",n.className="select"},m:function(e,t){i(n,e,t),_._mount(n,null),o(c,n),o(l,n)},p:function(e,t){var n={};e.customColor&&(n.color=t.customColor),e.palette&&(n.palette=t.palette),!s.visible&&e.openCustom&&(n.visible=t.openCustom,s.visible=!0),_._set(n),s={}},u:function(){a(n)},d:function(){_.destroy(!1),d(l,"click",v)}}}function V(e,n){var o;return{c:function(){(o=r("div")).textContent="Please select an element on the left to change colors for individual elements...",this.h()},h:function(){o.className="info"},m:function(e,t){i(o,e,t)},p:t,u:function(){a(o)},d:t}}function W(e,t){for(var c,l,h,_,v,p,g,b,x,k,y,N,C,M,w,H,L,$,T,Y,K=t.colorKeys,j=[],z=0;z<K.length;z+=1)j[z]=U(e,n(n({},t),{each_value:K,k:K[z],k_index:z}));function A(t){e.selectAll(t)}function O(t){e.selectNone(t)}function S(t){e.selectInvert(t)}function E(e){return e.selected.length?J:V}var F=E(t),Q=F(e,t);function D(t){e.resetAll()}return{c:function(){c=r("div"),l=r("div"),h=r("div"),(_=r("h4")).textContent="Select element(s):",v=u("\n            "),p=r("ul");for(var e=0;e<j.length;e+=1)j[e].c();g=u("\n            "),b=r("div"),x=u("Select:  \n                "),(k=r("a")).textContent="all",y=u("  \n                "),(N=r("a")).textContent="none",C=u("  \n                "),(M=r("a")).textContent="invert",w=u("\n        "),H=r("div"),(L=r("h4")).textContent="Choose a color:",$=u("\n            "),Q.c(),T=u("\n            "),(Y=r("button")).textContent="Reset all colors",this.h()},h:function(){p.className="dataseries unstyled",f(k,"click",A),k.href="#/select-all",f(N,"click",O),N.href="#/select-none",f(M,"click",S),M.href="#/select-invert",m(b,"font-size","12px"),m(b,"text-align","center"),m(b,"margin-bottom","10px"),h.className="span2",m(h,"width","43%"),f(Y,"click",D),m(Y,"margin-top","20px"),Y.className="btn",H.className="span2",m(H,"width","42%"),l.className="row",c.className="custom-color-selector-body",m(c,"display","block")},m:function(e,t){i(c,e,t),o(l,c),o(h,l),o(_,h),o(v,h),o(p,h);for(var n=0;n<j.length;n+=1)j[n].m(p,null);o(g,h),o(b,h),o(x,b),o(k,b),o(y,b),o(N,b),o(C,b),o(M,b),o(w,l),o(H,l),o(L,H),o($,H),Q.m(H,null),o(T,H),o(Y,H)},p:function(t,o){var i=o.colorKeys;if(t.colorKeys||t.selected){for(var a=0;a<i.length;a+=1){var c=n(n({},o),{each_value:i,k:i[a],k_index:a});j[a]?j[a].p(t,c):(j[a]=U(e,c),j[a].c(),j[a].m(p,null))}for(;a<j.length;a+=1)j[a].u(),j[a].d();j.length=i.length}F===(F=E(o))&&Q?Q.p(t,o):(Q.u(),Q.d(),(Q=F(e,o)).c(),Q.m(H,T))},u:function(){a(c);for(var e=0;e<j.length;e+=1)j[e].u();Q.u()},d:function(){s(j),d(k,"click",A),d(N,"click",O),d(M,"click",S),Q.d(),d(Y,"click",D)}}}function X(e){var t=this._svelte.component,n=this._svelte.each_value[this._svelte.k_index];t.toggleSelect(n.key,e)}function Z(e){k(this,e),this._state=n(n(this.store._init(["vis","theme"]),{open:!1,openCustom:!1,customizable:!1,expanded:!1,selected:[],custom:{}}),e.data),this.store._add(this,["vis","theme"]),this._recompute({$theme:1,$vis:1,customizable:1,axis:1,custom:1,palette:1,value:1,selected:1},this._state),this._handlers.destroy=[N];var t,c,l,s,f,d,_,v,p,g,b,x,C=this;e.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(t=this,c=this._state,g=c.hexColor&&R(t,c),b=c.customizable&&B(t,c),x=c.customizable&&c.expanded&&W(t,c),{c:function(){l=r("div"),s=r("label"),f=u("\n    "),d=r("div"),g&&g.c(),_=u("\n\n        "),b&&b.c(),v=u("\n\n"),x&&x.c(),p=h(),this.h()},h:function(){s.className="control-label",m(s,"width","100px"),d.className="controls",l.className="control-group vis-option-type-color"},m:function(e,t){i(l,e,t),o(s,l),s.innerHTML=c.label,o(f,l),o(d,l),g&&g.m(d,null),o(_,d),b&&b.m(d,null),i(v,e,t),x&&x.m(e,t),i(p,e,t)},p:function(e,n){e.label&&(s.innerHTML=n.label),n.hexColor?g?g.p(e,n):((g=R(t,n)).c(),g.m(d,_)):g&&(g.u(),g.d(),g=null),n.customizable?b?b.p(e,n):((b=B(t,n)).c(),b.m(d,null)):b&&(b.u(),b.d(),b=null),n.customizable&&n.expanded?x?x.p(e,n):((x=W(t,n)).c(),x.m(p.parentNode,p)):x&&(x.u(),x.d(),x=null)},u:function(){s.innerHTML="",a(l),g&&g.u(),b&&b.u(),a(v),x&&x.u(),a(p)},d:function(){g&&g.d(),b&&b.d(),x&&x.d()}}),this.root._oncreate.push(function(){(function(){var e=this;this.observe("custom",function(t){t&&0===t.length&&(t={}),e.set({custom:t})})}).call(C),C.fire("update",{changed:{$vis:1,customizable:1,axis:1,custom:1,palette:1,$theme:1,value:1,selected:1,label:1,hexColor:1,open:1,expanded:1,colorKeys:1,customColor:1,openCustom:1},current:C._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),this._lock=!0,y(this._beforecreate),y(this._oncreate),y(this._aftercreate),this._lock=!1)}function ee(e,n){var l,s,h,f,d;return{c:function(){l=r("div"),s=u("For help on custom formats, check the "),h=r("noscript"),f=r("noscript"),d=u("."),this.h()},h:function(){l.className="small svelte-h47p2z"},m:function(e,t){i(l,e,t),o(s,l),o(h,l),h.insertAdjacentHTML("afterend",n.customFormatHelp),o(f,l),o(d,l)},p:function(e,t){e.customFormatHelp&&(c(h,f),h.insertAdjacentHTML("afterend",t.customFormatHelp))},u:function(){c(h,f),a(l)},d:t}}function te(e,n){var c,l,s,h=n.opt,f=(n.each_value,n.opt_index,h.l);return{c:function(){c=r("option"),l=u(f),this.h()},h:function(){c.__value=s=h.f,c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){h=t.opt,t.each_value,t.opt_index,e.options&&f!==(f=h.l)&&(l.data=f),e.options&&s!==(s=h.f)&&(c.__value=s),c.value=c.__value},u:function(){a(c)},d:t}}function ne(e,t){var n,o=!1;function c(){o=!0,e.set({custom:n.value}),o=!1}return{c:function(){n=r("input"),this.h()},h:function(){f(n,"input",c),v(n,"type","text"),n.className="svelte-h47p2z"},m:function(e,o){i(n,e,o),n.value=t.custom},p:function(e,t){o||(n.value=t.custom)},u:function(){a(n)},d:function(){d(n,"input",c)}}}function oe(e){k(this,e),this._state=n(n(this.store._init(["vis","dataset"]),{axis:!1,value:"",custom:"",selected:null}),e.data),this.store._add(this,["vis","dataset"]),this._recompute({$vis:1,$dataset:1,axis:1,axisCol:1},this._state),this._handlers.destroy=[N];var t=this;e.root||(this._oncreate=[],this._beforecreate=[]),this._fragment=function(e,t){for(var c,l,h,_,v,p,m,x,k,y=!1,N="custom"==t.selected&&ee(0,t),C=t.options,M=[],w=0;w<C.length;w+=1)M[w]=te(0,n(n({},t),{each_value:C,opt:C[w],opt_index:w}));function H(){y=!0,e.set({selected:b(p)}),y=!1}var L="custom"==t.selected&&ne(e,t);return{c:function(){c=r("div"),l=r("label"),h=u("\n\n    "),_=r("div"),N&&N.c(),v=u("\n\n        "),p=r("select");for(var e=0;e<M.length;e+=1)M[e].c();m=r("option"),x=u("(custom)"),k=u("\n        "),L&&L.c(),this.h()},h:function(){l.className="control-label svelte-h47p2z",m.__value="custom",m.value=m.__value,f(p,"change",H),"selected"in t||e.root._beforecreate.push(H),p.className="svelte-h47p2z",_.className="controls form-inline",c.className="control-group vis-option-custom-format"},m:function(e,n){i(c,e,n),o(l,c),l.innerHTML=t.label,o(h,c),o(_,c),N&&N.m(_,null),o(v,_),o(p,_);for(var a=0;a<M.length;a+=1)M[a].m(p,null);o(m,p),o(x,m),g(p,t.selected),o(k,_),L&&L.m(_,null)},p:function(t,o){t.label&&(l.innerHTML=o.label),"custom"==o.selected?N?N.p(t,o):((N=ee(0,o)).c(),N.m(_,v)):N&&(N.u(),N.d(),N=null);var i=o.options;if(t.options){for(var a=0;a<i.length;a+=1){var c=n(n({},o),{each_value:i,opt:i[a],opt_index:a});M[a]?M[a].p(t,c):(M[a]=te(0,c),M[a].c(),M[a].m(p,m))}for(;a<M.length;a+=1)M[a].u(),M[a].d();M.length=i.length}y||g(p,o.selected),"custom"==o.selected?L?L.p(t,o):((L=ne(e,o)).c(),L.m(_,null)):L&&(L.u(),L.d(),L=null)},u:function(){l.innerHTML="",a(c),N&&N.u();for(var e=0;e<M.length;e+=1)M[e].u();L&&L.u()},d:function(){N&&N.d(),s(M),d(p,"change",H),L&&L.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this;this.observe("selected",function(t,n){t!=n&&e.set({value:"custom"!=t?t:e.get("custom")+" "})}),this.observe("value",function(t,n){if(t!=n){for(var o=0,i=e.get().options;o<i.length;o+=1)if(i[o].f==t)return e.set({selected:t});e.set({selected:"custom",custom:t})}}),this.observe("custom",function(t,n){t!=n&&"custom"==e.get().selected&&e.set({value:t})})}).call(t),t.fire("update",{changed:{axisCol:1,$vis:1,$dataset:1,axis:1,label:1,selected:1,customFormatHelp:1,options:1,custom:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),y(this._beforecreate),y(this._oncreate))}function ie(e){var c,s,h,f,d,_,v,p,m,g,b,x;k(this,e),this._state=n({},e.data),this._slotted=e.slots||{},this.slots={},this._fragment=(c=this,s=this._state,x=c._slotted.default,{c:function(){h=r("div"),f=r("label"),d=r("i"),_=u("\n        "),v=r("i"),p=u("\n        "),m=r("noscript"),g=u("\n\n    "),b=r("div"),this.h()},h:function(){d.className="fa fa-chevron-up expand-group pull-right",v.className="fa fa-chevron-down collapse-group pull-right",f.className="group-title",b.className="option-group-content vis-option-type-chart-description",h.className="vis-option-type-group group-open"},m:function(e,t){i(h,e,t),o(f,h),o(d,f),o(_,f),o(v,f),o(p,f),o(m,f),m.insertAdjacentHTML("afterend",s.label),o(g,h),o(b,h),x&&o(x,b)},p:function(e,t){e.label&&(l(m),m.insertAdjacentHTML("afterend",t.label))},u:function(){l(m),a(h),x&&function(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}(b,x)},d:t}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function ae(e){k(this,e),this._state=n({unit:"",width:"100px"},e.data),this._fragment=function(e,t){var n,c,l,s,h,_,g,b,x,k,y=!1;function N(){e.set({value:p(h.value)})}function C(){e.set({value:p(h.value)})}function M(){y=!0,e.set({value:p(g.value)}),y=!1}return{c:function(){n=r("div"),c=r("label"),l=u("\n    "),s=r("div"),h=r("input"),_=u("  "),g=r("input"),b=u(" "),x=r("span"),k=u(t.unit),this.h()},h:function(){m(c,"width",t.width),c.className="control-label",f(h,"input",N),f(h,"change",C),v(h,"type","range"),h.min=t.min,h.max=t.max,h.step=t.step,h.className="svelte-l16hlj",f(g,"input",M),v(g,"type","number"),g.min=t.min,g.max=t.max,g.step=t.step,g.className="svelte-l16hlj",x.className="unit svelte-l16hlj",s.className="controls",n.className="control-group vis-option-group vis-option-type-number"},m:function(e,a){i(n,e,a),o(c,n),c.innerHTML=t.label,o(l,n),o(s,n),o(h,s),h.value=t.value,o(_,s),o(g,s),g.value=t.value,o(b,s),o(x,s),o(k,x)},p:function(e,t){e.label&&(c.innerHTML=t.label),e.width&&m(c,"width",t.width),h.value=t.value,h.value=t.value,e.min&&(h.min=t.min),e.max&&(h.max=t.max),e.step&&(h.step=t.step),y||(g.value=t.value),e.min&&(g.min=t.min),e.max&&(g.max=t.max),e.step&&(g.step=t.step),e.unit&&(k.data=t.unit)},u:function(){c.innerHTML="",a(n)},d:function(){d(h,"input",N),d(h,"change",C),d(g,"input",M)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function ce(e,t){var n,c,l,s,h,_=t.opt,p=(t.each_value,t.opt_index,_.label);function m(){e.set({value:c.__value})}return{c:function(){n=r("label"),c=r("input"),s=u(" "),h=u(p),this.h()},h:function(){e._bindingGroups[0].push(c),f(c,"change",m),v(c,"type","radio"),c.__value=l=_.value,c.value=c.__value,n.className="radio"},m:function(e,a){i(n,e,a),o(c,n),c.checked=c.__value===t.value,o(s,n),o(h,n)},p:function(e,t){_=t.opt,t.each_value,t.opt_index,c.checked=c.__value===t.value,e.options&&l!==(l=_.value)&&(c.__value=l),c.value=c.__value,e.options&&p!==(p=_.label)&&(h.data=p)},u:function(){a(n)},d:function(){e._bindingGroups[0].splice(e._bindingGroups[0].indexOf(c),1),d(c,"change",m)}}}function le(e){k(this,e),this._state=n({},e.data),this._bindingGroups=[[]],this._fragment=function(e,t){for(var c,l,h,f,d=t.options,_=[],v=0;v<d.length;v+=1)_[v]=ce(e,n(n({},t),{each_value:d,opt:d[v],opt_index:v}));return{c:function(){c=r("div"),l=r("label"),h=u("\n\n    "),f=r("div");for(var e=0;e<_.length;e+=1)_[e].c();this.h()},h:function(){l.className="control-label",f.className="controls form-inline",c.className="control-group vis-option-group vis-option-type-radio"},m:function(e,n){i(c,e,n),o(l,c),l.innerHTML=t.label,o(h,c),o(f,c);for(var a=0;a<_.length;a+=1)_[a].m(f,null)},p:function(t,o){t.label&&(l.innerHTML=o.label);var i=o.options;if(t.options||t.value){for(var a=0;a<i.length;a+=1){var c=n(n({},o),{each_value:i,opt:i[a],opt_index:a});_[a]?_[a].p(t,c):(_[a]=ce(e,c),_[a].c(),_[a].m(f,null))}for(;a<_.length;a+=1)_[a].u(),_[a].d();_.length=i.length}},u:function(){l.innerHTML="",a(c);for(var e=0;e<_.length;e+=1)_[e].u()},d:function(){s(_)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function se(e,n){var c,l,s,h=n.opt,f=(n.each_value,n.opt_index,h.label);return{c:function(){c=r("option"),l=u(f),this.h()},h:function(){c.__value=s=h.value,c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){h=t.opt,t.each_value,t.opt_index,e.options&&f!==(f=h.label)&&(l.data=f),e.options&&s!==(s=h.value)&&(c.__value=s),c.value=c.__value},u:function(){a(c)},d:t}}function re(e,t){for(var o,c=t.options,l=[],r=0;r<c.length;r+=1)l[r]=se(0,n(n({},t),{each_value:c,opt:c[r],opt_index:r}));return{c:function(){for(var e=0;e<l.length;e+=1)l[e].c();o=h()},m:function(e,t){for(var n=0;n<l.length;n+=1)l[n].m(e,t);i(o,e,t)},p:function(e,t){var i=t.options;if(e.options){for(var a=0;a<i.length;a+=1){var c=n(n({},t),{each_value:i,opt:i[a],opt_index:a});l[a]?l[a].p(e,c):(l[a]=se(0,c),l[a].c(),l[a].m(o.parentNode,o))}for(;a<l.length;a+=1)l[a].u(),l[a].d();l.length=i.length}},u:function(){for(var e=0;e<l.length;e+=1)l[e].u();a(o)},d:function(){s(l)}}}function ue(e,t){for(var o,c,l=t.optgroup,u=(t.each_value_1,t.optgroup_index,l.options),h=[],f=0;f<u.length;f+=1)h[f]=he(e,n(n({},t),{each_value_2:u,opt:u[f],opt_index_1:f}));return{c:function(){o=r("optgroup");for(var e=0;e<h.length;e+=1)h[e].c();this.h()},h:function(){v(o,"label",c=l.label)},m:function(e,t){i(o,e,t);for(var n=0;n<h.length;n+=1)h[n].m(o,null)},p:function(t,i){l=i.optgroup,i.each_value_1,i.optgroup_index;var a=l.options;if(t.optgroups){for(var s=0;s<a.length;s+=1){var r=n(n({},i),{each_value_2:a,opt:a[s],opt_index_1:s});h[s]?h[s].p(t,r):(h[s]=he(e,r),h[s].c(),h[s].m(o,null))}for(;s<h.length;s+=1)h[s].u(),h[s].d();h.length=a.length}t.optgroups&&c!==(c=l.label)&&v(o,"label",c)},u:function(){a(o);for(var e=0;e<h.length;e+=1)h[e].u()},d:function(){s(h)}}}function he(e,n){n.optgroup,n.each_value_1,n.optgroup_index;var c,l,s,h=n.opt,f=(n.each_value_2,n.opt_index_1,h.label);return{c:function(){c=r("option"),l=u(f),this.h()},h:function(){c.__value=s=h.value,c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){t.optgroup,t.each_value_1,t.optgroup_index,h=t.opt,t.each_value_2,t.opt_index_1,e.optgroups&&f!==(f=h.label)&&(l.data=f),e.optgroups&&s!==(s=h.value)&&(c.__value=s),c.value=c.__value},u:function(){a(c)},d:t}}function fe(e,t){for(var o,c=t.optgroups,l=[],r=0;r<c.length;r+=1)l[r]=ue(e,n(n({},t),{each_value_1:c,optgroup:c[r],optgroup_index:r}));return{c:function(){for(var e=0;e<l.length;e+=1)l[e].c();o=h()},m:function(e,t){for(var n=0;n<l.length;n+=1)l[n].m(e,t);i(o,e,t)},p:function(t,i){var a=i.optgroups;if(t.optgroups){for(var c=0;c<a.length;c+=1){var s=n(n({},i),{each_value_1:a,optgroup:a[c],optgroup_index:c});l[c]?l[c].p(t,s):(l[c]=ue(e,s),l[c].c(),l[c].m(o.parentNode,o))}for(;c<l.length;c+=1)l[c].u(),l[c].d();l.length=a.length}},u:function(){for(var e=0;e<l.length;e+=1)l[e].u();a(o)},d:function(){s(l)}}}function de(e){k(this,e),this._state=n({disabled:!1,width:"auto",options:[],optgroups:[]},e.data),e.root||(this._oncreate=[],this._beforecreate=[]),this._fragment=function(e,t){var n,c,l,s,_,v,p,x=!1,k=t.options.length&&re(0,t),y=t.optgroups.length&&fe(e,t);function N(){x=!0,e.set({value:b(_)}),x=!1}return{c:function(){n=r("div"),c=r("label"),l=u("\n\n    "),s=r("div"),_=r("select"),k&&k.c(),v=h(),y&&y.c(),this.h()},h:function(){c.className="control-label",f(_,"change",N),"value"in t||e.root._beforecreate.push(N),_.disabled=t.disabled,m(_,"width",t.width),s.className=p="controls form-inline "+(t.disabled?"disabled":""),n.className="control-group vis-option-type-select"},m:function(e,a){i(n,e,a),o(c,n),c.innerHTML=t.label,o(l,n),o(s,n),o(_,s),k&&k.m(_,null),o(v,_),y&&y.m(_,null),g(_,t.value)},p:function(t,n){t.label&&(c.innerHTML=n.label),n.options.length?k?k.p(t,n):((k=re(0,n)).c(),k.m(_,v)):k&&(k.u(),k.d(),k=null),n.optgroups.length?y?y.p(t,n):((y=fe(e,n)).c(),y.m(_,null)):y&&(y.u(),y.d(),y=null),x||g(_,n.value),t.disabled&&(_.disabled=n.disabled),t.width&&m(_,"width",n.width),t.disabled&&p!==(p="controls form-inline "+(n.disabled?"disabled":""))&&(s.className=p)},u:function(){c.innerHTML="",a(n),k&&k.u(),y&&y.u()},d:function(){k&&k.d(),y&&y.d(),d(_,"change",N)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),y(this._beforecreate))}function _e(e,n){var c,l,s=n.axis["na-label"]||"--";return{c:function(){c=r("option"),l=u(s),this.h()},h:function(){c.__value="-",c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){e.axis&&s!==(s=t.axis["na-label"]||"--")&&(l.data=s)},u:function(){a(c)},d:t}}function ve(e,n){var c,l,s,h=n.column,f=(n.each_value,n.column_index,h.name);return{c:function(){c=r("option"),l=u(f),this.h()},h:function(){c.__value=s=h.name,c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){h=t.column,t.each_value,t.column_index,e.columns&&f!==(f=h.name)&&(l.data=f),e.columns&&s!==(s=h.name)&&(c.__value=s),c.value=c.__value},u:function(){a(c)},d:t}}function pe(e){k(this,e),this._state=n(n(this.store._init(["visMeta","dataset"]),{selected:!1}),e.data),this.store._add(this,["visMeta","dataset"]),this._recompute({axis:1,$visMeta:1,$dataset:1},this._state),this._handlers.destroy=[N];var t=this;e.root||(this._oncreate=[],this._beforecreate=[]),this._fragment=function(e,t){for(var c,l,_,v,p,m,x=!1,k=t.$visMeta&&t.$visMeta.axes[t.axis].optional&&_e(0,t),y=t.columns,N=[],C=0;C<y.length;C+=1)N[C]=ve(0,n(n({},t),{each_value:y,column:y[C],column_index:C}));function M(){x=!0,e.set({selected:b(p)}),x=!1}return{c:function(){c=r("div"),l=r("label"),_=u("\n\n    "),v=r("div"),p=r("select"),k&&k.c(),m=h();for(var e=0;e<N.length;e+=1)N[e].c();this.h()},h:function(){l.className="control-label svelte-7khi8i",f(p,"change",M),"selected"in t||e.root._beforecreate.push(M),p.className="svelte-7khi8i",v.className="controls form-inline",c.className="control-group vis-option-group"},m:function(e,n){i(c,e,n),o(l,c),l.innerHTML=t.label,o(_,c),o(v,c),o(p,v),k&&k.m(p,null),o(m,p);for(var a=0;a<N.length;a+=1)N[a].m(p,null);g(p,t.selected)},p:function(e,t){e.label&&(l.innerHTML=t.label),t.$visMeta&&t.$visMeta.axes[t.axis].optional?k?k.p(e,t):((k=_e(0,t)).c(),k.m(p,m)):k&&(k.u(),k.d(),k=null);var o=t.columns;if(e.columns){for(var i=0;i<o.length;i+=1){var a=n(n({},t),{each_value:o,column:o[i],column_index:i});N[i]?N[i].p(e,a):(N[i]=ve(0,a),N[i].c(),N[i].m(p,null))}for(;i<N.length;i+=1)N[i].u(),N[i].d();N.length=o.length}x||g(p,t.selected)},u:function(){l.innerHTML="",a(c),k&&k.u();for(var e=0;e<N.length;e+=1)N[e].u()},d:function(){k&&k.d(),s(N),d(p,"change",M)}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this;e.observe("selected",function(t){if(t){var n=e.get().axis,o=_.clone(window.chart.get("metadata.axes",{}));"-"==t?delete o[n]:o[n]=t,window.chart.set("metadata.axes",o)}}),e.store.observe("visMeta",function(t){var n=e.get(),o=n.selected,i=n.axis;!o&&t&&(o=window.chart.get("metadata.axes")[i],e.set({selected:o}))})}).call(t),t.fire("update",{changed:{axis:1,$visMeta:1,$dataset:1,label:1,selected:1,columns:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),y(this._beforecreate),y(this._oncreate))}return n(Z.prototype,M),n(Z.prototype,P),Z.prototype._recompute=function(t,n){var o,i;t.$theme&&this._differs(n.palette,n.palette=n.$theme.colors.palette)&&(t.palette=!0),(t.$vis||t.customizable||t.axis||t.custom||t.palette)&&this._differs(n.colorKeys,n.colorKeys=G(n.$vis,n.customizable,n.axis,n.custom,n.palette))&&(t.colorKeys=!0),(t.value||t.palette)&&this._differs(n.hexColor,n.hexColor=(o=n.value,i=n.palette,I(o,i)))&&(t.hexColor=!0),(t.selected||t.palette||t.custom)&&this._differs(n.customColor,n.customColor=function(t,n,o){if(void 0===o[t[0]])return"#ccc";var i=t.filter(function(e){return void 0!==o[e]}).map(function(e){return I(o[e],n)});return i.length?e.average(i,"lab"):"#ccc"}(n.selected,n.palette,n.custom))&&(t.customColor=!0)},n(oe.prototype,M),oe.prototype._recompute=function(e,t){(e.$vis||e.$dataset||e.axis)&&this._differs(t.axisCol,t.axisCol=function(e,t,n){if(!e||!n)return null;var o=e.axes()[n];return t.column("object"==typeof o?o[0]:o)}(t.$vis,t.$dataset,t.axis))&&(e.axisCol=!0),e.axisCol&&(this._differs(t.customFormatHelp,t.customFormatHelp=function(e){if(e)return"date"==e.type()?'<a href="http://momentjs.com/docs/#/displaying/format/" target="_blank">moment.js documentation</a>':"number"==e.type()?'<a href="http://numeraljs.com/#format" target="_blank">numeral.js documentation</a>':""}(t.axisCol))&&(e.customFormatHelp=!0),this._differs(t.options,t.options=function(e){return e?"number"==e.type()?[{l:"1,000[.00]",f:"0,0.[00]"},{l:"0",f:"0"},{l:"0.0",f:"0.0"},{l:"0.00",f:"0.00"},{l:"0.000",f:"0.000"},{l:"0.[0]",f:"0.[0]"},{l:"0.[00]",f:"0.[00]"},{l:"0%",f:"0%"},{l:"0.0%",f:"0.0%"},{l:"0.00%",f:"0.00%"},{l:"0.[0]%",f:"0.[0]%"},{l:"0.[00]%",f:"0.[00]%"},{l:"10,000",f:"0,0"},{l:"1st",f:"0o"},{l:"123k",f:"0a"},{l:"123.4k",f:"0.[0]a"},{l:"123.45k",f:"0.[00]a"}]:"date"==e.type()?[{l:"2015, 2016",f:"YYYY"},{l:"2015 Q1, 2015 Q2",f:"YYYY [Q]Q"},{l:"2015, Q2, Q3",f:"YYYY|\\QQ"},{l:"2015, Feb, Mar",f:"YYYY|MMM"},{l:"’15, ’16",f:"’YY"},{l:"April, May",f:"MMMM"},{l:"Apr, May",f:"MMM"},{l:"Apr ’15, May ’15",f:"MMM ’YY"},{l:"April, 2, 3",f:"MMM|DD"}]:void 0:[]}(t.axisCol))&&(e.options=!0))},n(ie.prototype,M),n(ae.prototype,M),n(le.prototype,M),n(de.prototype,M),n(pe.prototype,M),pe.prototype._recompute=function(e,t){(e.axis||e.$visMeta||e.$dataset)&&this._differs(t.columns,t.columns=function(e,t,n){var o=[];return n&&t&&e?(n.eachColumn(function(n){_.indexOf(t.axes[e].accepts,n.type())>-1&&o.push({name:n.name()})}),o):[]}(t.axis,t.$visMeta,t.$dataset))&&(e.columns=!0)},{Checkbox:w,Color:Z,ColorPicker:D,Group:ie,NumberInput:ae,Radio:le,Select:de,SelectAxisColumn:pe,CustomFormat:oe}});
