!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/publish/pending-activation",e):(t=t||self)["publish/pending-activation"]=e()}(this,(function(){"use strict";function t(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var e=t((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e}));var n=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};function r(){}function o(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n)}function c(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function f(){return Object.create(null)}function p(t,n){return t!=t?n==n:t!==n||t&&"object"===e(t)||"function"==typeof t}function d(t,e){return t!=t?e==e:t!==e}function h(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var o=n[r];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function l(){return this._state}function v(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function _(t){for(;t&&t.length;)t.shift()()}var m={destroy:function(t){this.destroy=r,this.fire("destroy"),this.set=r,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:l,fire:h,on:v,set:function(t){var e;this._set(o({},t)),this.root._lock||((e=this.root)._lock=!0,_(e._beforecreate),_(e._oncreate),_(e._aftercreate),e._lock=!1)},_recompute:r,_set:function(t){var e=this._state,n={},r=!1;for(var i in t=o(this._staged,t),this._staged={},t)this._differs(t[i],e[i])&&(n[i]=r=!0);r&&(this._state=o(o({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){o(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:p},y={};function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(y[t]=window.__dw.vis.meta.locale||{}):y[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function b(t){var e=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),y[n]||g(n),!y[n][t])return"MISSING:"+t;var r=y[n][t];return"string"==typeof r&&arguments.length>2&&(r=r.replace(/\$(\d)/g,(function(t,n){return n=2+Number(n),void 0===e[n]?t:e[n]}))),r}var w=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var O=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var x=function(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?O(t):n},j=t((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e})),E=t((function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,r)}t.exports=e}));var P=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)};var S=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")};var C=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}},T=t((function(t){function e(n,r,o){return C()?t.exports=e=Reflect.construct:t.exports=e=function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&E(o,n.prototype),o},e.apply(null,arguments)}t.exports=e})),k=t((function(t){function e(n){var r="function"==typeof Map?new Map:void 0;return t.exports=e=function(t){if(null===t||!S(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return T(t,arguments,j(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),E(e,t)},e(n)}t.exports=e}));var R=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o};var D=function(t,e){if(null==t)return{};var n,r,o=R(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},N=t((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var a in i)i[a]&&(c+="; "+a,!0!==i[a]&&(c+="="+i[a].split(";")[0]));return document.cookie=e+"="+n+c}}function s(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var c=i[s].split("="),a=c.slice(1).join("=");n||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var u=e(c[0]);if(a=(r.read||r)(a,u)||e(a),n)try{a=JSON.parse(a)}catch(t){}if(o[u]=a,t===u)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return s(t,!1)},o.getJSON=function(t){return s(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}));function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var A=new Set(["get","head","options","trace"]);function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.fetch)try{e.fetch=window.fetch}catch(t){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!e.baseUrl)try{e.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(t){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,r=L({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},e,{headers:L({"Content-Type":"application/json"},e.headers)}),o=r.payload,i=r.baseUrl,s=r.fetch,c=r.raw,a=D(r,["payload","baseUrl","fetch","raw"]),u="".concat(i.replace(/\/$/,""),"/").concat(t.replace(/^\//,""));if(o&&(a.body=JSON.stringify(o)),A.has(a.method.toLowerCase()))n=s(u,a);else{var f=N.get("crumb");f?(a.headers["X-CSRF-Token"]=f,n=s(u,a)):n=H("/v3/me",{fetch:s,baseUrl:i}).then((function(){var t=N.get("crumb");t&&(a.headers["X-CSRF-Token"]=t)})).catch((function(){})).then((function(){return s(u,a)}))}return n.then((function(t){if(c)return t;if(!t.ok)throw new F(t);if(204===t.status||!t.headers.get("content-type"))return t;var e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()}))}H.get=M("GET"),H.patch=M("PATCH"),H.put=M("PUT");var I=H.post=M("POST");H.head=M("HEAD");function M(t){return function(e,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(t.toLowerCase(),"()"));return H(e,L({},n,{method:t}))}}H.delete=M("DELETE");var F=function(t){function e(t){var n;return w(this,e),(n=x(this,j(e).call(this))).name="HttpReqError",n.status=t.status,n.statusText=t.statusText,n.message="[".concat(t.status,"] ").concat(t.statusText),n.response=t,n}return P(e,t),e}(k(Error));function B(){}var q={resendActivation:function(){try{var t=this;return t.set({status:"sending"}),function(t){if(t&&t.then)return t.then(B)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return e=I("/v3/auth/resend-activation"),n=function(){t.set({status:"success"})},r?n?n(e):e:(e&&e.then||(e=Promise.resolve(e)),n?e.then(n):e);var e,n,r}),(function(){t.set({status:"error"})})))}catch(t){return Promise.reject(t)}}};function J(t,e){var n,r,o,f,p,d=b("publish / pending-activation / resend");function h(e){t.resendActivation()}return{c:function(){var t,i,s;n=a("button"),r=a("i"),f=u("\n            Â \n            "),p=a("noscript"),r.className=o="fa "+("sending"==e.status?"fa-spin fa-circle-o-notch":"fa-envelope"),t="click",i=h,n.addEventListener(t,i,s),n.className="btn btn-primary"},m:function(t,e){s(t,n,e),i(n,r),i(n,f),i(n,p),p.insertAdjacentHTML("afterend",d)},p:function(t,e){t.status&&o!==(o="fa "+("sending"==e.status?"fa-spin fa-circle-o-notch":"fa-envelope"))&&(r.className=o)},d:function(t){var e,r,o;t&&c(n),e="click",r=h,n.removeEventListener(e,r,o)}}}function $(t,e){var n,o=b("publish / pending-activation / resend-error");return{c:function(){n=a("p")},m:function(t,e){s(t,n,e),n.innerHTML=o},p:r,d:function(t){t&&c(n)}}}function G(t,e){var n,o=b("publish / pending-activation / resend-success");return{c:function(){n=a("p")},m:function(t,e){s(t,n,e),n.innerHTML=o},p:r,d:function(t){t&&c(n)}}}function X(t){!function(t,e){t._handlers=f(),t._slots=f(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}(this,t),this._state=o({status:""},t.data),this._intro=!0,this._fragment=function(t,e){var n,r,o,f,p,d,h=b("publish / pending-activation / h1"),l=b("publish / pending-activation / p");function v(t){return"success"==t.status?G:"error"==t.status?$:J}var _=v(e),m=_(t,e);return{c:function(){var t,e;n=a("div"),r=a("h2"),o=u("\n\n    "),f=a("p"),p=u("\n\n    "),d=a("div"),m.c(),t="margin-top",e="20px",d.style.setProperty(t,e)},m:function(t,e){s(t,n,e),i(n,r),r.innerHTML=h,i(n,o),i(n,f),f.innerHTML=l,i(n,p),i(n,d),m.m(d,null)},p:function(e,n){_===(_=v(n))&&m?m.p(e,n):(m.d(1),(m=_(t,n)).c(),m.m(d,null))},d:function(t){t&&c(n),m.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function Z(t,e){this._handlers={},this._dependents=[],this._computed=f(),this._sortedComputedProperties=[],this._state=o({},t),this._differs=e&&e.immutable?d:p}return o(X.prototype,m),o(X.prototype,q),o(Z.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n];e["$"+r]=this._state[r]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var n=this,r=this._state;this._state=o(o({},r),t);for(var i=0;i<this._sortedComputedProperties.length;i+=1)this._sortedComputedProperties[i].update(this._state,e);this.fire("state",{changed:e,previous:r,current:this._state}),this._dependents.filter((function(t){for(var r={},o=!1,i=0;i<t.props.length;i+=1){var s=t.props[i];s in e&&(r["$"+s]=n._state[s],o=!0)}if(o)return t.component._stage(r),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:r,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],r=f();function o(i){var s=e[i];s&&(s.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(i));o(e)})),r[i]||(r[i]=!0,n.push(s)))}for(var i in this._computed)o(t=i)},compute:function(t,e,n){var r,i=this,s={deps:e,update:function(o,s,c){var a=e.map((function(t){return t in s&&(c=!0),o[t]}));if(c){var u=n.apply(null,a);i._differs(u,r)&&(r=u,s[t]=!0,o[t]=r)}}};this._computed[t]=s,this._sortComputedProperties();var c=o({},this._state),a={};s.update(c,a,!0),this._set(c,a)},fire:h,get:l,on:v,set:function(t){var e=this._state,n=this._changed={},r=!1;for(var o in t){if(this._computed[o])throw new Error("'".concat(o,"' is a read-only computed property"));this._differs(t[o],e[o])&&(n[o]=r=!0)}r&&this._set(t,n)}}),{App:X,store:new Z({})}}));
