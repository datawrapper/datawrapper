!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/publish/guest",e):(t=t||self)["publish/guest"]=e()}(this,(function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var n=e((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),r=t(n),o=e((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0}));t(o);var i=e((function(t){t.exports=function(t){if(Array.isArray(t))return o(t)},t.exports.default=t.exports,t.exports.__esModule=!0}));t(i);var s=e((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0}));t(s);var c=e((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0}));t(c);var u=e((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0}));t(u),t(e((function(t){t.exports=function(t){return i(t)||s(t)||c(t)||u()},t.exports.default=t.exports,t.exports.__esModule=!0})));var a=t(e((function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0})));function f(){}function l(t,e){for(var n in e)t[n]=e[n];return t}function p(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n)}function h(t){t.parentNode.removeChild(t)}function _(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function m(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function g(){return document.createComment("")}function b(t,e,n,r){t.addEventListener(e,n,r)}function y(t,e,n,r){t.removeEventListener(e,n,r)}function w(t,e,n){t.style.setProperty(e,n)}function O(t,e,n){t.classList[n?"add":"remove"](e)}function M(){return Object.create(null)}function j(t,e){return t!=t?e==e:t!==e||t&&"object"===r(t)||"function"==typeof t}function S(t,e){return t!=t?e==e:t!==e}function T(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var o=n[r];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function C(t){t._lock=!0,N(t._beforecreate),N(t._oncreate),N(t._aftercreate),t._lock=!1}function E(){return this._state}function P(t,e){t._handlers=M(),t._slots=M(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function k(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function N(t){for(;t&&t.length;)t.shift()()}var A={destroy:function(t){this.destroy=f,this.fire("destroy"),this.set=f,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:E,fire:T,on:k,set:function(t){this._set(l({},t)),this.root._lock||C(this.root)},_recompute:f,_set:function(t){var e=this._state,n={},r=!1;for(var o in t=l(this._staged,t),this._staged={},t)this._differs(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=l(l({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){l(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:j},L={};function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(L[t]=window.__dw.vis.meta.locale||{}):L[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function U(t){var e=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),L[n]||R(n),!L[n][t])return"MISSING:"+t;var r=L[n][t];return"string"==typeof r&&arguments.length>2&&(r=r.replace(/\$(\d)/g,(function(t,n){return n=2+Number(n),void 0===e[n]?t:e[n]}))),r}var H=t(e((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0}))),D=e((function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,e(n,r)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}));t(D);var I=t(e((function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0}))),q=e((function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0}));t(q);var B=t(e((function(t){var e=n.default;t.exports=function(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?q(t):n},t.exports.default=t.exports,t.exports.__esModule=!0}))),F=e((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),$=t(F),J=e((function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.default=t.exports,t.exports.__esModule=!0}));t(J);var G=e((function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0}));t(G);var X=e((function(t){function e(n,r,o){return G()?(t.exports=e=Reflect.construct,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&D(o,n.prototype),o},t.exports.default=t.exports,t.exports.__esModule=!0),e.apply(null,arguments)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}));t(X);var Z=t(e((function(t){function e(n){var r="function"==typeof Map?new Map:void 0;return t.exports=e=function(t){if(null===t||!J(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return X(t,arguments,F(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),D(e,t)},t.exports.default=t.exports,t.exports.__esModule=!0,e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}))),z=e((function(t){t.exports=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o},t.exports.default=t.exports,t.exports.__esModule=!0}));t(z);var K=t(e((function(t){t.exports=function(t,e){if(null==t)return{};var n,r,o=z(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},t.exports.default=t.exports,t.exports.__esModule=!0}))),Q=e((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=e+"="+n+c}}function s(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var c=i[s].split("="),u=c.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var a=e(c[0]);if(u=(r.read||r)(u,a)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(o[a]=u,t===a)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return s(t,!1)},o.getJSON=function(t){return s(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}));function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$(t);if(e){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var tt=new Set(["get","head","options","trace"]);function et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.fetch)try{e.fetch=window.fetch}catch(t){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!e.baseUrl)try{e.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(t){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,r=Y(Y({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},e),{},{headers:Y({"Content-Type":"application/json"},e.headers)}),o=r.payload,i=r.baseUrl,s=r.fetch,c=r.raw,u=K(r,["payload","baseUrl","fetch","raw"]),a="".concat(i.replace(/\/$/,""),"/").concat(t.replace(/^\//,""));if(o&&(u.body=JSON.stringify(o)),tt.has(u.method.toLowerCase()))n=s(a,u);else{var f=Q.get("crumb");f?(u.headers["X-CSRF-Token"]=f,n=s(a,u)):n=et("/v3/me",{fetch:s,baseUrl:i}).then((function(){var t=Q.get("crumb");t&&(u.headers["X-CSRF-Token"]=t)})).catch((function(){})).then((function(){return s(a,u)}))}return n.then((function(t){if(c)return t;if(!t.ok)throw new ot(t);if(204===t.status||!t.headers.get("content-type"))return t;var e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()}))}et.get=rt("GET"),et.patch=rt("PATCH"),et.put=rt("PUT");var nt=et.post=rt("POST");et.head=rt("HEAD");function rt(t){return function(e,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(t.toLowerCase(),"()"));return et(e,Y(Y({},n),{},{method:t}))}}et.delete=rt("DELETE");var ot=function(t){I(n,t);var e=V(n);function n(t){var r;return H(this,n),(r=e.call(this)).name="HttpReqError",r.status=t.status,r.statusText=t.statusText,r.message="[".concat(t.status,"] ").concat(t.statusText),r.response=t,r}return n}(Z(Error));function it(t,e){var n;return{c:function(){(n=v("label")).className="control-label svelte-1nkiaxn"},m:function(t,r){d(t,n,r),n.innerHTML=e.label},p:function(t,e){t.label&&(n.innerHTML=e.label)},d:function(t){t&&h(n)}}}function st(t,e){var n;return{c:function(){(n=v("div")).className="help success svelte-1nkiaxn"},m:function(t,r){d(t,n,r),n.innerHTML=e.success},p:function(t,e){t.success&&(n.innerHTML=e.success)},d:function(t){t&&h(n)}}}function ct(t,e){var n;return{c:function(){(n=v("div")).className="help error svelte-1nkiaxn"},m:function(t,r){d(t,n,r),n.innerHTML=e.error},p:function(t,e){t.error&&(n.innerHTML=e.error)},d:function(t){t&&h(n)}}}function ut(t,e){var n;return{c:function(){(n=v("div")).className="help svelte-1nkiaxn"},m:function(t,r){d(t,n,r),n.innerHTML=e.help},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){t&&h(n)}}}function at(t){var e,n,r,o,i,s,c,u,a,f,_,m,g;P(this,t),this._state=l({label:"",help:"",error:!1,success:!1,width:"auto"},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,a=e._slotted.default,f=n.label&&it(0,n),_=n.success&&st(0,n),m=n.error&&ct(0,n),g=!n.success&&!n.error&&n.help&&ut(0,n),{c:function(){r=v("div"),f&&f.c(),o=x("\n    "),i=v("div"),s=x("\n    "),_&&_.c(),c=x(" "),m&&m.c(),u=x(" "),g&&g.c(),i.className="form-controls svelte-1nkiaxn",r.className="form-block svelte-1nkiaxn",w(r,"width",n.width),O(r,"success",n.success),O(r,"error",n.error)},m:function(t,e){d(t,r,e),f&&f.m(r,null),p(r,o),p(r,i),a&&p(i,a),p(r,s),_&&_.m(r,null),p(r,c),m&&m.m(r,null),p(r,u),g&&g.m(r,null)},p:function(t,e){e.label?f?f.p(t,e):((f=it(0,e)).c(),f.m(r,o)):f&&(f.d(1),f=null),e.success?_?_.p(t,e):((_=st(0,e)).c(),_.m(r,c)):_&&(_.d(1),_=null),e.error?m?m.p(t,e):((m=ct(0,e)).c(),m.m(r,u)):m&&(m.d(1),m=null),e.success||e.error||!e.help?g&&(g.d(1),g=null):g?g.p(t,e):((g=ut(0,e)).c(),g.m(r,null)),t.width&&w(r,"width",e.width),t.success&&O(r,"success",e.success),t.error&&O(r,"error",e.error)},d:function(t){t&&h(r),f&&f.d(),a&&function(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}(i,a),_&&_.d(),m&&m.d(),g&&g.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function ft(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function lt(){}l(at.prototype,A);var pt={createAccount:function(t){try{var e=this;return e.set({signedUp:!0}),n="Chart Editor",r="send-embed-code",window._paq&&window._paq.push(["trackEvent",n,r,o,i]),function(t){if(t&&t.then)return t.then(lt)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return ft(nt("/v3/auth/signup",{payload:{email:t,invitation:!0,chartId:window.chart.get().id}}),(function(t){e.get().fromSvelte?(e.set({signedUp:!1,error:""}),e.store.set({user:t})):window.location.reload()}))}),(function(t){return function(t){var e=t();if(e&&e.then)return e.then(lt)}((function(){if("HttpReqError"===t.name)return ft(t.response.json(),(function(n){e.set({error:n.message||t})}));e.set({error:"Unknown error: ".concat(t)})}))})))}catch(t){return Promise.reject(t)}var n,r,o,i}};function dt(t,e,n){var r=Object.create(t);return r.text=e[n],r}function ht(t,e,n){var r=Object.create(t);return r.text=e[n],r}function _t(t,e){var n,r,o,i=U("publish / guest / h1"),s=U("publish / guest / p");return{c:function(){n=v("h2"),r=x("\n\n            "),o=v("p")},m:function(t,e){d(t,n,e),n.innerHTML=i,d(t,r,e),d(t,o,e),o.innerHTML=s},p:f,d:function(t){t&&(h(n),h(r),h(o))}}}function mt(t,e){for(var n,r=e.guest_text_above,o=[],i=0;i<r.length;i+=1)o[i]=vt(t,ht(e,r,i));return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();n=g()},m:function(t,e){for(var r=0;r<o.length;r+=1)o[r].m(t,e);d(t,n,e)},p:function(e,i){if(e.guest_text_above){r=i.guest_text_above;for(var s=0;s<r.length;s+=1){var c=ht(i,r,s);o[s]?o[s].p(e,c):(o[s]=vt(t,c),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d:function(t){m(o,t),t&&h(n)}}}function vt(t,e){var n,r,o=e.text;return{c:function(){n=v("noscript"),r=v("noscript")},m:function(t,e){d(t,n,e),n.insertAdjacentHTML("afterend",o),d(t,r,e)},p:function(t,e){t.guest_text_above&&o!==(o=e.text)&&(_(n,r),n.insertAdjacentHTML("afterend",o))},d:function(t){t&&(_(n,r),h(n),h(r))}}}function xt(t,e){for(var n,r=e.guest_text_below,o=[],i=0;i<r.length;i+=1)o[i]=gt(t,dt(e,r,i));return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();n=g()},m:function(t,e){for(var r=0;r<o.length;r+=1)o[r].m(t,e);d(t,n,e)},p:function(e,i){if(e.guest_text_below){r=i.guest_text_below;for(var s=0;s<r.length;s+=1){var c=dt(i,r,s);o[s]?o[s].p(e,c):(o[s]=gt(t,c),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d:function(t){m(o,t),t&&h(n)}}}function gt(t,e){var n,r,o=e.text;return{c:function(){n=v("noscript"),r=v("noscript")},m:function(t,e){d(t,n,e),n.insertAdjacentHTML("afterend",o),d(t,r,e)},p:function(t,e){t.guest_text_below&&o!==(o=e.text)&&(_(n,r),n.insertAdjacentHTML("afterend",o))},d:function(t){t&&(_(n,r),h(n),h(r))}}}function bt(t,e){var n,r;return{c:function(){n=v("div"),r=x(e.error),n.className="alert alert-warning"},m:function(t,e){d(t,n,e),p(n,r)},p:function(t,e){t.error&&function(t,e){t.data=""+e}(r,e.error)},d:function(t){t&&h(n)}}}function yt(t){P(this,t),this._state=l({error:"",email:"",guest_text_above:[],guest_text_below:[],signedUp:!1},t.data),this._intro=!0,this._fragment=function(t,e){var n,r,o,i,s,c,u,a,f,l,_,m,g,O,M,j,S,T,C,E,P=!1,k=U("publish / guest / cta"),N=U("publish / guest / back");function A(t){return t.guest_text_above?mt:_t}var L=A(e),R=L(t,e);function H(){P=!0,t.set({email:c.value}),P=!1}function D(n){t.createAccount(e.email)}var I={label:U("publish / guest / e-mail"),help:U("publish / guest / example-email")},q=new at({root:t.root,store:t.store,slots:{default:document.createDocumentFragment()},data:I}),B=e.guest_text_below&&xt(t,e),F=e.error&&bt(t,e);return{c:function(){var t,p,d;n=v("div"),r=v("div"),o=v("div"),R.c(),i=x("\n\n        "),s=v("div"),c=v("input"),u=x("\n\n                "),a=v("button"),f=v("i"),_=x("\n                      "),m=v("noscript"),q._fragment.c(),g=x("\n\n        "),B&&B.c(),O=x("\n\n        "),M=v("div"),j=v("button"),S=v("i"),T=x("   "),C=v("noscript"),E=x("\n\n            "),F&&F.c(),w(o,"margin-bottom","20px"),b(c,"input",H),t=c,p="type",null==(d="email")?t.removeAttribute(p):t.setAttribute(p,d),c.className="input-xlarge",f.className=l="fa "+(e.signedUp?"fa-circle-o-notch fa-spin":"fa-envelope"),b(a,"click",D),a.className="btn btn-save btn-primary",w(a,"white-space","nowrap"),w(a,"margin-left","10px"),w(s,"display","flex"),S.className="fa fa-chevron-left",j.className="btn btn-save btn-default btn-back",w(M,"margin-top","30px"),r.className="span5",n.className="row publish-signup"},m:function(t,l){d(t,n,l),p(n,r),p(r,o),R.m(o,null),p(r,i),p(q._slotted.default,s),p(s,c),c.value=e.email,p(s,u),p(s,a),p(a,f),p(a,_),p(a,m),m.insertAdjacentHTML("afterend",k),q._mount(r,null),p(r,g),B&&B.m(r,null),p(r,O),p(r,M),p(M,j),p(j,S),p(j,T),p(j,C),C.insertAdjacentHTML("afterend",N),p(M,E),F&&F.m(M,null)},p:function(n,i){L===(L=A(e=i))&&R?R.p(n,e):(R.d(1),(R=L(t,e)).c(),R.m(o,null)),!P&&n.email&&(c.value=e.email),n.signedUp&&l!==(l="fa "+(e.signedUp?"fa-circle-o-notch fa-spin":"fa-envelope"))&&(f.className=l),e.guest_text_below?B?B.p(n,e):((B=xt(t,e)).c(),B.m(r,O)):B&&(B.d(1),B=null),e.error?F?F.p(n,e):((F=bt(t,e)).c(),F.m(M,null)):F&&(F.d(1),F=null)},d:function(t){t&&h(n),R.d(),y(c,"input",H),y(a,"click",D),q.destroy(),B&&B.d(),F&&F.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),C(this))}function wt(t,e){this._handlers={},this._dependents=[],this._computed=M(),this._sortedComputedProperties=[],this._state=l({},t),this._differs=e&&e.immutable?S:j}return l(yt.prototype,A),l(yt.prototype,pt),l(wt.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n];e["$"+r]=this._state[r]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var n=this,r=this._state;this._state=l(l({},r),t);for(var o=0;o<this._sortedComputedProperties.length;o+=1)this._sortedComputedProperties[o].update(this._state,e);this.fire("state",{changed:e,previous:r,current:this._state}),this._dependents.filter((function(t){for(var r={},o=!1,i=0;i<t.props.length;i+=1){var s=t.props[i];s in e&&(r["$"+s]=n._state[s],o=!0)}if(o)return t.component._stage(r),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:r,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],r=M();function o(i){var s=e[i];s&&(s.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(i));o(e)})),r[i]||(r[i]=!0,n.push(s)))}for(var i in this._computed)o(t=i)},compute:function(t,e,n){var r,o=this,i={deps:e,update:function(i,s,c){var u=e.map((function(t){return t in s&&(c=!0),i[t]}));if(c){var a=n.apply(null,u);o._differs(a,r)&&(r=a,s[t]=!0,i[t]=r)}}};this._computed[t]=i,this._sortComputedProperties();var s=l({},this._state),c={};i.update(s,c,!0),this._set(s,c)},fire:T,get:E,on:k,set:function(t){var e=this._state,n=this._changed={},r=!1;for(var o in t){if(this._computed[o])throw new Error("'".concat(o,"' is a read-only computed property"));this._differs(t[o],e[o])&&(n[o]=r=!0)}r&&this._set(t,n)}}),{App:yt,store:new wt({})}}));
