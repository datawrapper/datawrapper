/*! datawrapper - v1.25.0 */
(function(){function getDelimiterPatterns(a,b){return new RegExp("(\\"+a+"|\\r?\\n|\\r|^)(?:"+b+"([^"+b+"]*(?:"+b+'"[^'+b+"]*)*)"+b+"|([^"+b+"\\"+a+"\\r\\n]*))","gi")}var root=this,dw={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=dw),exports.dw=dw):window.dw=dw,dw.dataset=function(a,b){function c(a){for(var b=a.name(),c=b,e=1;d.hasOwnProperty(c);)c=b+"."+e++;c!=b&&a.name(c)}var d={},e=a.slice(0);_.each(a,function(a){c(a),d[a.name()]=a}),b=_.extend(b,{});var f={columns:function(){return a},column:function(b){if(_.isString(b)){if(void 0!==d[b])return d[b];throw'No column found with that name: "'+b+'"'}if(!(b<0)){if(void 0!==a[b])return a[b];throw"No column found with that index: "+b}},numColumns:function(){return a.length},numRows:function(){return a[0].length},eachColumn:function(b){_.each(a,b)},hasColumn:function(b){return void 0!==(_.isString(b)?d[b]:a[b])},indexOf:function(b){return f.hasColumn(b)?_.indexOf(a,d[b]):-1},list:function(){return _.range(a[0].length).map(function(b){var c={};return _.each(a,function(a){c[a.name()]=a.val(b)}),c})},toCSV:function(){var b="",c=",",d='"';return _.each(a,function(a,e){var f=a.title();f.indexOf(d)>-1&&f.replace(d,"\\"+d),f.indexOf(c)>-1&&(f=d+f+d),b+=(e>0?c:"")+f}),_.each(_.range(f.numRows()),function(e){b+="\n",_.each(a,function(a,f){var g=""+("date"==a.type()?a.raw(e):a.val(e));g.indexOf(d)>-1&&g.replace(d,"\\"+d),g.indexOf(c)>-1&&(g=d+g+d),b+=(f>0?c:"")+g})}),b},filterColumns:function(b){return a=_.filter(a,function(a){return!b[a.name()]}),_.each(b,function(a,b){a&&d[b]&&delete d[b]}),f},eachRow:function(a){var b;for(b=0;b<f.numRows();b++)a(b);return f},add:function(b){return c(b),a.push(b),d[b.name()]=b,e.push(b),f},reset:function(){return a=e.slice(0),d={},_.each(a,function(a){d[a.name()]=a}),f},limitRows:function(b){return _.each(a,function(a){a.limitRows(b)}),f},limitColumns:function(b){return a.length>b&&(a.length=b,e.length=b),f},columnOrder:function(b){return arguments.length?(a.length=0,b.forEach(function(b){a.push(e[b])}),f):a.map(function(a){return e.indexOf(a)})}};return f},dw.column=function(a,b,c){function d(a){return null!==a&&void 0!==a&&""!==a}function e(a){if(_.every(b,_.isNumber))return dw.column.types.number();if(_.every(b,_.isDate))return dw.column.types.date();var c,e=[dw.column.types.date(a),dw.column.types.number(a),dw.column.types.text()],f=b.filter(d).length;return _.each(b,function(a){_.each(e,function(b){b.parse(a)})}),_.every(e,function(a){return(a.errors()/f<.1||a.errors()<=1)&&(c=a),!c}),_.isUndefined(c)&&(c=e[2]),c}var f=_.shuffle(_.range(b.length)).filter(function(a){return d(b[a])}).slice(0,200).map(function(a){return b[a]});c=c?dw.column.types[c](f):e(f);var g,h,i,j=b.slice(0),k={name:function(){return arguments.length?(a=arguments[0],k):dw.utils.purifyHtml(a)},title:function(){return arguments.length?(i=arguments[0],k):dw.utils.purifyHtml(i||a)},length:b.length,val:function(a,d){if(arguments.length){var e=d?j:b;return a<0&&(a+=e.length),c.parse(dw.utils.purifyHtml(e[a]))}},values:function(a){var d=a?j:b;return d=_.map(d,function(a){return dw.utils.purifyHtml(a)}),_.map(d,c.parse)},each:function(a){for(var c=0;c<b.length;c++)a(k.val(c),c)},raw:function(a,c){return arguments.length?2===arguments.length?(b[a]=c,k):dw.utils.purifyHtml(b[a]):b},type:function(a){if(!0===a)return c;if(_.isString(a)){if(dw.column.types[a])return c=dw.column.types[a](f),k;throw new Error("unknown column type: "+a)}return c.name()},range:function(){return!!c.toNum&&(g||(g=[Number.MAX_VALUE,-Number.MAX_VALUE],k.each(function(a){a=c.toNum(a),_.isNumber(a)&&!_.isNaN(a)&&(a<g[0]&&(g[0]=a),a>g[1]&&(g[1]=a))}),g[0]=c.fromNum(g[0]),g[1]=c.fromNum(g[1])),g)},total:function(){return!!c.toNum&&(h||(h=0,k.each(function(a){h+=c.toNum(a)}),h=c.fromNum(h)),h)},filterRows:function(a){return b=[],arguments.length?_.each(a,function(a){b.push(j[a])}):b=j.slice(0),k.length=b.length,g=h=!1,k},toString:function(){return a+" ("+c.name()+")"},indexOf:function(a){return _.find(_.range(b.length),function(b){return k.val(b)===a})},limitRows:function(a){j.length>a&&(j.length=a,b.length=a,k.length=a)}};return k},dw.column.types={},dw.column.types.text=function(){return{parse:_.identity,errors:function(){return 0},name:function(){return"text"},formatter:function(){return _.identity},isValid:function(){return!0},format:function(){}}},dw.column.types.number=function(a){function b(a,b){return 0===a?0:Math.round(b-Math.ceil(Math.log(Math.abs(a))/Math.LN10))}var c,d=0,e={"-.":/^ *[-–—−]?[0-9]*(\.[0-9]+)?(e[+-][0-9]+)?%? *$/,"-,":/^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,",.":/^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\.[0-9]+)?%? *$/,".,":/^ *[-–—−]?[0-9]{1,3}(\.[0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(,[0-9]+)?%? *$/,"'.":/^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\.[0-9]+)?%? *$/},f={"-.":"1234.56","-,":"1234,56",",.":"1,234.56",".,":"1.234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"},g={na:1,"n/a":1,"-":1,":":1},h={},i=["-.",0];a=a||[],_.each(a,function(a){_.each(e,function(b,c){void 0===h[c]&&(h[c]=0),b.test(a)&&(h[c]+=1,h[c]>i[1]&&(i[0]=c,i[1]=h[c]))})}),c=i[0];var j={parse:function(a){if(_.isNumber(a)||_.isUndefined(a)||_.isNull(a))return a;var b=a.replace("%","").replace("−","-").replace("–","-").replace("—","-");return"-"!=c[0]&&(b=b.replace(new RegExp("."==c[0]?"\\.":c[0],"g"),"")),"."!=c[1]&&(b=b.replace(c[1],".")),isNaN(b)||""===b?(g[b.toLowerCase()]||""===b||d++,a):Number(b)},toNum:function(a){return a},fromNum:function(a){return a},errors:function(){return d},name:function(){return"number"},formatter:function(a){var c=a["number-format"]||"-",d=Number(a["number-divisor"]||0),e=(a["number-append"]||"").replace(/ /g," "),f=(a["number-prepend"]||"").replace(/ /g," ");return function(a,g,h){if(isNaN(a))return a;var i=c;if(0!==d&&"-"==i&&(i="n1"),0!==d&&(a=Number(a)/Math.pow(10,d)),"s"==i.substr(0,1)){var j=+i.substr(1);i="n"+Math.max(0,b(a,j))}if(h&&(i="n0"),"-"==i&&(i=dw.utils.equalish(a,Math.round(a))?"n0":dw.utils.equalish(a,.1*Math.round(10*a))?"n1":dw.utils.equalish(a,.01*Math.round(100*a))?"n2":dw.utils.equalish(a,.001*Math.round(1e3*a))?"n3":dw.utils.equalish(a,1e-4*Math.round(1e4*a))?"n4":dw.utils.equalish(a,1e-5*Math.round(1e5*a))?"n5":"n6"),a=Globalize.format(a,"-"!=i?i:null),f.indexOf("{+/-}")>-1){var k=Number(a.replace(/[^\d-]/g,""));k<0?(a=a.replace("-",""),f=f.replace("{+/-}","-")):f=k>0?f.replace("{+/-}","+"):f.replace("{+/-}","")}return g?f+a+e:a}},isValid:function(a){return""===a||g[String(a).toLowerCase()]||_.isNumber(j.parse(a))},ambiguousFormats:function(){var a=[];return _.each(h,function(b,c){b==i[1]&&a.push([c,f[c]])}),a},format:function(a){return arguments.length?(c=a,j):c}};return j},dw.column.types.date=function(){function a(){return new RegExp(g+Array.prototype.slice.call(arguments).join(" *")+h,"i")}function b(a,b){var c=q[b];return _.isRegExp(c.test)?c.test.test(a):c.test(a,b)}function c(a,b){var c=q[b];return _.isRegExp(c.parse)?a.match(c.parse):c.parse(a,b)}function d(a,b,c){var d=new Date(Date.UTC(a,0,3));return d.setUTCDate(3-d.getUTCDay()+7*(b-1)+parseInt(c,10)),d}function e(a){var b=a.getUTCDay(),c=new Date(a.valueOf());c.setDate(c.getDate()-(b+6)%7+3);var d=c.getUTCFullYear(),e=Math.floor((c.getTime()-new Date(d,0,1,-6))/864e5);return[d,1+Math.floor(e/7),b>0?b:7]}function f(a,b){return 12!=a?a+("pm"==b?12:0):"am"==b?0:12}var g=/^ */.source,h=/[\*']* *$/.source,i=/[ \-\/\.]?/.source,j=/[ \-\/\.]/.source,k=/[ \-\/\.,]/.source,l=/[ \-\|T]/.source,m=/[ \-\/\m]/.source,n={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(am|pm)?/}},o={0:["jan","january","januar","jänner","jän","janv","janvier","ene","enero","gen","gennaio","janeiro"],1:["feb","february","febr","februar","fév","févr","février","febrero","febbraio","fev","fevereiro"],2:["mar","mär","march","mrz","märz","mars","mars","marzo","marzo","março"],3:["apr","april","apr","april","avr","avril","abr","abril","aprile"],4:["may","mai","mayo","mag","maggio","maio","maj"],5:["jun","june","juni","juin","junio","giu","giugno","junho"],6:["jul","july","juli","juil","juillet","julio","lug","luglio","julho"],7:["aug","august","août","ago","agosto"],8:["sep","september","sept","septembre","septiembre","set","settembre","setembro"],9:["oct","october","okt","oktober","octobre","octubre","ott","ottobre","out","outubro"],10:["nov","november","november","novembre","noviembre","novembre","novembro"],11:["dec","december","dez","des","dezember","déc","décembre","dic","diciembre","dicembre","desember","dezembro"]},p={};_.each(o,function(a,b){_.each(a,function(a){p[a]=b})}),n.MMM={parse:new RegExp("("+_.flatten(_.values(o)).join("|")+")")},_.each(n,function(a,b){a.parse=a.parse.source,_.isRegExp(a.test)?a.test=a.test.source:a.test=a.parse});var q={YYYY:{test:a(n.YYYY2.test),parse:a(n.YYYY2.parse),precision:"year"},"YYYY-H":{test:a(n.YYYY.test,i,n.H.test),parse:a(n.YYYY.parse,i,n.H.parse),precision:"half"},"H-YYYY":{test:a(n.H.test,j,n.YYYY.test),parse:a(n.H.parse,j,n.YYYY.parse),precision:"half"},"YYYY-Q":{test:a(n.YYYY.test,i,n.Q.test),parse:a(n.YYYY.parse,i,n.Q.parse),precision:"quarter"},"Q-YYYY":{test:a(n.Q.test,j,n.YYYY.test),parse:a(n.Q.parse,j,n.YYYY.parse),precision:"quarter"},"YYYY-M":{test:a(n.YYYY.test,m,n.MM.test),parse:a(n.YYYY.parse,m,n.MM.parse),precision:"month"},"M-YYYY":{test:a(n.MM.test,j,n.YYYY.test),parse:a(n.MM.parse,j,n.YYYY.parse),precision:"month"},"YYYY-MMM":{test:a(n.YYYY.test,j,n.MMM.parse),parse:a(n.YYYY.parse,j,n.MMM.parse),precision:"month"},"MMM-YYYY":{test:a(n.MMM.parse,j,n.YYYY.test),parse:a(n.MMM.parse,j,n.YYYY.parse),precision:"month"},"MMM-YY":{test:a(n.MMM.parse,j,n.YY.test),parse:a(n.MMM.parse,j,n.YY.parse),precision:"month"},MMM:{test:a(n.MMM.parse),parse:a(n.MMM.parse),precision:"month"},"YYYY-WW":{test:a(n.YYYY.test,i,n.W.test),parse:a(n.YYYY.parse,i,n.W.parse),precision:"week"},"WW-YYYY":{test:a(n.W.test,j,n.YYYY.test),parse:a(n.W.parse,j,n.YYYY.parse),precision:"week"},"MM/DD/YY":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YY.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YY.parse),precision:"day"},"DD/MM/YY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YY.parse),precision:"day"},"MM/DD/YYYY":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YYYY.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MM/YYYY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YYYY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MMM/YYYY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MMM.test,"\\2",n.YYYY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MMM.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MMM/YY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MMM.test,"\\2",n.YY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MMM.parse,"\\2",n.YY.parse),precision:"day"},"YYYY-MM-DD":{test:a(n.YYYY.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.DD.test),parse:a(n.YYYY.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.DD.parse),precision:"day"},"MMM-DD-YYYY":{test:a(n.MMM.test,j,n.DD.test,k,n.YYYY.test),parse:a(n.MMM.parse,j,n.DD.parse,k,n.YYYY.parse),precision:"day"},"YYYY-WW-d":{test:a(n.YYYY.test,i,n.W.test,j,n.DOW.test),parse:a(n.YYYY.parse,i,n.W.parse,j,n.DOW.parse),precision:"day"},"MM/DD/YYYY HH:MM":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YYYY.test,l,n.HHMM.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YYYY.parse,l,n.HHMM.parse),precision:"day-minutes"},"DD.MM.YYYY HH:MM":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YYYY.test,l,n.HHMM.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YYYY.parse,l,n.HHMM.parse),precision:"day-minutes"},"YYYY-MM-DD HH:MM":{test:a(n.YYYY.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.DD.test,l,n.HHMM.test),parse:a(n.YYYY.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.DD.parse,l,n.HHMM.parse),precision:"day-minutes"},ISO8601:{test:/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d(\.\d+)?([+-][0-2]\d:[0-5]\d|Z)/,parse:function(a){return a},precision:"day-seconds"}};return function(a){var g,h=0,i={},j=["",0];a=a||[],_.each(q,function(c,d){_.each(a,function(a){void 0===i[d]&&(i[d]=0),b(a,d)&&(i[d]+=1,i[d]>j[1]&&(j[0]=d,j[1]=i[d]))})}),g=j[0];var k={parse:function(a){function e(a){return a=+a,a<30?2e3+a:1900+a}if(_.isDate(a)||_.isUndefined(a))return a;if(!g||!_.isString(a))return h++,a;var i=c(a.toLowerCase(),g);if(!i)return h++,a;b(a,g)||h++;var j=(new Date).getFullYear();switch(g){case"YYYY":return new Date(i[1],0,1);case"YYYY-H":return new Date(i[1],6*(i[2]-1),1);case"H-YYYY":return new Date(i[2],6*(i[1]-1),1);case"YYYY-Q":return new Date(i[1],3*(i[2]-1),1);case"Q-YYYY":return new Date(i[2],3*(i[1]-1),1);case"YYYY-M":return new Date(i[1],i[2]-1,1);case"M-YYYY":return new Date(i[2],i[1]-1,1);case"YYYY-MMM":return new Date(+i[1],p[i[2]],1);case"MMM-YYYY":return new Date(+i[2],p[i[1]],1);case"MMM-YY":return new Date(e(+i[2]),p[i[1]],1);case"MMM":return new Date(j,p[i[1]],1);case"YYYY-WW":return d(i[1],i[2],1);case"WW-YYYY":return d(i[2],i[1],1);case"YYYY-WW-d":return d(i[1],i[2],i[3]);case"YYYY-MM-DD":return new Date(i[1],i[3]-1,i[4]);case"DD/MM/YYYY":return new Date(i[4],i[3]-1,i[1]);case"DD/MMM/YYYY":return new Date(i[4],p[i[3]],i[1]);case"DD/MMM/YY":return new Date(e(i[4]),p[i[3]],i[1]);case"MM/DD/YYYY":return new Date(i[4],i[1]-1,i[3]);case"MM/DD/YY":return new Date(e(i[4]),i[1]-1,i[3]);case"DD/MM/YY":return new Date(e(i[4]),i[3]-1,i[1]);case"MMM-DD-YYYY":return new Date(i[3],p[i[1]],i[2]);case"YYYY-MM-DD HH:MM":return new Date(+i[1],i[3]-1,+i[4],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"DD.MM.YYYY HH:MM":return new Date(+i[4],i[3]-1,+i[1],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"MM/DD/YYYY HH:MM":return new Date(+i[4],i[1]-1,+i[3],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"ISO8601":return new Date(i.toUpperCase());default:console.warn("unknown format",g)}return h++,a},toNum:function(a){return a.getTime()},fromNum:function(a){return new Date(a)},errors:function(){return h},name:function(){return"date"},format:function(a){return arguments.length?(g=a,k):g},precision:function(){return q[g].precision},formatter:function(a){if(!g)return _.identity;var b=Globalize.culture().calendar.patterns.M.replace("MMMM","MMM");switch(q[g].precision){case"year":return function(a){return _.isDate(a)?a.getFullYear():a};case"half":return function(a){return _.isDate(a)?a.getFullYear()+" H"+(a.getMonth()/6+1):a};case"quarter":return function(a){return _.isDate(a)?a.getFullYear()+" Q"+(a.getMonth()/3+1):a};case"month":return function(a){return _.isDate(a)?Globalize.format(a,"MMM yy"):a};case"week":return function(a){return _.isDate(a)?e(a).slice(0,2).join(" W"):a};case"day":return function(a,b){return _.isDate(a)?Globalize.format(a,b?"D":"d"):a};case"day-minutes":return function(a){return _.isDate(a)?Globalize.format(a,b).replace(" ","&nbsp;")+" - "+Globalize.format(a,"t").replace(" ","&nbsp;"):a};case"day-seconds":return function(a){return _.isDate(a)?Globalize.format(a,"T").replace(" ","&nbsp;"):a}}},isValid:function(a){return _.isDate(k.parse(a))},ambiguousFormats:function(){var a=[];return _.each(i,function(b,c){b==j[1]&&a.push([c,c])}),a}};return k}}(),dw.datasource={},dw.datasource.delimited=function(a){function b(){if(a.url){var b=(window.location.hostname||"").split("."),c="";if(b.length>=2)var c=b[b.length-2]+"."+b[b.length-1];return $.ajax({url:a.url+(a.url.indexOf("?")>-1?"&":"?")+"v="+(new Date).getTime(),method:"GET",dataType:"text",xhrFields:{withCredentials:a.url.indexOf(c)>-1}}).then(function(b){return new DelimitedParser(a).parse(b)})}if(a.csv||""===a.csv){var d=$.Deferred(),e=d.then(function(b){return new DelimitedParser(a).parse(b)});return d.resolve(a.csv),e}throw"you need to provide either an URL or CSV data."}return{dataset:b,parse:function(){return new DelimitedParser(a).parse(a.csv)}}};var DelimitedParser=function(a){a=_.extend({delimiter:"auto",quoteChar:'"',skipRows:0,emptyValue:null,transpose:!1,firstRowIsHeader:!0},a),this.__delimiterPatterns=getDelimiterPatterns(a.delimiter,a.quoteChar),this.opts=a};_.extend(DelimitedParser.prototype,{parse:function(a){function b(a,b,c){c=c||",";for(var d,e=[[]],f=null;f=a.exec(b);){var g=f[1];g.length&&g!=c&&e.push([]),d=f[2]?f[2].replace(new RegExp('""',"g"),'"'):f[3],e[e.length-1].push(d)}e[0][0].substr(0,1)==h&&(e[0][0]=e[0][0].substr(1));var i=e.length-1,j=e[i].length-1,k=e[i][j].length-1;return e[i][j].substr(k)==h&&(e[i][j]=e[i][j].substr(0,k)),e.slice(1)}function c(a){var b=a,c=b.length?b.length:0,d=b[0]instanceof Array?b[0].length:0;if(0===d||0===c)return[];var e,f,g=[];for(e=0;e<d;e++)for(g[e]=[],f=0;f<c;f++)g[e][f]=b[f][e];return g}function d(a){var b=[],c={},d=a.length,e=a[0].length,g=f.skipRows,h=[];f.firstRowIsHeader&&(h=a[g],g++);for(var i=0;i<e;i++){var j=_.isString(h[i])?h[i].replace(/^\s+|\s+$/g,""):"",k=""!==j?"":1;for(j=""!==j?j:"X.";void 0!==c[j+k];)k=""===k?1:k+1;b.push({name:j+k,data:[]}),c[j+k]=!0}return _.each(_.range(g,d),function(c){_.each(b,function(b,d){b.data.push(""!==a[c][d]?a[c][d]:f.emptyValue)})}),b=_.map(b,function(a){return dw.column(a.name,a.data)}),dw.dataset(b)}var e=this,f=this.opts;e.__rawData=a,"auto"==f.delimiter&&(f.delimiter=e.guessDelimiter(a,f.skipRows),e.__delimiterPatterns=getDelimiterPatterns(f.delimiter,f.quoteChar));var g,h="|"!=f.delimiter?"|":"#";return a=h+"\n"+a.replace(/\s+$/g,"")+h,g=b(this.__delimiterPatterns,a,f.delimiter),f.transpose&&(g=c(g)),d(g)},guessDelimiter:function(a){var b=0,c=-1,d=this,e=["\t",";","|",","];return _.each(e,function(e,f){var g=getDelimiterPatterns(e,d.quoteChar),h=a.match(g).length;"\t"==e&&(h*=1.15),h>b&&(b=h,c=f)}),e[c]}}),dw.datasource.json=function(a){function b(){if(a.url);else if(a.csv||a.json){var b=$.Deferred(),c=b.then(function(a){return JSON.parse(a)});return b.resolve(a.csv||a.json),c}throw"you need to provide either an URL or CSV data."}return{dataset:b,parse:function(){return JSON.parse(a.csv||a.json)}}},dw.utils={minMax:function(a){var b=[Number.MAX_VALUE,-Number.MAX_VALUE];return _.each(a,function(a){b[0]=Math.min(b[0],a.range()[0]),b[1]=Math.max(b[1],a.range()[1])}),b},dateFormat:function(a){function b(a){return function(b){d=!e||b.getMonth()!=e.getMonth(),e=b;for(var c=a.length-1,f=a[c];!f[1](b);)f=a[--c];return f[0](b)}}function c(a){return function(b){var c=Globalize.format(b,a);return"htt"!=a?c:c.toLowerCase()}}var d=!0,e=!1,f=function(a){return{date:"de"==a?"dd.":"dd",hour:"en"!=a?"H:00":"htt",minute:"de"==a?"H:mm":"h:mm",mm:"de"==a?"d.M.":"MM/dd",mmm:"de"==a?"d.MMM":"MMM dd",mmmm:"de"==a?"d. MMMM":"MMMM dd"}}(Globalize.culture().language);return b([[c("yyyy"),function(){return!0}],[c("MMM"),function(a){return 0!==a.getMonth()}],[c(f.date),function(a){return 1!=a.getDate()}],[c(a<7?f.mm:f.mmm),function(a){return 1!=a.getDate()&&d}],[c(f.hour),function(a){return a.getHours()}],[c(f.minute),function(a){return a.getMinutes()}],[c(":ss"),function(a){return a.getSeconds()}],[c(".fff"),function(a){return a.getMilliseconds()}]])},longDateFormat:function(a){return function(b){if("date"!=a.type())return b;switch(a.type(!0).precision()){case"year":return b.getFullYear();case"quarter":return b.getFullYear()+" Q"+(b.getMonth()/3+1);case"month":return Globalize.format(b,"MMM yy");case"day":return Globalize.format(b,"MMM d");case"minute":return Globalize.format(b,"t");case"second":return Globalize.format(b,"T")}}},columnNameColumn:function(a){var b=_.map(a,function(a){return a.title()});return dw.column("",b)},name:function(a){return _.isFunction(a.name)?a.name():_.isString(a.name)?a.name:a},getNonChartHeight:function(){function a(a,b){return getComputedStyle($(a).get(0))[b].replace("px","")}var b=0;$("body > *").each(function(a,c){function d(a){return f.split(" ").indexOf(a)>-1}var e=c.tagName.toLowerCase(),f=$(c).attr("class")||"";"script"==e||"style"==e||"chart"==c.id||$(c).attr("aria-hidden")||d("tooltip")||d("vg-tooltip")||d("hidden")||d("qtip")||d("container")||d("noscript")||d("hidden")||d("filter-ui")||d("dw-chart-body")||(b+=Number($(c).outerHeight(!0)))});var c=["padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width"];return["body","body #chart"].forEach(function(d){c.forEach(function(c){b+=Number(a(d,c))})}),b},getMaxChartHeight:function(){var a=$(window).height()-8;return a-=dw.utils.getNonChartHeight()},purifyHtml:function(a,b){function c(a,b){if(null===a)return null;if(a=String(a),a.indexOf("<")<0||a.indexOf(">")<0)return a;if(a=d(a,b),"undefined"==typeof document)return a;var c=document.createElement("div");c.innerHTML=a;for(var e=c.querySelectorAll("*"),f=0;f<e.length;f++){"a"===e[f].nodeName.toLowerCase()&&("_self"!==e[f].getAttribute("target")&&e[f].setAttribute("target","_blank"),e[f].setAttribute("rel","nofollow noopener noreferrer"));for(var g=0;g<e[f].attributes.length;g++){var h=e[f].attributes[g];h.specified&&"on"==h.name.substr(0,2)&&e[f].removeAttribute(h.name)}}return c.innerHTML}function d(a,b){b=(((void 0!==b?b||"":g)+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var c=a,d=a;;)if(c=d,d=c.replace(f,"").replace(e,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""}),c===d)return d}var e=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,f=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,g="<a><b><br><br/><i><strong><sup><sub><strike><u><em><tt>";return dw.utils.purifyHtml=c,c(a,b)},significantDimension:function(a){function b(a){return dw.utils.round(a,f)}var c,d,e=[],f=0,g=_.uniq(a),h=g.length,i=Math.floor(.8*h);if(g.length<3)return Math.round(g.reduce(function(a,b){if(!b)return a;var c=Math.log(Math.abs(b))/Math.LN10;return c<8&&c>-3?a+Math.min(3,dw.utils.tailLength(g[0])):a+(c>0?-1*(c-1):-1*c)},0)/g.length);_.uniq(_.map(g,b)).length>i?(c=function(){return _.uniq(e).length==h},d=-1):(c=function(){return _.uniq(e).length<=i},d=1);var j=100;do{e=_.map(g,b),f+=d}while(c()&&j-- >0);return j<10&&console.warn("maximum iteration reached",a,e,f),d<0?f+=2:f--,f},tailLength:function(a){return String(a-Math.floor(a)).replace(/00000*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2},round:function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},smartRound:function(a,b){var c=dw.utils.significantDimension(a);return c+=b||0,_.map(a,function(a){return dw.utils.round(a,c)})},nearest:function(a,b){var c,d=Number.MAX_VALUE;return _.each(a,function(a){var e=Math.abs(a-b);e<d&&(d=e,c=a)}),c},metricSuffix:function(a){switch(a.substr(0,2).toLowerCase()){case"de":return{3:" Tsd.",6:" Mio.",9:" Mrd.",12:" Bio."};case"fr":return{3:" mil",6:" Mio",9:" Mrd"};case"es":return{3:" Mil",6:" millón"};default:return{3:"k",6:"M",9:" bil"}}},magnitudeRange:function(a){var b=Math.round(Math.log(a[0])/Math.LN10);return Math.round(Math.log(a[1])/Math.LN10)-b},logTicks:function(a,b){var c=Math.round(Math.log(a)/Math.LN10),d=Math.round(Math.log(b)/Math.LN10);return _.map(_.range(c,d),function(a){return Math.pow(10,a)})},clone:function(a){try{return JSON.parse(JSON.stringify(a))}catch(a){}return a},equalish:function(a,b){return a-b<1e-6}},dw.utils.filter=function(a,b,c,d){function e(b){_.each(g,function(c){_.isFunction(c)&&c(a.val(b),b)})}function f(c){var d;return"auto"==c&&(c="date"==a.type()?"timescale":a.length<6?"buttons":"select"),a.length<2?function(){return!1}:("select"==c&&(d=function(b){var c=$("<select />");return a.each(function(b,d){var e=a.raw()[d];e&&c.append('<option value="'+d+'">'+(_.isString(e)?$.trim(e):e)+"</option>")}),c.change(function(a){e(c.val())}),c.addClass("filter-ui filter-select"),c}),"buttons"==c&&(d=function(c){var d=$("<div />");d.addClass("filter-ui filter-links"),a.each(function(c,e){var f=a.raw()[e];if(f){var g=$('<a href="#'+e+'"'+(e==b?' class="active" ':"")+">"+(_.isString(f)?$.trim(f):f)+"</a>").data("row",e);d.append(g)}}),$("a",d).click(function(a){var b=$(a.target);a.preventDefault(),b.hasClass("active")||($("a",d).removeClass("active"),b.addClass("active"),e(b.data("row")))}),d.appendTo("body");var g=$("a:first",d).offset().top+$("a:first",d).height();return $("a:last",d).offset().top+$("a:last",d).height()-g>1?(d.remove(),f("select")(c)):d}),"timescale"==c&&(d=function(b){function c(b,c){return b*(1-(a.val(-1).getTime()-c.getTime())/864e5/daysDelta)}var d=Math.min(b.__w-35);timesel=$("<div></div>").css({position:"relative",height:45,"margin-left":3}).addClass("filter-ui"),daysDelta=Math.round((a.val(-1).getTime()-a.val(0).getTime())/864e5);for(var f=0,g=0;g<a.length;g++){var h=$('<div class="point"></div>');h.data("row",g),h.css("left",c(d,a.val(g))+"px"),timesel.append(h);var i=$('<div class="point-label">'+a.raw()[g]+"</div>");i.css("left",c(d,a.val(g))+"px"),timesel.append(i),0==g&&h.addClass("active");var j=c(d,a.val(g));j>f&&(h,f=j)}var k=f;return timesel.append('<div class="line"></div>'),$(".line",timesel).width(k),$(".point",timesel).click(function(a){var b=$(a.target);a.preventDefault(),b.hasClass("active")||($(".point",timesel).removeClass("active"),b.addClass("active"),e(b.data("row")))}),timesel}),d)}var g=[];return c=c||"auto",d=d||_.identity,"auto"==c&&("date"==a.type()?c="timescale":"text"==a.type()&&(c=a.length<6?"buttons":"select")),{ui:f(c),change:function(a){g.push(a)}}},dw.chart=function(attributes){function reorderColumns(a){var b=chart.get("metadata.data.column-order",[]);return b.length&&b.length==a.numColumns()&&a.columnOrder(b),a}function applyChanges(a){var b=chart.get("metadata.data.changes",[]),c=chart.get("metadata.data.transpose",!1);_.each(b,function(b){var d="row",e="column";if(c&&(d="column",e="row"),a.hasColumn(b[e]))if(0===b[d]){if(b.previous){const f=a.column(b[e]).title();if(f!==b.previous)return}a.column(b[e]).title(b.value)}else{if(b.previous){const g=a.column(b[e]).raw(b[d]-1);if(g!==b.previous)return}a.column(b[e]).raw(b[d]-1,b.value)}});var d=chart.get("metadata.data.column-format",{});return _.each(d,function(b,c){b.type&&a.hasColumn(c)&&"auto"!=b.type&&a.column(c).type(b.type),b["input-format"]&&a.hasColumn(c)&&a.column(c).type(!0).format(b["input-format"])}),a}function addComputedColumns(dataset){function add_computed_column(formula,name){var datefmt=function(a){return a.getFullYear()+"-"+left_pad(1+a.getMonth(),2,0)+"-"+left_pad(1+a.getDate(),2,0)},values=data.map(function(row,row_i){var context=[];return context.push("var __row = "+row_i+";"),_.each(row,function(a,b){columnNameToVar[b]&&(context.push("var "+columnNameToVar[b]+" = "+JSON.stringify(a)+";"),"number"==dataset.column(b).type()&&(context.push("var "+columnNameToVar[b]+"__sum = "+col_aggregates[b].sum+";"),context.push("var "+columnNameToVar[b]+"__min = "+col_aggregates[b].min+";"),context.push("var "+columnNameToVar[b]+"__max = "+col_aggregates[b].max+";"),context.push("var "+columnNameToVar[b]+"__mean = "+col_aggregates[b].mean+";"),context.push("var "+columnNameToVar[b]+"__median = "+col_aggregates[b].median+";")))}),context.push("var max = Math.max, min = Math.min;"),function(){try{return eval(this.context.join("\n")+"\n"+formula)}catch(a){return console.warn(a),"n/a"}}.call({context:context})}).map(function(a){return _.isBoolean(a)?a?"yes":"no":_.isDate(a)?datefmt(a):_.isNumber(a)?""+a:String(a)}),v_col=dw.column(name,values);v_col.isComputed=!0,dataset.add(v_col)}function column_name_to_var(a){return a.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/-/g,"_").replace(/\_\_+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(abstract|arguments|await|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|eval|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|let|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var|void|volatile|while|window|with|yield)$/,"$1_")}function d3_min(a){var b,c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){b=c;break}for(;++d<e;)null!=(c=a[d])&&b>c&&(b=c)}return b}function d3_max(a){var b,c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){b=c;break}for(;++d<e;)null!=(c=a[d])&&c>b&&(b=c)}return b}function d3_sum(a){var b,c=0,d=a.length,e=-1;if(1===arguments.length)for(;++e<d;)d3_numeric(b=+a[e])&&(c+=b);return c}function d3_mean(a){for(var b,c=0,d=a.length,e=-1,f=d;++e<d;)d3_numeric(b=d3_number(a[e]))?c+=b:--f;if(f)return c/f}function d3_median(a){var b,c=[],d=a.length,e=-1;if(1===arguments.length)for(;++e<d;)d3_numeric(b=d3_number(a[e]))&&c.push(b);if(c.length)return d3_quantile(c.sort(d3_ascending),.5)}function d3_quantile(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e}function d3_number(a){return null===a?NaN:+a}function d3_numeric(a){return!isNaN(a)}function d3_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function left_pad(a,b,c){for(a=String(a);a.length<b;)a=String(c)+a;return a}var v_columns=chart.get("metadata.describe.computed-columns",{}),data=dataset.list(),columnNameToVar={},col_aggregates={};return dataset.eachColumn(function(a){a.isComputed||(columnNameToVar[a.name()]=column_name_to_var(a.name()),"number"==a.type()&&(col_aggregates[a.name()]={min:d3_min(a.values()),max:d3_max(a.values()),sum:d3_sum(a.values()),mean:d3_mean(a.values()),median:d3_median(a.values())}))}),_.each(v_columns,add_computed_column),dataset}function is_equal(a,b){return JSON.stringify(a)==JSON.stringify(b)}var dataset,theme,visualization,metric_prefix,change_callbacks=$.Callbacks(),dataset_change_callbacks=$.Callbacks(),locale,_ds,chart={get:function(a,b){var c=a.split("."),d=attributes;return _.some(c,function(a){return!(!_.isUndefined(d)&&!_.isNull(d))||(d=d[a],!1)}),_.isUndefined(d)||_.isNull(d)?b:d},set:function(a,b){var c=a.split("."),d=c.pop(),e=attributes;return _.each(c,function(a){(_.isUndefined(e[a])||_.isNull(e[a]))&&(e[a]={}),e=e[a]}),is_equal(e[d],b)||(e[d]=b,change_callbacks.fire(chart,a,b)),this},load:function(a,b){var c,d={firstRowIsHeader:chart.get("metadata.data.horizontal-header",!0),transpose:chart.get("metadata.data.transpose",!1)};return!a&&""!==a||b?d.url=b||"data.csv":d.csv=a,c=chart.get("metadata.data.json")?dw.datasource.json(d):dw.datasource.delimited(d),c.dataset().pipe(function(a){return chart.dataset(a),dataset_change_callbacks.fire(chart,a),a})},dataset:function(a){return arguments.length?(!0!==a&&(_ds=a),dataset=chart.get("metadata.data.json")?_ds:reorderColumns(applyChanges(addComputedColumns(_ds))),!0===a?dataset:chart):dataset},theme:function(a){return arguments.length?(theme=a,chart):theme||{}},vis:function(a){return arguments.length?(visualization=a,visualization.chart(chart),chart):visualization},hasHighlight:function(){var a=chart.get("metadata.visualize.highlighted-series");return _.isArray(a)&&a.length>0},isHighlighted:function(a){if(void 0===_.isUndefined(a))return!1;var b=this.get("metadata.visualize.highlighted-series"),c=dw.utils.name(a);return!_.isArray(b)||0===b.length||_.indexOf(b,c)>=0},locale:function(a,b){return arguments.length?(locale=a.replace("_","-"),window.Globalize&&(Globalize.cultures.hasOwnProperty(locale)?(Globalize.culture(locale),"function"==typeof b&&b()):$.getScript("/static/vendor/globalize/cultures/globalize.culture."+locale+".js",function(){chart.locale(locale),"function"==typeof b&&b()})),chart):locale},metricPrefix:function(a){
return arguments.length?(metric_prefix=a,chart):metric_prefix},formatValue:function(a,b,c){var d=chart.get("metadata.describe.number-format"),e=Number(chart.get("metadata.describe.number-divisor")),f=chart.get("metadata.describe.number-append","").replace(" ","&nbsp;"),g=chart.get("metadata.describe.number-prepend","").replace(" ","&nbsp;");return 0!==e&&(a=Number(a)/Math.pow(10,e)),"-"!=d?((c||a==Math.round(a))&&(d=d.substr(0,1)+"0"),a=Globalize.format(a,d)):0!==e&&(a=a.toFixed(1)),b?g+a+f:a},render:function(a){if(!visualization||!theme||!dataset)throw"cannot render the chart!";visualization.chart(chart),visualization.__init();var b=$(a);b.parent().addClass("vis-"+visualization.id).addClass("theme-"+theme.id),visualization.render(b)},attributes:function(a){return arguments.length?(attributes=a,chart):attributes},onChange:change_callbacks.add,onDatasetChange:dataset_change_callbacks.add,columnFormatter:function(a){var b=chart.get("metadata.data.column-format",{});if(b=_.clone(b[a.name()]||{type:"auto","number-format":"auto"}),"number"==a.type()&&("auto"==b||void 0===b["number-format"]||"auto"==b["number-format"])){var c=a.values(),d=dw.utils.significantDimension(c);b["number-format"]="n"+Math.max(0,d)}return a.type(!0).formatter(b)},dataCellChanged:function(a,b){var c=chart.get("metadata.data.changes",[]),d=chart.get("metadata.data.transpose",!1),e=!1;return _.each(c,function(c){var f="row",g="column";d&&(f="column",g="row"),a==c[g]&&c[f]==b&&(e=!0)}),e}};return chart},dw.visualization=function(){var a={},b=function(b){if(!a[b]){console.warn("unknown visualization type: "+b);var c=_.keys(a);return c.length>0&&console.warn("try one of these instead: "+c.join(", ")),!1}return new a[b]};return b.register=function(b){var c=3===arguments.length?a[arguments[1]].prototype:dw.visualization.base,d=arguments[arguments.length-1],e=a[b]=function(){};_.extend(e.prototype,c,{id:b},d)},b.has=function(b){return void 0!==a[b]},b}(),dw.visualization.base=function(){}.prototype,_.extend(dw.visualization.base,{__init:function(){return this.__renderedDfd=$.Deferred(),this.__rendered=!1,this.__colors={},this.__callbacks={},window.parent&&window.parent.postMessage&&window.parent.postMessage("datawrapper:vis:init","*"),this},render:function(a){$(a).html("implement me!")},theme:function(a){if(!arguments.length)return this.__theme;this.__theme=a;var b=["horizontalGrid","verticalGrid","yAxis","xAxis"];return _.each(b,function(b){if(a.hasOwnProperty(b))for(var c in a[b]){var d=c.replace(/([A-Z])/g,"-$1").toLowerCase();a[b].hasOwnProperty(d)||(a[b][d]=a[b][c])}}),this},size:function(a,b){var c=this;return arguments.length?(c.__w=a,c.__h=b,c):[c.__w,c.__h]},get:function(a,b){return this.chart().get("metadata.visualize"+(a?"."+a:""),b)},notify:function(a){if(dw.backend&&_.isFunction(dw.backend.notify))return dw.backend.notify(a);window.parent&&window.parent.postMessage?window.parent.postMessage("notify:"+a,"*"):window.console&&console.log(a)},signature:function(){},translate:function(a){return this.meta.locale[a]||a},checkBrowserCompatibility:function(){return!0},chart:function(a){var b=this;if(!arguments.length)return b.__chart;b.dataset=a.dataset(),b.theme(a.theme()),b.__chart=a;var c=a.get("metadata.data.column-format",{}),d={};return _.each(c,function(a,b){d[b]=!!a.ignore}),b.dataset.filterColumns&&b.dataset.filterColumns(d),b},axes:function(a,b){function c(a){_.isArray(a)||(a=[a]);for(var b=0;b<a.length;b++)if(!f.hasColumn(a[b]))return!1;return!0}var d=this;if(!b&&d.__axisCache)return d.__axisCache[a?"axesAsColumns":"axes"];var e,f=d.dataset,g={},h={},i={},j=[];e=d.chart().get("metadata.axes",{}),_.each(d.meta.axes,function(a,b){if(e[b]){var d=e[b];c(d)&&(h[b]=d,_.isArray(d)||(d=[d]),_.each(d,function(a){g[a]=!0}))}});var k=[];_.each(d.meta.axes,function(a,b){function c(b){return!g[b.name()]&&_.indexOf(a.accepts,b.type())>=0}function e(){var c=dw.backend?dw.backend.messages.insufficientData:"The visualization needs at least one column of the type %type to populate axis %key";j.push(c.replace("%type",a.accepts).replace("%key",b))}function i(a){function b(a,b){if(void 0===a&&void 0!==b)return!1;if(void 0===b&&void 0!==a)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(-1===b.indexOf(a[c]))return!1;return!0}var c=0;return _.each(d.meta.axes,function(d,e){if(!(k.indexOf(e)>-1)&&b(d.accepts,a)&&"string"!=typeof c&&!d.optional)return d.multiple?void(c="multiple"):void(c+=1)}),c}function l(a,b){var d=0;return a.eachColumn(function(a,b){c(a)&&d++}),d}if(k.push(b),!h[b])if(a.optional)h[b]=!1;else if(a.multiple){var m=i(a.accepts),n=l(f);h[b]=[],f.eachColumn(function(a){"multiple"===m&&h[b].length||n<=m||c(a)&&(g[a.name()]=!0,h[b].push(a.name()),n--)}),h[b].length||e()}else{var o,p=_.filter(f.columns(),c);if(a.preferred){var q=new RegExp(a.preferred,"i");o=_.find(p,function(a){return q.test(a.name())||a.title()!==a.name()&&q.test(a.title())})}if(o||(o=p[0]),o)g[o.name()]=!0,h[b]=o.name();else if(_.indexOf(a.accepts,"text")>=0){var r=dw.column(b,_.map(_.range(f.numRows()),function(a){return(a>25?String.fromCharCode(64+a/26):"")+String.fromCharCode(65+a%26)}),"text");f.add(r),d.chart().dataset(f),g[r.name()]=!0,h[b]=r.name()}else e()}});var l=0;for(var m in g)g[m]&&l++;if(l<f.numColumns()){j.push("Your dataset contains more columns than the chosen chart type can display. You can switch the column to show in the <b>Refine</b> tab, or choose a different chart type.")}return j.length&&d.notify(j.join("<br />")),_.each(h,function(a,b){_.isArray(a)?(i[b]=[],_.each(a,function(a,c){i[b][c]=!1!==a?d.dataset.column(a):null})):i[b]=!1!==a?d.dataset.column(a):null}),d.__axisCache={axes:h,axesAsColumns:i},d.axes(a)},keys:function(){var a=this,b=a.axes();if(b.labels){var c=a.dataset.column(b.labels),d=a.chart().columnFormatter(c),e=[];return c.each(function(a){e.push(String(d(a)))}),e}return[]},keyLabel:function(a){return a},reset:function(){this.clear(),$("#chart").html("").off("click").off("mousemove").off("mouseenter").off("mouseover"),$(".chart .filter-ui").remove(),$(".chart .legend").remove()},clear:function(){},renderingComplete:function(){window.parent&&window.parent.postMessage&&setTimeout(function(){window.parent.postMessage("datawrapper:vis:rendered","*")},200),this.__renderedDfd.resolve(),this.__rendered=!0,this.postRendering()},postRendering:function(){function a(){var a=b.options.watermark.text||"CONFIDENTIAL";$(".watermark","#chart").remove(),$(".dw-chart-body").append('<div class="export-text watermark noscript"><span>'+a+"</span></div>"),$(".watermark","#chart").css("font-size","6px");var c=$(".watermark","#chart"),d=c[0].getBoundingClientRect().width,e=Math.sqrt(Math.pow(window.innerHeight,2)+Math.pow(window.innerWidth,2)),f=.7*e/d*6,g=Math.atan(window.innerHeight/window.innerWidth),h="rotate("+-g+"rad)";c.attr("data-rotate",-1*g*180/Math.PI).css("font-size",f);var i=c[0].getBoundingClientRect().height;d=c[0].getBoundingClientRect().width;var j=(e-d)*Math.cos(g),k=(e-d)*Math.sin(g);c.css("transform",h).css("bottom",-i/2+k/2+"px").css("left",j/2+"px")}var b=this.theme();this.theme()&&this.theme().options&&this.theme().options.watermark&&(a(),$(window).off("resize",a).on("resize",a))},rendered:function(){return this.__renderedDfd.promise()},supportsSmartRendering:function(){return!1},_svgCanvas:function(){return!1},colorMap:function(){var a=this;return function(b){return a.__colors[b]=1,window.__dw&&window.__dwColorMap?window.__dwColorMap(b):b}},colorsUsed:function(){return Object.keys(this.__colors)},on:function(a,b){this.__callbacks[a]||(this.__callbacks[a]=[]),this.__callbacks[a].push(b)},fire:function(a,b){this.__callbacks[a]&&this.__callbacks[a].forEach(function(a){"function"==typeof a&&a(b)})}}),dw.theme=function(){function a(){var c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length;for("object"==typeof h||_.isFunction(h)||(h={});i<j;i++)if(null!=(c=arguments[i]))for(d in c)e=h[d],f=c[d],h!==f&&(f&&b(f)?(g=e&&b(e)?e:{},h[d]=a(g,f)):void 0!==f&&(h[d]=f));return h}function b(a){return _.isObject(a)&&!_.isArray(a)&&!_.isFunction(a)}var c={},d=function(a){return c[a]};return d.register=function(b){var d=3==arguments.length?c[arguments[1]]:dw.theme.base,e=arguments[arguments.length-1];c[b]=a({},d,{id:b},e)},d}(),dw.theme.base={colors:{palette:["#6E7DA1","#64A4C4","#53CCDD","#4EF4E8"],picker:{rowCount:6,controls:{hexEditable:!0,hue:!0,saturation:!0,lightness:!0}},secondary:[],positive:"#85B4D4",negative:"#E31A1C",neutral:"#CCCCCC",background:"#ffffff",text:"#333333",gradients:[["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],["#fefaca","#008b15"],["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],["#8c510a","#d8b365","#f6e8c3","#f5f7ea","#c7eae5","#5ab4ac","#01665e"],["#c51b7d","#e9a3c9","#fde0ef","#faf6ea","#e6f5d0","#a1d76a","#4d9221"],["#b2182b","#ef8a62","#fddbc7","#f8f6e9","#d1e5f0","#67a9cf","#2166ac"]],categories:[["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"],["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]]},annotation:{background:"#000",opacity:.08},padding:{left:0,right:20,bottom:30,top:10},lineChart:{strokeWidth:3,maxLabelWidth:80,fillOpacity:.2,xLabelOffset:20},columnChart:{cutGridLines:!1,barAttrs:{"stroke-width":1},darkenStroke:18},barChart:{barAttrs:{"stroke-width":1}},xAxis:{stroke:"#333"},yAxis:{strokeWidth:1},horizontalGrid:{stroke:"#d9d9d9"},verticalGrid:!1,frame:!1,frameStrokeOnTop:!1,yTicks:!1,hover:!0,tooltip:!0,hpadding:0,vpadding:10,minWidth:100,locale:"de_DE",duration:1e3,easing:"expoInOut"}}).call(this);